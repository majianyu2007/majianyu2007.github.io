<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>2025.10.28 C语言程序设计上机实习二</title>
    <url>/2025/10/28/2025.10.28%20C%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E4%B8%8A%E6%9C%BA%E5%AE%9E%E4%B9%A0%E4%BA%8C/</url>
    <content><![CDATA[<h1 id="2025-10-28-C语言程序设计上机实习二"><a href="#2025-10-28-C语言程序设计上机实习二" class="headerlink" title="2025.10.28 C语言程序设计上机实习二"></a>2025.10.28 C语言程序设计上机实习二</h1><h2 id="题目一：内存图的绘制"><a href="#题目一：内存图的绘制" class="headerlink" title="题目一：内存图的绘制"></a>题目一：内存图的绘制</h2><p>实际输出结果：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">s13665@ubuntu:~/codes/20251028$ ./question1</span><br><span class="line">Address of ch: 0x7ffeaee82527, Value: X</span><br><span class="line">Address of arr: 0x7ffeaee82530, arr[0]: 10</span><br><span class="line">Address of arr[1]: 0x7ffeaee82534, Value: 20</span><br><span class="line">Address of arr[2]: 0x7ffeaee82538, Value: 30</span><br><span class="line">Address of num: 0x7ffeaee82528, Value: 100</span><br><span class="line">Address of f: 0x7ffeaee8252c, Value: 3.140000</span><br></pre></td></tr></table></figure>

<p>内存布局图:<img data-src="/./../images/image-20251028192056596.png" alt="image-20251028192056596"></p>
<h2 id="题目二：运算符与表达式求值的逆向解析"><a href="#题目二：运算符与表达式求值的逆向解析" class="headerlink" title="题目二：运算符与表达式求值的逆向解析"></a>题目二：运算符与表达式求值的逆向解析</h2><p>程序的完整源代码：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">10</span>, b=<span class="number">3</span>, c=<span class="number">0</span>; <span class="comment">//声明变量</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//Step1 输出原始值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Initial values: a=%d, b=%d, c=%d\n&quot;</span>, a, b, c);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Step2 计算a / b并输出</span></span><br><span class="line">    c = a / b; <span class="comment">//执行除法运算，并将结果赋给 c</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After a / b: c=%d, a=%d, b=%d\n&quot;</span>, c, a, b);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Step3 计算a % b并输出</span></span><br><span class="line">    c = a % b; <span class="comment">//执行取余运算，并将结果赋给 c</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After a %% b: c=%d, a=%d, b=%d\n&quot;</span>, c, a, b);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Step4 a前置自增并输出</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After ++a: c=%d, a=%d, b=%d\n&quot;</span>, c, ++a, b); <span class="comment">//a自增，在输出a之前对a执行自增运算</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//Step5 b后置自减并输出</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After b--: c=%d, a=%d, b=%d\n&quot;</span>, c, a, b--); <span class="comment">//在输出b之后对b执行自减运算</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//Step6 使c赋值为a后置自增与b前置自减的积并输出</span></span><br><span class="line">    c = a++ * --b; <span class="comment">//a自增，但不立即改变；b自减，立即改变</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After c = a++ * --b: c=%d, a=%d, b=%d\n&quot;</span>, c, a, b);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Step7 输出最终结果</span></span><br><span class="line">    <span class="comment">//在Step4-6中，自增自减操作均独立成行，没有对输出造成影响</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Final values: a=%d, b=%d, c=%d\n&quot;</span>, a, b, c);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>程序的实际运行输出：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">s13665@ubuntu:~/codes/20251028$ ./question2</span><br><span class="line">Initial values: a=10, b=3, c=0</span><br><span class="line">After a / b: c=3, a=10, b=3</span><br><span class="line">After a % b: c=1, a=10, b=3</span><br><span class="line">After ++a: c=1, a=11, b=3</span><br><span class="line">After b--: c=1, a=11, b=3</span><br><span class="line">After c = a++ * --b: c=11, a=12, b=1</span><br><span class="line">Final values: a=12, b=1, c=11</span><br></pre></td></tr></table></figure>

<h2 id="题目三：逻辑与关系表达式的逆向解析"><a href="#题目三：逻辑与关系表达式的逆向解析" class="headerlink" title="题目三：逻辑与关系表达式的逆向解析"></a>题目三：逻辑与关系表达式的逆向解析</h2><p>程序的完整源代码：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x = <span class="number">5</span>, y = <span class="number">0</span>, z = <span class="number">1</span>, result;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Initial values: x=%d, y=%d, z=%d\n&quot;</span>, x, y, z);<span class="comment">// 初始值由int声明时赋予</span></span><br><span class="line">    <span class="comment">// 计算 x &gt; 3，将结果赋给 result</span></span><br><span class="line">    result = ( x &gt; <span class="number">3</span> );</span><br><span class="line">    <span class="comment">// printf 打印输出</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After x &gt; 3: result=%d, x=%d, y=%d, z=%d\n&quot;</span>, result, x, y, z);</span><br><span class="line">    <span class="comment">// x &gt; 3 为真，5 &gt; 3，故result为真（1）</span></span><br><span class="line">    <span class="comment">// 计算 y == 0，将结果赋给 result</span></span><br><span class="line">    result = ( y == <span class="number">0</span> );</span><br><span class="line">    <span class="comment">// printf 打印输出</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After y == 0: result=%d, x=%d, y=%d, z=%d\n&quot;</span>, result, x, y, z);</span><br><span class="line">    <span class="comment">// y == 0 为真，0 == 0，故result为真（1）</span></span><br><span class="line">    <span class="comment">// 计算 z != 1，将结果赋给 result</span></span><br><span class="line">    result = ( z != <span class="number">1</span> );</span><br><span class="line">    <span class="comment">// printf 输出</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After z != 0: result=%d, x=%d, y=%d, z=%d\n&quot;</span>, result, x, y, z);</span><br><span class="line">    <span class="comment">// z != 0 为假，z == 0，故result为假（0）</span></span><br><span class="line">    <span class="comment">// 计算 x &gt; 3 &amp;&amp; y == 0，将结果赋给 result</span></span><br><span class="line">    result = ( x &gt; <span class="number">3</span> &amp;&amp; y == <span class="number">0</span> );</span><br><span class="line">    <span class="comment">// printf 打印输出</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After x &gt; 3 &amp;&amp; y == 0: result=%d, x=%d, y=%d, z=%d\n&quot;</span>, result, x, y, z);</span><br><span class="line">    <span class="comment">// &amp;&amp;是逻辑与运算符，要求两边同时为真。变量x的值大于3，且变量y的值等于0，左右两个条件同时满足，所以逻辑与运算的结果为真（1）</span></span><br><span class="line">    <span class="comment">// 计算 x &gt; 3 &amp;&amp; z != 1，将结果赋给 result</span></span><br><span class="line">    result = ( x &gt; <span class="number">3</span> &amp;&amp; z != <span class="number">1</span> );</span><br><span class="line">    <span class="comment">// printf 打印输出</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After x &gt; 3 &amp;&amp; z != 1: result=%d, x=%d, y=%d, z=%d\n&quot;</span>, result, x, y, z);</span><br><span class="line">    <span class="comment">// &amp;&amp;是逻辑与运算符，要求两边同时为真。变量x的值大于3，且变量z的值不等于1，前一条件满足，后一条件不满足，所以逻辑与运算的结果为假（0）</span></span><br><span class="line">    <span class="comment">// 计算 x &lt;= 3 || y == 0，将结果赋给 result</span></span><br><span class="line">    result = ( x &lt;= <span class="number">3</span> || y == <span class="number">0</span> );</span><br><span class="line">    <span class="comment">// printf 打印输出</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After x &lt;= 3 || y == 0: result=%d, x=%d, y=%d, z=%d\n&quot;</span>, result, x, y, z);</span><br><span class="line">    <span class="comment">// ||是逻辑或运算符，要求有一为真即可为真。变量x的值小于等于3，或y的值为0，后者满足条件，所以逻辑或运算的结果为真（1）</span></span><br><span class="line">    <span class="comment">// 计算 !y，将结果赋给 result</span></span><br><span class="line">    result = ( !y );</span><br><span class="line">    <span class="comment">// printf 打印输出</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After !y: result=%d, x=%d, y=%d, z=%d\n&quot;</span>, result, x, y, z);</span><br><span class="line">    <span class="comment">// !为逻辑非运算符，y的值为0为非，取反后为真，所以逻辑非运算的结果为真（1）</span></span><br><span class="line">    <span class="comment">// 计算 !(x &gt; 3 &amp;&amp; y == 0)，将结果赋给 result</span></span><br><span class="line">    result = ( !(x &gt; <span class="number">3</span> &amp;&amp; y == <span class="number">0</span>) );</span><br><span class="line">    <span class="comment">// printf 打印输出</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After !(x &gt; 3 &amp;&amp; y == 0): result=%d, x=%d, y=%d, z=%d\n&quot;</span>, result, x, y, z);</span><br><span class="line">    <span class="comment">// 括号在这里用于改变（提高）运算优先级，先执行括号内部的逻辑表达式 x &gt; 3 &amp;&amp; y == 0</span></span><br><span class="line">    <span class="comment">// 如果没有括号，逻辑非运算符 ! 的优先级高于 &amp;&amp;，会先计算 !x，再与后续表达式进行运算，将会完全改变表达式的逻辑含义，导致结果错误</span></span><br><span class="line">    <span class="comment">// !为逻辑非运算符，用于对其后的布尔值（或可转换为布尔值的表达式）进行取反操作，这里对表达式的计算结果进行取反</span></span><br><span class="line">    <span class="comment">// 根据上一步语句可知，括号内的表达式 x &gt; 3 &amp;&amp; y == 0 的结果为 1（真）</span></span><br><span class="line">    <span class="comment">// 因此 !(x &gt; 3 &amp;&amp; y == 0) 等价于 !1，逻辑非运算的结果为 0（假）</span></span><br><span class="line">    <span class="comment">// 所以此处的 result 变量被赋值为 0</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Final values: x=%d, y=%d, z=%d, result=%d\n&quot;</span>, x, y, z, result);</span><br><span class="line">    <span class="comment">// 本题目仅对result的值进行了改变，且输出结果前未再次对result进行操作</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>程序的实际运行输出：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">s13665@ubuntu:~/codes/20251028$ ./question3</span><br><span class="line">Initial values: x=5, y=0, z=1</span><br><span class="line">After x &gt; 3: result=1, x=5, y=0, z=1</span><br><span class="line">After y == 0: result=1, x=5, y=0, z=1</span><br><span class="line">After z != 0: result=0, x=5, y=0, z=1</span><br><span class="line">After x &gt; 3 &amp;&amp; y == 0: result=1, x=5, y=0, z=1</span><br><span class="line">After x &gt; 3 &amp;&amp; z != 1: result=0, x=5, y=0, z=1</span><br><span class="line">After x &lt;= 3 || y == 0: result=1, x=5, y=0, z=1</span><br><span class="line">After !y: result=1, x=5, y=0, z=1</span><br><span class="line">After !(x &gt; 3 &amp;&amp; y == 0): result=0, x=5, y=0, z=1</span><br><span class="line">Final values: x=5, y=0, z=1, result=0</span><br></pre></td></tr></table></figure>

<h2 id="题目四：使用-运算符求最大值"><a href="#题目四：使用-运算符求最大值" class="headerlink" title="题目四：使用 ?: 运算符求最大值"></a>题目四：使用 ?: 运算符求最大值</h2><p>程序的完整源代码：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> A, B, C, max; <span class="comment">//声明变量</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%*c%d%*c%d&quot;</span>, &amp;A, &amp;B, &amp;C); <span class="comment">//输入</span></span><br><span class="line">    max = A &gt; B ? (A &gt; C ? A : C) : (B &gt; C ? B : C);</span><br><span class="line">    <span class="comment">// 比大小</span></span><br><span class="line">    <span class="comment">// 先判断 A 和 B 的大小；</span></span><br><span class="line">    <span class="comment">// 如果 A &gt; B，则进一步比较 A 和 C，将较大值赋给 max</span></span><br><span class="line">    <span class="comment">// 如果 A ≤ B，则进一步比较 B 和 C，将较大值赋给 max</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;The maximum of A=%d, B=%d, C=%d is %d.\n&quot;</span>, A, B, C, max);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>程序的实际运行输出：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">s13665@ubuntu:~/codes/20251028$ ./question4</span><br><span class="line">15 8 23</span><br><span class="line">The maximum of A=15, B=8, C=23 is 23.</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>C</tag>
      </tags>
  </entry>
  <entry>
    <title>将Windows中文用户主文件夹修改为英文</title>
    <url>/2025/10/03/Change-the-Windows-Chinese-user-home-folder-to-English/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在Windows下，部分软件对于中文目录的适配性并不完整，导致程序无法正常运行或是出现一堆奇奇怪怪的报错。大部分软件会要求你选择一个非中文目录，但是由于部分软件的用户配置数据存储在了用户文件夹下，而用户文件夹的名字一般由Windows自动配置，若我们在OOBE阶段设置了中文名，则用户主文件夹也将是中文名，不利于后续操作。因此本教程将向您介绍在不重装系统、不创建新用户的情况下修改用户主文件夹名。</p>
<h2 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h2><p>如何判断自己的用户主文件夹名是否为中文？<br>若您在Windows的OOBE阶段（激活）使用了Microsoft账户登录，那么您的用户主文件夹应该为邮箱前缀。您无需继续浏览本教程。<br>若您在Windows的OOBE阶段（激活）使用了<strong>oobe\bypassnro</strong>跳过联网而创建本地用户，并为账户起了中文名，那么您将会拥有一个中文用户主文件夹，正如下图所示：</p>
<p><img data-src="/./../images/image-20251003084919376.png" alt="image-20251003084919376"></p>
<p>如果您已经忘记了自己如何激活的Windows，那么您可以转到<strong>C:\Users</strong>文件夹下进行判断。在文件资源管理器中，<strong>User</strong>文件夹一般显示为中文<strong>用户</strong>。如下图所示：</p>
<p><img data-src="/./../images/image-20251003085747561.png" alt="image-20251003085747561"></p>
<p>图示“姓名”不合规的中文主文件夹，现在我们将对其进行修改，使之变为英文文件夹</p>
<p><strong>注意！以下操作存在极大风险！可能导致部分软件无法使用需要重装！</strong></p>
<h2 id="创建还原点"><a href="#创建还原点" class="headerlink" title="创建还原点"></a>创建还原点</h2><p>对系统做这么大手术，当然需要创建一个还原点了，方便恢复修改前状态。在Windows开始菜单搜索框中搜索<strong>还原点</strong></p>
<p><img data-src="/./../images/image-20251003090032036.png" alt="image-20251003090032036"></p>
<p>即可找到创建还原点选项。</p>
<p>首先先点击<strong>配置</strong>启用系统保护（若已启用则忽略）</p>
<p><img data-src="/./../images/image-20251003090225081.png" alt="image-20251003090225081"></p>
<p>然后点击<strong>创建</strong>，名字随意，创建一个还原点。</p>
<p><img data-src="/./../images/image-20251003090322343.png" alt="image-20251003090322343"></p>
<p>耐心等待还原点创建完成，然后点击<strong>确定</strong>关闭所有窗口。</p>
<h2 id="启用Administrator账户"><a href="#启用Administrator账户" class="headerlink" title="启用Administrator账户"></a>启用Administrator账户</h2><p>右键开始菜单的微软徽标，点击<strong>终端管理员</strong></p>
<p><img data-src="/./../images/image-20251003090715686.png" alt="image-20251003090715686"></p>
<p>在出现的终端中输入命令并回车</p>
 <figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">net</span> user administrator /active:yes</span><br></pre></td></tr></table></figure>

<p>执行后，屏幕会提示“命令成功完成”，说明Administrator账号已启用。如下图所示：</p>
<p><img data-src="/./../images/image-20251003090912298.png" alt="image-20251003090912298"></p>
<h2 id="切换Administrator账户并注销原账户"><a href="#切换Administrator账户并注销原账户" class="headerlink" title="切换Administrator账户并注销原账户"></a>切换Administrator账户并注销原账户</h2><p><img data-src="/./../images/202510030001.gif" alt="202510030001"></p>
<p>将所有选项取消勾选</p>
<p><img data-src="/./../images/image-20251003091504362.png" alt="image-20251003091504362"></p>
<p>进入桌面后，切回原用户，注销后再登录Administrator账户。</p>
<p><img data-src="/./../images/202510030002.gif" alt="202510030002"></p>
<h2 id="重命名用户主文件夹"><a href="#重命名用户主文件夹" class="headerlink" title="重命名用户主文件夹"></a>重命名用户主文件夹</h2><p>现在转到<strong>C:\Users</strong>，修改原来的中文用户主文件夹文件名为英文，可能会提示“操作无法完成，因为文件或文件夹已在其他程序中打开”。</p>
<h2 id="处理文件夹占用"><a href="#处理文件夹占用" class="headerlink" title="处理文件夹占用"></a>处理文件夹占用</h2><p>Win + R打开cmd，执行以下命令（替换“用户名”为你实际的用户名）</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> /f &quot;skip=<span class="number">1</span> tokens=<span class="number">3</span>&quot; %s <span class="keyword">in</span> (&#x27;query user 用户名&#x27;) <span class="keyword">do</span> <span class="built_in">taskkill</span> /f /fi &quot;sessionname eq %s&quot;</span><br></pre></td></tr></table></figure>

<p>杀死进程后再次修改。</p>
<h2 id="修改注册表"><a href="#修改注册表" class="headerlink" title="修改注册表"></a>修改注册表</h2><p>按Win + R输入regedit并回车打开注册表编辑器</p>
<p>在上方输入框中输入</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\ProfileList</span><br></pre></td></tr></table></figure>

<p>在此路径下还有很多以S开头的目录，挨个排查，直到找到右边的<strong>ProfileImagePath</strong>为中文的目录，如下图</p>
<p><img data-src="/./../images/image-20251003093307131.png" alt="image-20251003093307131"></p>
<p>双击<strong>ProfileImagePath</strong>条目修改，将中文替换为您刚修改的英文文件夹名称。</p>
<p>在上方输入框中输入</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\UserManager\Users</span><br></pre></td></tr></table></figure>

<p>找到包含中文用户名的数字项(<strong>UserPicture</strong>)，双击对应的键值，将中文用户名改为英文全拼，点击“确定”</p>
<h2 id="关闭Administrator账户"><a href="#关闭Administrator账户" class="headerlink" title="关闭Administrator账户"></a>关闭Administrator账户</h2><p>按Win + R打开终端，输入命令并回车，关闭Administrator账户</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">net</span> user administrator /active:no</span><br></pre></td></tr></table></figure>

<p><img data-src="/./../images/image-20251003093749028.png" alt="image-20251003093749028"></p>
<p>提示“命令成功完成”后，注销Administrator账号，回到登录页面。</p>
<h2 id="更新环境变量"><a href="#更新环境变量" class="headerlink" title="更新环境变量"></a><strong>更新环境变量</strong></h2><p>登录回原用户后，搜索<strong>环境变量</strong>，编辑<strong>用户</strong>环境变量</p>
<p><img data-src="/./../images/image-20251003093857619.png" alt="image-20251003093857619"></p>
<p>接下来要对<strong>用户变量</strong>进行操作，首先把OneDrive的变量进行修改，将原来的中文文件夹名改为你原来的英文文件夹名。</p>
<p>然后单击<strong>Path</strong>条目，点击<strong>编辑</strong>，检查所有包含中文用户名的路径，将条目中原来的中文文件夹名改为你原来的英文文件夹名。</p>
<p>连续点击三个<strong>确定</strong>，完成环境变量编辑。</p>
<h2 id="更新用户账户信息（可选）"><a href="#更新用户账户信息（可选）" class="headerlink" title="更新用户账户信息（可选）"></a>更新用户账户信息（可选）</h2><p>如果你想一并把显示的用户信息进行修改，请完成以下操作。</p>
<p>按Win + R，输入</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">control userpasswords2</span><br></pre></td></tr></table></figure>

<p><img data-src="/./../images/image-20251003094407027.png" alt="image-20251003094407027"></p>
<p>对其进行修改，点两次<strong>确定</strong>退出即可。</p>
<h2 id="创建符号链接"><a href="#创建符号链接" class="headerlink" title="创建符号链接"></a>创建符号链接</h2><p>部分软件可能认死理，这时我们要照顾这些软件的情绪，想办法让它们读到文件。</p>
<p>右键开始菜单的微软徽标，点击<strong>终端管理员</strong></p>
<p>对下方命令按照实际情况进行修改后，在出现的终端中输入命令并回车</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cmd</span></span><br><span class="line"></span><br><span class="line">mklink /d &quot;C:\Users\用户&quot; &quot;C:\Users\User&quot;</span><br></pre></td></tr></table></figure>

<p>这会将旧用户名路径链接到新路径，解决软件路径报错问题。</p>
<h2 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h2><p>确保全部操作完成后重启计算机，如果正常进入桌面，那么基本没有什么问题了</p>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><ul>
<li>备份重要数据：修改用户名涉及注册表操作，建议提前备份重要文件，以防万一。单纯仅仅创建还原点是不够的，还原点只可备份当前系统配置文件</li>
<li>谨慎操作注册表：确保按照步骤修改，避免误删关键项。</li>
<li>软件路径问题：部分软件可能仍需重新安装，确保路径正确。</li>
<li>桌面文件丢失：如果重启后桌面只剩“此电脑”和“回收站”，用符号链接方法即可恢复。</li>
</ul>
]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows下的Python环境配置</title>
    <url>/2025/10/01/Configuring-the-Python-Environment-on-Windows/</url>
    <content><![CDATA[<h2 id="在开始之前"><a href="#在开始之前" class="headerlink" title="在开始之前"></a>在开始之前</h2><ul>
<li><p>保证你的用户文件夹不要存在中文，且在任何情况下不要把项目文件&#x2F;文件夹放在中文目录下。</p>
<p>例如<img data-src="/./../images/image-20251001200303183.png" alt="image-20251001200303183"></p>
</li>
</ul>
<p>你的用户主文件夹不能为中文，否则在后续操作中会出现许多未知错误，导致安装或运行程序无法继续进行。图中用户主文件夹名为“TranquilYu”，符合要求。若采用邮箱登录，其用户主文件夹一般为邮箱的开头5位数字，同样是符合要求的。如果发现自己用户主文件夹为中文，请创建一个新本地用户（权限应为管理员权限，账户名字应不包含中文），然后继续按照教程操作。</p>
<ul>
<li><p>保证良好的网络连接</p>
</li>
<li><p>拥有充足的硬盘空间</p>
</li>
</ul>
<h2 id="Anaconda的安装"><a href="#Anaconda的安装" class="headerlink" title="Anaconda的安装"></a>Anaconda的安装</h2><p>很多刚接触Python环境管理的人都会混淆Anaconda和conda。简单说，<strong>Anaconda是一个集成的Python数据科学平台，而conda是平台内置的包与环境管理工具</strong>，二者是“平台”与“工具”的包含关系。也就是说，conda是Python的一个库，Anaconda是一个整合包，整合了包含conda在内的其他Python库。</p>
<h3 id="1-核心定义与定位"><a href="#1-核心定义与定位" class="headerlink" title="1. 核心定义与定位"></a>1. 核心定义与定位</h3><ul>
<li><strong>Anaconda</strong>：全称Anaconda Individual Edition，是一个免费开源的Python&#x2F;R数据科学发行版。它不仅包含Python解释器，还预装了NumPy、Pandas、Matplotlib等数百个常用数据科学包，同时内置了conda工具，旨在让用户“开箱即用”，无需手动配置复杂环境。</li>
<li><strong>conda</strong>：是一个跨平台的包管理器和环境管理器，核心功能是安装、卸载、更新软件包，以及创建隔离的Python环境（避免不同项目依赖冲突）。它不依赖Python，甚至可以管理非Python语言的包（如R语言包）。</li>
</ul>
<h3 id="2-关键区别对比"><a href="#2-关键区别对比" class="headerlink" title="2. 关键区别对比"></a>2. 关键区别对比</h3><table>
<thead>
<tr>
<th>对比维度</th>
<th>Anaconda</th>
<th>conda</th>
</tr>
</thead>
<tbody><tr>
<td><strong>本质</strong></td>
<td>集成平台（含Python、工具、预装包）</td>
<td>包与环境管理工具</td>
</tr>
<tr>
<td><strong>包含关系</strong></td>
<td>内置conda，是conda的“载体”之一</td>
<td>是Anaconda的核心组件，也可独立安装</td>
</tr>
<tr>
<td><strong>核心功能</strong></td>
<td>提供完整的数据科学开发环境（一键启动）</td>
<td>管理包（安装&#x2F;卸载）、管理环境（创建&#x2F;切换）</td>
</tr>
<tr>
<td><strong>独立使用</strong></td>
<td>无法拆分，是完整的安装包</td>
<td>可单独安装（如Miniconda，仅含conda和Python）</td>
</tr>
</tbody></table>
<h3 id="3-那Python的“库”又是什么呢"><a href="#3-那Python的“库”又是什么呢" class="headerlink" title="3.那Python的“库”又是什么呢"></a>3.那Python的“库”又是什么呢</h3><p>在Python中，“库”（Library）是一系列预先编写好的代码集合，包含了函数、类、变量等，用于实现特定功能，方便开发者直接调用，无需重复编写基础代码。</p>
<p>简单说，库就像一个“工具包”：</p>
<ul>
<li>比如处理数据的<code>pandas</code>库，封装了表格处理、数据分析的常用功能</li>
<li>用于绘图的<code>matplotlib</code>库，提供了各种图表绘制的现成方法</li>
<li>网络请求的<code>requests</code>库，简化了网页数据获取的过程</li>
</ul>
<p>这些库由Python社区或开发者团队维护，通过<code>pip install 库名</code>或<code>conda install 库名</code>等命令安装后，就能在代码中用<code>import</code>导入并使用，极大提高开发效率。这两个命令在本文后面还会讲到。</p>
<p>库可以理解为Python生态的“积木”，开发者通过组合不同库，快速搭建复杂应用，而不必从零开始编写每一行代码。</p>
<p>这也就是为什么Python越来越火，因为使用Python实现一个功能不要求你从0开始编写代码，你只需要在互联网上找到你想调用的库，简要学习一下如何调用，便可整合到你的程序中去。</p>
<p>安装Anaconda有两个下载途径</p>
<h3 id="1-官网下载（不推荐）"><a href="#1-官网下载（不推荐）" class="headerlink" title="1.官网下载（不推荐）"></a>1.官网下载（不推荐）</h3><p><img data-src="/./../images/image-20251001201513671.png" alt="image-20251001201513671"></p>
<p>官方下载链接为<a href="https://www.anaconda.com/download">Download Anaconda Distribution | Anaconda</a></p>
<p>理论上点击Get Started便可以开始下载，但是事实并非如此。在点击Get Started之后，你需要注册账户，且下载源来自国外，在国内下载速度不稳定，因为相对繁琐，所以不推荐此方法。</p>
<h3 id="2-从清华大学开源软件镜像站下载"><a href="#2-从清华大学开源软件镜像站下载" class="headerlink" title="2.从清华大学开源软件镜像站下载"></a>2.从清华大学开源软件镜像站下载</h3><p>首先先解答一个问题：何为镜像站？</p>
<p>这类镜像站的核心作用是<strong>缓存并分发开源软件资源</strong>，让用户能更快速、稳定地获取所需文件。</p>
<p>这类站点在开发者和高校用户中非常常用。它的存在主要解决了三个核心问题：</p>
<ol>
<li><strong>提升下载速度</strong>：很多开源软件的官方服务器位于国外，国内用户直接访问会受网络链路影响，速度很慢。镜像站将这些资源同步到国内服务器，用户从国内站点下载，速度会提升数倍甚至数十倍。</li>
<li><strong>保障访问稳定性</strong>：官方服务器可能因地域、带宽或维护等原因出现宕机或访问不稳定的情况。国内部分镜像站多采用多节点部署，能有效避免一个服务器故障导致下载出现问题，确保用户随时能获取资源。</li>
<li><strong>降低官方服务器压力</strong>：全球大量用户同时从官方服务器下载，会对其造成巨大带宽压力。镜像站通过分担下载请求，帮助官方服务器减轻负载，保障其核心服务的稳定。</li>
</ol>
<p>简单来说，镜像站就像一个“本地仓库”。它定期从“总仓库”（官方服务器）进货，当你需要时，不用再去遥远的“总仓库”，直接在“本地仓库”就能快速拿到一样的东西。</p>
<p>在Linux中，包管理器类似apt，yum，pacman都需要我们手动换源以加快下载速度。</p>
<p>点击下面链接即可访问镜像站：</p>
<p><a href="https://mirrors.tuna.tsinghua.edu.cn/">清华大学开源软件镜像站 | Tsinghua Open Source Mirror</a></p>
<p>在镜像站首页，可以看到有很多仓库，这里我们需要找到并点击anaconda，进入achieve目录，按日期排序，找到符合我们系统（Windows）和架构（x86_64）的最新版本，点击就可以进行下载了。下面是个简单的动图，展示了如何找到我们所需的发行版安装包：</p>
<p><img data-src="/./../images/0001.gif" alt="0001"></p>
<p>在本文编辑完成之前，对于Windows系统而言，最新版本的软件包是“Anaconda3-2025.06-1-Windows-x86_64.exe”，如果您是通过电脑阅读本文，也可点击下面链接下载安装程序：<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-2025.06-1-Windows-x86_64.exe">https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-2025.06-1-Windows-x86_64.exe</a></p>
<p>下载完成，自然是要进行安装。不过，安装并不是无脑地点击Next和Agree，有些选项也是需要进行选择的。</p>
<p>运行安装程序（双击Anaconda3-2025.06-1-Windows-x86_64.exe），等待安装程序加载完成后，您会看到下面画面：</p>
<p><img data-src="/./../images/image-20251001203216213.png" alt="image-20251001203216213"></p>
<p>这里点击“Next &gt;”，进行下一步</p>
<p><img data-src="/./../images/image-20251001203243953.png" alt="image-20251001203243953"></p>
<p>“I Agree”</p>
<p><img data-src="/./../images/image-20251001203311320.png" alt="image-20251001203311320"></p>
<p>这里默认是“Just Me”，不过我们要把它改成“All Users”，然后点击“Next &gt;”，这里也许会弹出UAC弹窗，选择“是”即可。</p>
<p><img data-src="/./../images/image-20251001203428718.png" alt="image-20251001203428718"></p>
<p>这一步让我们选择安装目录。我们可以看到，安装Anaconda需要5.2GB的空间，图示电脑C盘还剩余106.1GB，这里我们可以按照默认安装位置安装，如果你的C盘空间紧张或是对于存储空间有所规划，可以选择安装到其他盘。如果要安装到其他盘，建议目标文件夹是<code>D:\anaconda3</code>。不允许安装到含有中文的目录中，例如<code>D:\软件\anaconda3</code>，大多数程序对于中文路径的处理并不完善，极易出现bug甚至程序崩溃。本文中安装文件夹将以<code>C:\ProgramData\anaconda3</code>为例。需要注意的是，<strong>你需要记住这个安装目录</strong>，后续操作会用到此安装目录。选择好安装目录后点击“Next &gt;”继续。</p>
<p><img data-src="/./../images/image-20251001204116315.png" alt="image-20251001204116315"></p>
<p>此处默认只有第一个复选框被选中，我们要把三个都勾选上，然后点击“Install”</p>
<p>由于释放文件较多，安装时间略长，耐心等待即可……</p>
<p><img data-src="/./../images/image-20251001204611527.png" alt="image-20251001204611527"></p>
<p>出现Completed代表安装结束，此时点击“Next &gt;”</p>
<p><img data-src="/./../images/image-20251001204656068.png" alt="image-20251001204656068"></p>
<p>会出现以下界面，点击“Next &gt;”进行下一步。</p>
<p><img data-src="/./../images/image-20251001204731723.png" alt="image-20251001204731723"></p>
<p>到了最后一步，将这两个默认勾选的复选框取消勾选（用不到），然后点击退出。</p>
<p> 至此我们Anaconda的安装告一段落了，但是接下来我们还要对其进行配置，否则我们无法正常使用。</p>
<h2 id="Anaconda的配置"><a href="#Anaconda的配置" class="headerlink" title="Anaconda的配置"></a>Anaconda的配置</h2><h3 id="修改系统变量"><a href="#修改系统变量" class="headerlink" title="修改系统变量"></a>修改系统变量</h3><p>此时安装完成的Anaconda并没有加入系统的环境变量中，这将导致我们没法在终端（命令提示符即cmd）直接调用，于是我们需要对其进行配置。</p>
<ul>
<li><p><strong>打开系统属性</strong> 在 Windows 系统中，右键点击“此电脑”或“我的电脑”，选择“属性”。然后点击“高级系统设置”，进入“环境变量”设置界面。（或者直接在开始菜单的搜索框中搜索“<strong>系统变量</strong>”（其实完整名字是“编辑系统环境变量”））</p>
</li>
<li><p><strong>编辑系统变量中的 Path</strong> 在“系统变量”部分找到 <em>Path</em>，点击“编辑”。在弹出的窗口中，点击“新建”，添加以下路径（假设 Anaconda 安装在 <em>C:\ProgramData\anaconda3</em>）：</p>
</li>
</ul>
<figure class="highlight moonscript"><table><tr><td class="code"><pre><span class="line"><span class="name">C</span>:\ProgramData\anaconda3</span><br><span class="line"><span class="name">C</span>:\ProgramData\anaconda3\Scripts</span><br><span class="line"><span class="name">C</span>:\ProgramData\anaconda3\Library\bin</span><br><span class="line"><span class="name">C</span>:\ProgramData\anaconda3\Library\mingw-w64\bin</span><br></pre></td></tr></table></figure>

<p>当然，如果你安装在了D:\anaconda3，那么路径应该是这样的</p>
<figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">D:</span>\anaconda3</span><br><span class="line"><span class="symbol">D:</span>\anaconda3\Scripts</span><br><span class="line"><span class="symbol">D:</span>\anaconda3\Library\bin</span><br><span class="line"><span class="symbol">D:</span>\anaconda3\Library\mingw-w64\bin</span><br></pre></td></tr></table></figure>

<p>关于如何添加，下面有个动图进行演示：</p>
<p><img data-src="/./../images/0002.gif" alt="0002"></p>
<p>需要注意的关键点：</p>
<ul>
<li><p>编辑的是“系统变量”而非“用户变量”</p>
</li>
<li><p>编辑完成一定要点三次确定，确保窗口完全关闭！</p>
</li>
</ul>
<p>如何确定自己已经正确配置了环境变量？</p>
<p><img data-src="/./../images/0003.gif" alt="0003"></p>
<p>按Win + R键（或者右键开始菜单图标点击“运行”），在弹出的“运行”对话框中输入cmd并回车，在弹出的命令提示符中输入（V要大写）</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">conda -V</span></span><br></pre></td></tr></table></figure>

<p>若如下图所示输出则环境变量配置成功。</p>
<p><img data-src="/./../images/image-20251001210033489.png" alt="image-20251001210033489"></p>
<p>如图，conda输出了它的版本号：25.5.1</p>
<p>这代表Anaconda已经安装完成，恭喜！</p>
<h3 id="换源"><a href="#换源" class="headerlink" title="换源"></a>换源</h3><p>没错，还是更换镜像源，具体优点与好处上文已经提及，不再赘述。</p>
<p>将以下代码复制到上一步骤所示命令提示符中执行，便可更换镜像源为清华源</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">conda config --add channels https:<span class="regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="regexp">/anaconda/</span>pkgs<span class="regexp">/free/</span></span><br><span class="line">conda config --add channels https:<span class="regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="regexp">/anaconda/</span>pkgs<span class="regexp">/main/</span></span><br><span class="line">conda config --add channels https:<span class="regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="regexp">/anaconda/</span>cloud<span class="regexp">/pytorch/</span></span><br><span class="line">conda config --add channels https:<span class="regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="regexp">/anaconda/</span>cloud<span class="regexp">/pytorch/</span>linux-<span class="number">64</span>/</span><br><span class="line">conda config --set show_channel_urls yes</span><br></pre></td></tr></table></figure>

<p>如下图所示：</p>
<p><img data-src="/./../images/0004.gif" alt="0004"></p>
<p>验证配置是否成功，可以使用命令</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">conda</span> <span class="literal">info</span></span><br></pre></td></tr></table></figure>

<p>查看。在channel URLs一项中出现了很多清华源，则配置成功！</p>
<p><img data-src="/./../images/image-20251001210512992.png" alt="image-20251001210512992"></p>
<p>至此，Anaconda配置结束。</p>
<h2 id="Conda命令介绍"><a href="#Conda命令介绍" class="headerlink" title="Conda命令介绍"></a>Conda命令介绍</h2><p>在实际使用conda之前，我们首先要进入<strong>Anaconda Prompt</strong>环境。注意这个程序不会直接在你的桌面上创建快捷方式，你需要在开始菜单——A字母开头——Anaconda3文件夹中找到它。你也可以在开始菜单的搜索框中直接搜索<strong>Anaconda Prompt</strong>打开它。打开它应该是这样的：</p>
<p><img data-src="/./../images/image-20251001212237025.png" alt="image-20251001212237025"></p>
<p>注意到与平常使用的命令提示符存在不同——最前面有个（base）！这个其实是在提醒你当前是在默认的环境中。接下来我们便需要创建一个新的环境。在控制台中执行：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">conda</span> create -n name python=<span class="number">3</span>.<span class="number">13</span></span><br></pre></td></tr></table></figure>

<p>create便是”创建“，意味着我们要创建一个环境了。</p>
<p><strong>-n</strong>其实是**–name**的缩写，使用哪个都可以，但要在其后加上参数即环境名称。这条指令便可创建一个Python环境。</p>
<p>这时你可能要问了：为什么我要创建一个Python环境呢？</p>
<p>用conda创建Python环境，核心是为了解决不同项目间的<strong>依赖冲突</strong>，让每个项目都能在独立、干净的环境中运行。</p>
<p>这个问题提得很实用，很多Python初学者都会因为环境问题踩坑。conda创建环境的必要性，主要体现在以下3点：</p>
<h3 id="1-解决依赖版本冲突"><a href="#1-解决依赖版本冲突" class="headerlink" title="1. 解决依赖版本冲突"></a>1. 解决依赖版本冲突</h3><p>不同Python项目可能需要同一库的不同版本。</p>
<ul>
<li>例如，项目A需要<code>numpy 1.20</code>版本，而项目B必须用<code>numpy 1.18</code>版本。</li>
<li>如果不隔离环境，安装高版本会导致低版本项目报错，反之亦然。</li>
<li>conda能为每个项目单独安装所需版本的库，互不干扰。</li>
</ul>
<h3 id="2-保持系统环境干净"><a href="#2-保持系统环境干净" class="headerlink" title="2. 保持系统环境干净"></a>2. 保持系统环境干净</h3><p>直接在系统默认Python环境安装库，会导致：</p>
<ul>
<li>安装的库越来越多，难以管理。</li>
<li>误删或升级某个库，可能影响系统自带程序（部分系统工具依赖Python）。</li>
<li>conda创建的环境是独立目录，删除环境时能彻底清理所有相关文件，不残留垃圾。</li>
</ul>
<h3 id="3-方便项目迁移与协作"><a href="#3-方便项目迁移与协作" class="headerlink" title="3. 方便项目迁移与协作"></a>3. 方便项目迁移与协作</h3><p>当需要和他人协作或在新电脑上运行项目时：</p>
<ul>
<li>可以用conda导出当前环境的依赖列表（<code>environment.yml</code>文件）。</li>
<li>他人只需通过该文件，就能一键复现完全相同的环境，避免“我这能跑，你那报错”的问题。</li>
</ul>
<p>简而言之，创建不同的Python本质上就是为了“隔离”，你可能有很多个Python项目要跑，而这些项目对于库与依赖的要求各不相同，甚至会起冲突，于是你便需要创建不同的环境把它们隔离开咯~</p>
<p>话说回来，起什么名字还是需要自己依照实际需求起。这里为了演示方便，我便起名“test”了。后面的<strong>python&#x3D;3.13</strong>是为了指定这个环境所使用的Python版本。输入完成后，敲击回车便开始创建环境了。</p>
<p>（tips：如果你的用户主文件夹是中文的话在这一步会创建不了环境哦（回收开头））</p>
<p><img data-src="/./../images/image-20251001211623674.png" alt="image-20251001211623674"></p>
<p>出现此提示，输入<strong>y</strong>之后回车或者直接回车确认安装这些软件包。</p>
<p><img data-src="/./../images/image-20251001212512068.png" alt="image-20251001212512068"></p>
<p>创建完成！左上角提示<strong>done</strong>便是最好的证明。conda也贴心地为我们贴出来了两条指令。我们便接着这两条指令说下去：</p>
<p>首先是</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">conda <span class="built_in">activate</span> &lt;你的环境名&gt;</span><br></pre></td></tr></table></figure>

<p>activate不必多说，激活嘛。我们输入这行命令并回车，便出现了以下变化：</p>
<p><img data-src="/./../images/image-20251001212747620.png" alt="image-20251001212747620"></p>
<p>注意到前面的标志换了！这表明我们已经切换到test环境下了！</p>
<p>要想从test环境回到默认的base环境，只需输入</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">conda deactivate</span></span><br></pre></td></tr></table></figure>

<p>并回车即可回到base环境。</p>
<p><img data-src="/./../images/image-20251001212935407.png" alt="image-20251001212935407"></p>
<p>使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda <span class="built_in">env</span> list</span><br></pre></td></tr></table></figure>

<p>便可列出当前存在的所有环境。</p>
<p>使用</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">conda env <span class="built_in">remove</span> -n &lt;你的环境名&gt;</span><br></pre></td></tr></table></figure>

<p>便可移除你创建的环境。-n也可写作–name</p>
<p>在你想使用的环境中（例如刚创建的test环境），使用</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">conda install <span class="tag">&lt;<span class="name">库名</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>来安装你想要安装的库，例如安装numpy库，见下图：</p>
<p><img data-src="/./../images/0005.gif" alt="0005"></p>
<p>同样的，程序会询问你是否安装，输入y并回车或者直接回车就可以安装。</p>
<p>以上仅说明了基本的conda命令，如果想了解更多命令，请访问：</p>
<p><a href="https://www.runoob.com/python-qt/anaconda-tutorial.html">Anaconda 教程 | 菜鸟教程</a></p>
<h2 id="pip换源"><a href="#pip换源" class="headerlink" title="pip换源"></a>pip换源</h2><p>pip同样也是一个Python包管理器。为了加速下载速度，我们同样可以换源来加速下载。</p>
<p>按Win + R打开cmd（命令提示符），右键输入下面代码并回车即可完成换源。</p>
<p><img data-src="/./../images/0006.gif" alt="0006"></p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">mkdir %APPDATA%\pip &amp;&amp; (echo [<span class="keyword">global</span>] &amp; echo <span class="keyword">index</span>-url = https://pypi.tuna.tsinghua.edu.cn/simple/ &amp; echo <span class="keyword">trusted</span>-host = pypi.tuna.tsinghua.edu.cn) &gt; %APPDATA%\pip\pip.ini</span><br></pre></td></tr></table></figure>

<h2 id="PyCharm的安装"><a href="#PyCharm的安装" class="headerlink" title="PyCharm的安装"></a>PyCharm的安装</h2><p>PyCharm 是 JetBrains 公司开发的一款专业 Python 集成开发环境（IDE），主要特点如下：</p>
<ol>
<li><p><strong>功能全面</strong>：集成代码编辑、调试、测试、版本控制（Git 等）、数据库工具等，一站式满足 Python 开发需求。</p>
</li>
<li><p><strong>智能辅助</strong>：提供代码自动补全、语法高亮、错误提示、重构建议等功能，大幅提升编码效率。</p>
</li>
<li><p><strong>环境兼容</strong>：完美支持虚拟环境（如 conda、venv），可快速切换不同项目的运行环境。</p>
</li>
<li><p><strong>扩展性强</strong>：通过插件市场支持 Django、Flask 等框架开发，以及 JavaScript、HTML 等多语言混合编程。</p>
</li>
<li><p><strong>跨平台</strong>：支持 Windows、macOS、Linux 系统，适合不同操作系统的开发者。</p>
</li>
</ol>
<p>适合从入门到专业的各类 Python 开发场景，是目前最流行的 Python IDE 之一。</p>
<p>在这里，我们使用PyCharm的社区版而非专业版。</p>
<p>在下载页面<a href="https://www.jetbrains.com/zh-cn/pycharm/download/other.html">其他版本 - PyCharm</a>中找到<strong>PyCharm Community Edition</strong>一栏，找到**<a href="https://download.jetbrains.com/python/pycharm-community-2025.2.2.exe">2025.2.2 - Windows (exe)</a>**一项并点击下载。如果您使用电脑阅读本文，可直接点击链接下载。本文编辑完成前，PyCharm版本为2025.2.2。</p>
<p>等待其下载完成后，双击安装程序进行安装。等待安装程序加载完成后，应该向您询问UAC权限，选”是“即可。</p>
<p><img data-src="/./../images/image-20251001215019891.png" alt="image-20251001215019891"></p>
<p>”下一步“</p>
<p><img data-src="/./../images/image-20251001215036969.png" alt="image-20251001215036969"></p>
<p>可以选择更改一个你喜欢的位置，这里我仍然选择不做修改，如果你要修改，切记不要装在有中文的目录下，最保险的做法就是把这串安装路径的“C:\”改为“D:\”。</p>
<p><img data-src="/./../images/image-20251001215229683.png" alt="image-20251001215229683"></p>
<p>这一页默认所有复选框都没被勾选，按图示勾选这三个即可。点击两次下一步后即可开始安装。安装完成后启动PyCharm。</p>
<p><img data-src="/./../images/image-20251001215632715.png" alt="image-20251001215632715"></p>
<p>中文就非常不错，直接下一个！</p>
<p><img data-src="/./../images/image-20251001215659091.png" alt="image-20251001215659091"></p>
<p>同意条款后继续</p>
<p><img data-src="/./../images/image-20251001215716667.png" alt="image-20251001215716667"></p>
<p>不发送</p>
<p>如果你之前安装过其他编辑器，会询问你是否导入，选择不导入即可。</p>
<h2 id="PyCharm的界面说明及使用方法"><a href="#PyCharm的界面说明及使用方法" class="headerlink" title="PyCharm的界面说明及使用方法"></a>PyCharm的界面说明及使用方法</h2><p>此内容实在复杂，请移步菜鸟教程查看（doge），但在查看之前，请先配置好Python解释器（下一节内容）</p>
<p><a href="https://www.runoob.com/pycharm/pycharm-tutorial.html">PyCharm 教程 | 菜鸟教程</a></p>
<p><a href="https://www.runoob.com/pycharm/pycharm-first-python-project.html">PyCharm 创建第一个 Python 项目 | 菜鸟教程</a></p>
<p><a href="https://www.runoob.com/pycharm/pycharm-start-intro.html">PyCharm 界面说明 | 菜鸟教程</a></p>
<p><a href="https://www.runoob.com/pycharm/pycharm-run-debug.html">PyCharm 运行与调试 | 菜鸟教程</a></p>
<h2 id="PyCharm的Python解释器配置"><a href="#PyCharm的Python解释器配置" class="headerlink" title="PyCharm的Python解释器配置"></a>PyCharm的Python解释器配置</h2><p>点击PyCharm主界面左下角的小齿轮图标，在弹出的二级菜单中点击设置，找到页面最上方的<strong>Python</strong>（注：不需要点”&gt;”使之展开，在右边的页面中点击“解释器”</p>
<p><img data-src="/./../images/image-20251001220009405.png" alt="image-20251001220009405"></p>
<p><img data-src="/./../images/image-20251001220049389.png" alt="image-20251001220049389"></p>
<p>点击<strong>添加解释器</strong>——<strong>添加本地解释器</strong></p>
<p>环境——<strong>选择现有</strong></p>
<p>类型——选<strong>Conda</strong></p>
<p>如果你在安装Anaconda时没有改变安装目录，那么你的PyCharm可能已经默认认到了解释器，更改一下环境即可点击确定退出。假如你将Anaconda安装在了D:\anaconda3，那么你需要在conda的路径一栏填写D:\anaconda3\condabin\conda.bat，然后点击蓝色的<strong>重新加载环境</strong>，便可正常识别环境。</p>
<h2 id="Python的学习"><a href="#Python的学习" class="headerlink" title="Python的学习"></a>Python的学习</h2><p>可以选择观看视频（耗时较长），建议可以先看文字教程了解基本语法，然后使用AI辅助生成代码</p>
<p><a href="https://www.runoob.com/python3/python3-tutorial.html">Python3 教程 | 菜鸟教程</a></p>
]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>Python</tag>
        <tag>PyCharm</tag>
        <tag>Anaconda</tag>
      </tags>
  </entry>
  <entry>
    <title>MATLAB基础作业其一</title>
    <url>/2025/10/18/MATLAB0001/</url>
    <content><![CDATA[<h1 id="MATLAB-基础第一次作业"><a href="#MATLAB-基础第一次作业" class="headerlink" title="MATLAB 基础第一次作业"></a>MATLAB 基础第一次作业</h1><h2 id="一、基础巩固题（每题8-分，共4-题，满分32-分）"><a href="#一、基础巩固题（每题8-分，共4-题，满分32-分）" class="headerlink" title="一、基础巩固题（每题8 分，共4 题，满分32 分）"></a>一、基础巩固题（每题8 分，共4 题，满分32 分）</h2><p><strong>目标：熟练掌握MATLAB 的基本运算规则、变量赋值及简单函数使用。</strong></p>
<h3 id="1-温度转换计算"><a href="#1-温度转换计算" class="headerlink" title="1. 温度转换计算"></a>1. 温度转换计算</h3><p>  编写代码将25 摄氏度转换为华氏度，转换公式为F &#x3D; C × 9&#x2F;5 + 32。要求：定义变量C 存储摄氏度数值，计算后输出结果（保留1 位小数）。</p>
<p>MATLAB代码：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% 定义摄氏度变量</span></span><br><span class="line">C = <span class="number">25</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 根据公式计算华氏度</span></span><br><span class="line">F = C * <span class="number">9</span>/<span class="number">5</span> + <span class="number">32</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 输出结果，保留1位小数</span></span><br><span class="line">fprintf(<span class="string">&#x27;25摄氏度转换为华氏度是: %.1f°F\n&#x27;</span>, F);</span><br></pre></td></tr></table></figure>

<p>运行结果截图：</p>
<p><img data-src="/./../images/image-20251018131426548.png" alt="image-20251018131426548"></p>
<p>命令行输出：</p>
<blockquote>
<p>&gt;&gt; h1_1</p>
<p>25摄氏度转换为华氏度是: 77.0°F</p>
</blockquote>
<h3 id="2-简单表达式求值"><a href="#2-简单表达式求值" class="headerlink" title="2. 简单表达式求值"></a>2. 简单表达式求值</h3><p>计算表达式<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><msqrt><mn>16</mn></msqrt><mo>+</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>10</mn></msub><mo stretchy="false">(</mo><mn>1000</mn><mo stretchy="false">)</mo><mo>−</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mfrac><mi>π</mi><mn>2</mn></mfrac><mo stretchy="false">)</mo></mrow><mrow><msup><mn>2</mn><mn>3</mn></msup><mo>−</mo><mn>5</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\sqrt{16} + \log_{10}(1000) - \sin(\frac{\pi}{2})}{2^3 - 5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5931em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1898em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">5</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.5508em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9128em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight">16</span></span></span><span style="top:-2.8728em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1272em;"><span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mop mtight"><span class="mop mtight"><span class="mtight">l</span><span class="mtight">o</span><span class="mtight" style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span style="top:-2.2341em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2659em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight">1000</span><span class="mclose mtight">)</span><span class="mbin mtight">−</span><span class="mop mtight"><span class="mtight">s</span><span class="mtight">i</span><span class="mtight">n</span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6915em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>的值。要求：使用MATLAB 内置函数（sqrt、log10、sin、pi）计算，直接输出结果。</p>
<p>MATLAB代码：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% 计算分子部分</span></span><br><span class="line">numerator = <span class="built_in">sqrt</span>(<span class="number">16</span>) + <span class="built_in">log10</span>(<span class="number">1000</span>) - <span class="built_in">sin</span>(<span class="built_in">pi</span>/<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 计算分母部分</span></span><br><span class="line">denominator = <span class="number">2</span>^<span class="number">3</span> - <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 计算整个表达式的值</span></span><br><span class="line">result = numerator / denominator;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 输出结果</span></span><br><span class="line"><span class="built_in">disp</span>(result);</span><br></pre></td></tr></table></figure>

<p>运行结果截图：</p>
<p><img data-src="/./../images/image-20251018131827586.png" alt="image-20251018131827586"></p>
<p>命令行输出：</p>
<blockquote>
<p>&gt;&gt; h1_2</p>
<p>​     2</p>
</blockquote>
<h3 id="3-矩阵创建与输出"><a href="#3-矩阵创建与输出" class="headerlink" title="3. 矩阵创建与输出"></a>3. 矩阵创建与输出</h3><p>创建一个3×3 的矩阵A，元素为1-9 的递增整数（第一行1-3，第二行4-6，第三行7-9），再创建一个3×1 的列向量B（元素为[2;4;6]），最后分别输出矩阵A 和向量B。</p>
<p>MATLAB代码：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% 创建 3×3 矩阵 A</span></span><br><span class="line">A = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>; <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>; <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">% 创建 3×1 列向量 B</span></span><br><span class="line">B = [<span class="number">2</span>; <span class="number">4</span>; <span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">% 输出矩阵 A</span></span><br><span class="line"><span class="built_in">disp</span>(<span class="string">&#x27;矩阵 A:&#x27;</span>);</span><br><span class="line"><span class="built_in">disp</span>(A);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 输出向量 B</span></span><br><span class="line"><span class="built_in">disp</span>(<span class="string">&#x27;列向量 B:&#x27;</span>);</span><br><span class="line"><span class="built_in">disp</span>(B);</span><br></pre></td></tr></table></figure>

<p>运行结果截图：</p>
<p><img data-src="/./../images/image-20251018132020159.png" alt="image-20251018132020159"></p>
<p>命令行输出：</p>
<blockquote>
<p>&gt;&gt; h1_3</p>
<p>矩阵 A:<br>    1     2     3<br>    4     5     6<br>    7     8     9</p>
<p>列向量 B:<br>    2<br>    4<br>    6</p>
</blockquote>
<h3 id="4-矩阵基本运算"><a href="#4-矩阵基本运算" class="headerlink" title="4. 矩阵基本运算"></a>4. 矩阵基本运算</h3><p>基于第3 题中的矩阵A 和向量B，计算以下结果并输出：（1）A 的转置矩阵；（2）A 与B 的乘法（A*B）；（3）A 中所有元素的平均值。</p>
<p>MATLAB代码：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% 矩阵A和列向量B</span></span><br><span class="line">A = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>; <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>; <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span><br><span class="line">B = [<span class="number">2</span>; <span class="number">4</span>; <span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">% 计算A的转置矩阵</span></span><br><span class="line">A_transpose = A&#x27;;</span><br><span class="line"><span class="built_in">disp</span>(<span class="string">&#x27;A的转置矩阵:&#x27;</span>);</span><br><span class="line"><span class="built_in">disp</span>(A_transpose);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 计算A与B的乘法（A*B）</span></span><br><span class="line">AB_product = A * B;</span><br><span class="line"><span class="built_in">disp</span>(<span class="string">&#x27;A与B的乘法结果:&#x27;</span>);</span><br><span class="line"><span class="built_in">disp</span>(AB_product);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 计算A中所有元素的平均值</span></span><br><span class="line">A_mean = <span class="built_in">mean</span>(A(:));</span><br><span class="line"><span class="built_in">disp</span>(<span class="string">&#x27;A中所有元素的平均值:&#x27;</span>);</span><br><span class="line"><span class="built_in">disp</span>(A_mean);</span><br></pre></td></tr></table></figure>

<p>运行结果截图：</p>
<p><img data-src="/./../images/image-20251018132310167.png" alt="image-20251018132310167"></p>
<p>命令行输出：</p>
<blockquote>
<p>&gt;&gt; h1_4</p>
<p>A的转置矩阵:<br>    1     4     7<br>    2     5     8<br>    3     6     9</p>
<p>A与B的乘法结果:<br>   28<br>   64<br>  100</p>
<p>A中所有元素的平均值:<br>    5</p>
</blockquote>
<h2 id="二、能力提升题（每题17-分，共4-题，满分68-分）"><a href="#二、能力提升题（每题17-分，共4-题，满分68-分）" class="headerlink" title="二、能力提升题（每题17 分，共4 题，满分68 分）"></a>二、能力提升题（每题17 分，共4 题，满分68 分）</h2><p><strong>目标：结合多个知识点，实现复杂逻辑与数据处理。</strong></p>
<h3 id="1-矩阵条件筛选"><a href="#1-矩阵条件筛选" class="headerlink" title="1. 矩阵条件筛选"></a>1. 矩阵条件筛选</h3><p>创建一个4×4 的随机矩阵（元素范围0-10，使用randi 函数），筛选出矩阵中大于5 的元素并输出这些元素的位置（行号和列号）及具体数值。</p>
<p>MATLAB代码：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% 创建 4×4 的随机矩阵，元素范围 0 - 10</span></span><br><span class="line">A = randi([<span class="number">0</span>, <span class="number">10</span>], <span class="number">4</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 输出原始矩阵</span></span><br><span class="line"><span class="built_in">disp</span>(<span class="string">&#x27;原始矩阵 A:&#x27;</span>);</span><br><span class="line"><span class="built_in">disp</span>(A);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 筛选出大于 5 的元素的行和列索引</span></span><br><span class="line">[row, col] = <span class="built_in">find</span>(A &gt; <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 筛选出大于 5 的元素值</span></span><br><span class="line">values = A(A &gt; <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 输出大于 5 的元素的位置（行号和列号）及具体数值</span></span><br><span class="line"><span class="built_in">disp</span>(<span class="string">&#x27;矩阵中大于 5 的元素：&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="built_in">length</span>(row)</span><br><span class="line">    fprintf(<span class="string">&#x27;行号：%d，列号：%d，数值：%d\n&#x27;</span>, row(<span class="built_in">i</span>), col(<span class="built_in">i</span>), values(<span class="built_in">i</span>));</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>运行结果截图：</p>
<p><img data-src="/./../images/image-20251018132717474.png" alt="image-20251018132717474"></p>
<p>命令行输出：</p>
<blockquote>
<p>&gt;&gt; h2_1</p>
<p>原始矩阵 A:<br>    8     6    10    10<br>    9     1    10     5<br>    1     3     1     8<br>   10     6    10     1</p>
<p>矩阵中大于 5 的元素：<br>行号：1，列号：1，数值：8<br>行号：2，列号：1，数值：9<br>行号：4，列号：1，数值：10<br>行号：1，列号：2，数值：6<br>行号：4，列号：2，数值：6<br>行号：1，列号：3，数值：10<br>行号：2，列号：3，数值：10<br>行号：4，列号：3，数值：10<br>行号：1，列号：4，数值：10<br>行号：3，列号：4，数值：8</p>
</blockquote>
<h3 id="2-线性代数方程组求解"><a href="#2-线性代数方程组求解" class="headerlink" title="2. 线性代数方程组求解"></a>2. 线性代数方程组求解</h3><p>已知线性方程组：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><mn>3</mn><msub><mi>x</mi><mn>2</mn></msub><mo>−</mo><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>10</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><mn>2</mn><msub><mi>x</mi><mn>2</mn></msub><mo>+</mo><mn>4</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mo>−</mo><mn>5</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>3</mn><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><msub><mi>x</mi><mn>2</mn></msub><mo>−</mo><mn>2</mn><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><mn>12</mn></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">
\begin{cases}
2x_1 + 3x_2 - x_3 = 10 \\
x_1 - 2x_2 + 4x_3 = -5 \\
3x_1 + x_2 - 2x_3 = 12
\end{cases}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.32em;vertical-align:-1.91em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35em;"><span style="top:-2.2em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.192em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewBox="0 0 888.89 316" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"/></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.316em" style="width:0.8889em" viewBox="0 0 888.89 316" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V316 H384z M384 0 H504 V316 H384z"/></svg></span></span><span style="top:-4.6em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.85em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">10</span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">4</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">−</span><span class="mord">5</span></span></span><span style="top:-1.53em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">3</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">12</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.91em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
<p>将其表示为Ax &#x3D; b 的形式（其中A 为系数矩阵，b 为常数项向量），使用MATLAB 求解x，并验证A ∗ x 是否等于b。</p>
<p>MATLAB代码：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% 定义系数矩阵 A</span></span><br><span class="line">A = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">-1</span>; <span class="number">1</span>, <span class="number">-2</span>, <span class="number">4</span>; <span class="number">3</span>, <span class="number">1</span>, <span class="number">-2</span>];</span><br><span class="line"><span class="comment">% 定义常数项向量 b</span></span><br><span class="line">b = [<span class="number">10</span>; <span class="number">-5</span>; <span class="number">12</span>];</span><br><span class="line"><span class="comment">% 求解线性方程组 Ax = b</span></span><br><span class="line">x = A \ b;</span><br><span class="line"><span class="comment">% 验证 A*x 是否等于 b</span></span><br><span class="line">verify = A * x;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 输出结果</span></span><br><span class="line"><span class="built_in">disp</span>(<span class="string">&#x27;方程组的解 x:&#x27;</span>);</span><br><span class="line"><span class="built_in">disp</span>(x);</span><br><span class="line"><span class="built_in">disp</span>(<span class="string">&#x27;验证 A*x 的结果:&#x27;</span>);</span><br><span class="line"><span class="built_in">disp</span>(verify);</span><br><span class="line"><span class="built_in">disp</span>(<span class="string">&#x27;常数项向量 b:&#x27;</span>);</span><br><span class="line"><span class="built_in">disp</span>(b);</span><br></pre></td></tr></table></figure>

<p>运行结果截图：</p>
<p><img data-src="/./../images/image-20251018132958993.png" alt="image-20251018132958993"></p>
<p>命令行输出：</p>
<blockquote>
<p>&gt;&gt; h2_2</p>
<p>方程组的解 x:<br>   2.7143<br>   1.0571<br>  -1.4000</p>
<p>验证 A*x 的结果:<br>   10<br>   -5<br>   12</p>
<p>常数项向量 b:<br>   10<br>   -5<br>   12</p>
</blockquote>
<h3 id="3-描述性统计分析"><a href="#3-描述性统计分析" class="headerlink" title="3. 描述性统计分析"></a>3. 描述性统计分析</h3><p>生成一个包含50 个随机数的向量（服从均值为10、标准差为2 的正态分布，使用normrnd 函数），计算该向量的描述性统计量：均值、中位数、标准差、方差、极差（最大值减最小值），并将结果以表格形式输出。</p>
<p>MATLAB代码：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% 生成服从均值为 10、标准差为 2 的正态分布的 50 个随机数向量</span></span><br><span class="line"></span><br><span class="line">x = normrnd(<span class="number">10</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 计算描述性统计量</span></span><br><span class="line">mean_val = <span class="built_in">mean</span>(x);          <span class="comment">% 均值</span></span><br><span class="line">median_val = median(x);      <span class="comment">% 中位数</span></span><br><span class="line">std_val = std(x);            <span class="comment">% 标准差</span></span><br><span class="line">var_val = var(x);            <span class="comment">% 方差</span></span><br><span class="line">range_val = range(x);        <span class="comment">% 极差（最大值减最小值）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 以表格形式输出结果</span></span><br><span class="line">stats_table = <span class="built_in">table</span>(mean_val, median_val, std_val, var_val, range_val, ...</span><br><span class="line">    <span class="string">&#x27;VariableNames&#x27;</span>, &#123;<span class="string">&#x27;均值&#x27;</span>, <span class="string">&#x27;中位数&#x27;</span>, <span class="string">&#x27;标准差&#x27;</span>, <span class="string">&#x27;方差&#x27;</span>, <span class="string">&#x27;极差&#x27;</span>&#125;);</span><br><span class="line"><span class="built_in">disp</span>(stats_table);</span><br></pre></td></tr></table></figure>

<p>运行结果截图：</p>
<p><img data-src="/./../images/image-20251018133420352.png" alt="image-20251018133420352"></p>
<p>命令行输出：</p>
<blockquote>
<p>&gt;&gt; h2_3</p>
<p>​     均值     中位数     标准差      方差      极差 </p>
<hr>
<p>​    10.568    10.644    2.5251    6.3759    13.045</p>
</blockquote>
<h3 id="4-线性规划问题求解"><a href="#4-线性规划问题求解" class="headerlink" title="4. 线性规划问题求解"></a>4. 线性规划问题求解</h3><p>使用 <code>linprog</code> 函数求解线性规划问题。目标函数：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>min</mi><mo>⁡</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>2</mn><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><mn>3</mn><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\min f(x) = 2x_1 + 3x_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">min</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7944em;vertical-align:-0.15em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7944em;vertical-align:-0.15em;"></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>；约束条件：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><msub><mi>x</mi><mn>2</mn></msub><mo>≥</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">x_1 + x_2 \geq 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><mn>2</mn><msub><mi>x</mi><mn>2</mn></msub><mo>≤</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x_1 - 2x_2 \leq 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7944em;vertical-align:-0.15em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>≥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x_1 \geq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>2</mn></msub><mo>≥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x_2 \geq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.786em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>。要求：正确设置目标函数系数 <code>f</code>、不等式约束矩阵 <code>A</code> 和向量 <code>b</code>、变量上下界 <code>lb</code>，输出最优解 <code>x</code> 及对应的目标函数最小值。（提示：<code>linprog</code> 默认求解 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>min</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\min</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6679em;"></span><span class="mop">min</span></span></span></span> 问题，不等式约束需转换为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi mathvariant="bold">x</mi><mo>≤</mo><mi mathvariant="bold">b</mi></mrow><annotation encoding="application/x-tex">A\mathbf{x} \leq \mathbf{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal">A</span><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathbf">b</span></span></span></span> 形式）</p>
<p>MATLAB代码：</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% 目标函数系数（对应 min f(x) = 2x1 + 3x2）</span></span><br><span class="line">f = [<span class="number">2</span>; <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">% 不等式约束转换为 A*x ≤ b 形式</span></span><br><span class="line"><span class="comment">% 原约束 x1 + x2 ≥ 2 转换为 -x1 - x2 ≤ -2</span></span><br><span class="line"><span class="comment">% 原约束 x1 - 2x2 ≤ 1 保持不变</span></span><br><span class="line">A = [<span class="number">-1</span>, <span class="number">-1</span>;</span><br><span class="line">      <span class="number">1</span>, <span class="number">-2</span>];</span><br><span class="line">b = [<span class="number">-2</span>;</span><br><span class="line">      <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">% 变量下界（x1 ≥ 0, x2 ≥ 0）</span></span><br><span class="line">lb = [<span class="number">0</span>; <span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">% 调用 linprog 求解</span></span><br><span class="line">options = optimoptions(<span class="string">&#x27;linprog&#x27;</span>, <span class="string">&#x27;Display&#x27;</span>, <span class="string">&#x27;iter&#x27;</span>); <span class="comment">% 显示迭代过程</span></span><br><span class="line">[x, fval] = linprog(f, A, b, [], [], lb, [], options);</span><br><span class="line"></span><br><span class="line"><span class="comment">% 输出结果</span></span><br><span class="line"><span class="built_in">disp</span>(<span class="string">&#x27;最优解 x:&#x27;</span>);</span><br><span class="line"><span class="built_in">disp</span>(x);</span><br><span class="line"><span class="built_in">disp</span>(<span class="string">&#x27;目标函数最小值 fval:&#x27;</span>);</span><br><span class="line"><span class="built_in">disp</span>(fval);</span><br></pre></td></tr></table></figure>

<p>运行结果截图：</p>
<p><img data-src="/./../images/image-20251018133842761.png" alt="image-20251018133842761"></p>
<p>命令行输出：</p>
<blockquote>
<p>&gt;&gt; h2_4</p>
<p>Running HiGHS 1.7.1: Copyright (c) 2024 HiGHS under MIT licence terms<br>Coefficient ranges:<br> Matrix [1e+00, 2e+00]<br> Cost   [2e+00, 3e+00]<br> Bound  [0e+00, 0e+00]<br> RHS    [1e+00, 2e+00]<br>Presolving model<br>2 rows, 2 cols, 4 nonzeros  0s<br>2 rows, 2 cols, 4 nonzeros  0s<br>Presolve : Reductions: rows 2(-0); columns 2(-0); elements 4(-0) - Not reduced<br>Problem not reduced by presolve: solving the LP<br>Using EKK dual simplex solver - serial<br> Iteration        Objective     Infeasibilities num(sum)<br>         0     0.0000000000e+00 Pr: 1(2) 0s<br>         2     4.3333333333e+00 Pr: 0(0) 0s<br>Model   status      : Optimal<br>Simplex   iterations: 2<br>Objective value     :  4.3333333333e+00<br>HiGHS run time      :          0.01</p>
<p>找到最优解。</p>
<p>最优解 x:<br>   1.6667<br>   0.3333</p>
<p>目标函数最小值 fval:<br>   4.3333</p>
</blockquote>
]]></content>
      <categories>
        <category>作业</category>
      </categories>
      <tags>
        <tag>MATLAB</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdown学习笔记</title>
    <url>/2021/01/01/Markdown/</url>
    <content><![CDATA[<h2 id="后缀"><a href="#后缀" class="headerlink" title="后缀"></a>后缀</h2><p>.md</p>
<p>.markdown</p>
<p>.MD</p>
<p>.MARKDOWN</p>
<h2 id="标头"><a href="#标头" class="headerlink" title="标头"></a>标头</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># h1标头</span></span><br><span class="line"><span class="section">## h2标头</span></span><br><span class="line"><span class="section">### h3标头</span></span><br><span class="line">......</span><br><span class="line"><span class="section">###### h6标头</span></span><br></pre></td></tr></table></figure>

<h1 id="h1标头"><a href="#h1标头" class="headerlink" title="h1标头"></a>h1标头</h1><h2 id="h2标头"><a href="#h2标头" class="headerlink" title="h2标头"></a>h2标头</h2><h3 id="h3标头"><a href="#h3标头" class="headerlink" title="h3标头"></a>h3标头</h3><p>……</p>
<h6 id="h6标头"><a href="#h6标头" class="headerlink" title="h6标头"></a>h6标头</h6><p>H后数越大，字体越小</p>
<h2 id="重点"><a href="#重点" class="headerlink" title="重点"></a>重点</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="emphasis">*要斜体的文字*</span></span><br><span class="line"></span><br><span class="line"><span class="strong">**要加黑的文字**</span></span><br><span class="line"></span><br><span class="line"><span class="emphasis">_要斜体的文字_</span></span><br><span class="line"></span><br><span class="line"><span class="strong">__要加黑的文字__</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><em>要斜体的文字</em></p>
<p><strong>要加黑的文字</strong></p>
<p><em>要斜体的文字</em></p>
<p><strong>要加黑的文字</strong></p>
<h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><h3 id="无序"><a href="#无序" class="headerlink" title="无序"></a>无序</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">*</span> 1</span><br><span class="line"><span class="bullet">*</span> 2</span><br><span class="line"><span class="bullet">*</span> 3</span><br><span class="line"><span class="bullet">*</span> 4</span><br><span class="line"><span class="bullet">*</span> 5</span><br><span class="line"><span class="bullet"> *</span> 1</span><br><span class="line"><span class="bullet"> *</span> 2</span><br><span class="line"><span class="bullet"> *</span> 3</span><br><span class="line"><span class="bullet"> *</span> 4</span><br><span class="line"><span class="bullet"> *</span> 5</span><br></pre></td></tr></table></figure>


<ul>
<li>1</li>
<li>2</li>
<li>3</li>
<li>4</li>
<li>5</li>
<li>1</li>
<li>2</li>
<li>3</li>
<li>4</li>
<li>5</li>
</ul>
<p>在此博客上空格加“*”是同样的效果。</p>
<h3 id="有序"><a href="#有序" class="headerlink" title="有序"></a>有序</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">1.</span> 1</span><br><span class="line"><span class="bullet">2.</span> 2</span><br><span class="line"><span class="bullet">3.</span> 3</span><br><span class="line"><span class="bullet">4.</span> 4</span><br><span class="line"><span class="bullet">5.</span> 5</span><br></pre></td></tr></table></figure>
<ol>
<li>1</li>
<li>2</li>
<li>3</li>
<li>4</li>
<li>5</li>
</ol>
<p>使用一个回车后会自动补充</p>
<h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p>###图片</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">![<span class="string">图片描述</span>](<span class="link">图片位置</span>)</span><br></pre></td></tr></table></figure>
<h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">[<span class="string">链接描述</span>](<span class="link">链接</span>)</span><br></pre></td></tr></table></figure>

<p><a href="https://mjy.js.org/">Blog</a></p>
<h3 id="块引用"><a href="#块引用" class="headerlink" title="块引用"></a>块引用</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">As Kanye West said:</span><br><span class="line"></span><br><span class="line"><span class="quote">&gt; We&#x27;re living the future so</span></span><br><span class="line"><span class="quote">&gt; the present is our past.</span></span><br></pre></td></tr></table></figure>

<p>As Kanye West said:</p>
<blockquote>
<p>We’re living the future so<br>the present is our past.</p>
</blockquote>
<h3 id="内联代码"><a href="#内联代码" class="headerlink" title="内联代码"></a>内联代码</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">I think you should use an</span><br><span class="line"><span class="code">`&lt;addr&gt;`</span> element here instead.</span><br></pre></td></tr></table></figure>
<p>I think you should use an<br><code>&lt;addr&gt;</code> element here instead.</p>
<h2 id="语法高亮"><a href="#语法高亮" class="headerlink" title="语法高亮"></a>语法高亮</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">` `</span> `语言类型</span><br><span class="line">code</span><br><span class="line"><span class="code">` `</span> `</span><br><span class="line">// 中间无空格</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="string">&quot;Hello world&quot;</span>;<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>将代码前加上四个空格有同样的效果</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">    &lt;?php echo &quot;Hello world&quot;;?&gt;</span></span><br><span class="line"><span class="code">四个空格+code</span></span><br></pre></td></tr></table></figure>
<pre><code>&lt;?php echo &quot;Hello world&quot;;?&gt;
&lt;?php echo &quot;1&quot;;?&gt;
&lt;?php echo &quot;2&quot;;?&gt;
&lt;?php echo &quot;3&quot;;?&gt;
</code></pre>
<h2 id="任务清单"><a href="#任务清单" class="headerlink" title="任务清单"></a>任务清单</h2><ul>
<li><input disabled="" type="checkbox"> 未完成</li>
<li><input checked="" disabled="" type="checkbox"> 已完成</li>
</ul>
<h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">A | B</span><br><span class="line">-- | --</span><br><span class="line">1 | 2</span><br><span class="line">2 | 3</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
</tr>
</tbody></table>
<h2 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a>删除线</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">del</span>&gt;</span></span>Del<span class="language-xml"><span class="tag">&lt;/<span class="name">del</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p><del>Del</del></p>
<h2 id="表情"><a href="#表情" class="headerlink" title="表情"></a>表情</h2><p><a href="https://github.com/ikatyang/emoji-cheat-sheet/blob/master/README.md">URL</a></p>
]]></content>
      <categories>
        <category>notes</category>
      </categories>
      <tags>
        <tag>markdown</tag>
        <tag>Markdown</tag>
        <tag>笔记</tag>
        <tag>notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Python学习笔记其二</title>
    <url>/2025/10/02/Python0002/</url>
    <content><![CDATA[<h2 id="写在最前"><a href="#写在最前" class="headerlink" title="写在最前"></a>写在最前</h2><p><strong>先看完教程链接，再看相关实例！</strong></p>
<p>几个容易遇到的坑：</p>
<ul>
<li>编程语言中的符号一定不要打成中文符号！！！经常容易打错的有：括号()，逗号,，引号””</li>
<li>中文乱码考虑一下有没有把编码形式改成utf-8</li>
<li>注意观察参数需不需要加引号，如open函数的encoding&#x3D;”utf-8”就要加引号</li>
<li>有问题把报错和源码复制给Ai进行询问</li>
</ul>
<h2 id="输入与输出"><a href="#输入与输出" class="headerlink" title="输入与输出"></a>输入与输出</h2><p><a href="https://www.runoob.com/python3/python3-inputoutput.html">Python3 输入和输出 | 菜鸟教程</a></p>
<p>Python两种输出值的方式: 表达式语句和 print() 函数。</p>
<p>第三种方式是使用文件对象的 write() 方法，标准输出文件可以用 sys.stdout 引用。</p>
<p>如果你希望输出的形式更加多样，可以使用 str.format() 函数来格式化输出值。</p>
<p>如果你希望将输出的值转成字符串，可以使用 repr() 或 str() 函数来实现。</p>
<ul>
<li><strong>str()：</strong> 函数返回一个用户易读的表达形式。</li>
<li><strong>repr()：</strong> 产生一个解释器易读的表达形式。</li>
</ul>
<h3 id="str-format占位符"><a href="#str-format占位符" class="headerlink" title="str.format占位符"></a>str.format占位符</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">name = <span class="string">&quot;Bob&quot;</span></span><br><span class="line">age = <span class="number">20</span></span><br><span class="line">score = <span class="number">88.456</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;姓名：&#123;&#125;, 年龄：&#123;&#125;, 成绩：&#123;:.1f&#125;&quot;</span>.<span class="built_in">format</span>(name, age, score))</span><br><span class="line"><span class="comment"># 输出：姓名：Bob, 年龄：20, 成绩：88.5</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;姓名：&#123;0&#125;, 年龄：&#123;1&#125;, 成绩：&#123;2:.2f&#125;&quot;</span>.<span class="built_in">format</span>(name, age, score))</span><br><span class="line"><span class="comment"># 输出：姓名：Bob, 年龄：20, 成绩：88.46</span></span><br></pre></td></tr></table></figure>

<h3 id="print分开字符串与变量"><a href="#print分开字符串与变量" class="headerlink" title="print分开字符串与变量"></a>print分开字符串与变量</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;The value of test is: <span class="subst">&#123;test&#125;</span>&quot;</span>)	<span class="comment">##引号前加一“f”，在想要显示变量值的地方加一个大括号&#123;&#125;，其中写入变量名</span></span><br></pre></td></tr></table></figure>
<p>% 占位符</p>
<p>这是最早的字符串格式化方法。与C语言基本一致。常用的占位符包括：</p>
<p>%s：字符串</p>
<p>%d：整数</p>
<p>%f：浮点数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;姓名：%s, 年龄：%d, 成绩：%.2f&quot;</span> % (name, age, score))</span><br></pre></td></tr></table></figure>

<h3 id="input输入"><a href="#input输入" class="headerlink" title="input输入"></a>input输入</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">input</span>(<span class="string">&quot;提示的文本&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>一般直接赋给变量值</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;年龄&quot;</span>))		<span class="comment">##由于年龄是个整型，这里使用int对其进行格式化</span></span><br></pre></td></tr></table></figure>

<p>例子</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">name = <span class="built_in">input</span>(<span class="string">&quot;姓名：&quot;</span>)</span><br><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;年龄：&quot;</span>))</span><br><span class="line">love_programming_language = <span class="built_in">input</span>(<span class="string">&quot;喜欢的编程语言（以逗号分隔）：&quot;</span>)</span><br><span class="line">age_after_3years = <span class="built_in">int</span>(age + <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;个人信息&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;姓名：<span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;年龄：%d&quot;</span>, age)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;喜欢的编程语言：<span class="subst">&#123;love_programming_language&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;三年后年龄：<span class="subst">&#123;age_after_3years&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="open函数"><a href="#open函数" class="headerlink" title="open函数"></a>open函数</h2><p><a href="https://www.runoob.com/python3/python3-file-methods.html">Python3 File 方法 | 菜鸟教程</a></p>
<h2 id="os模块"><a href="#os模块" class="headerlink" title="os模块"></a>os模块</h2><p><a href="https://www.runoob.com/python3/python3-os-file-methods.html">Python3 OS 文件&#x2F;目录方法 | 菜鸟教程</a></p>
<blockquote>
<p>问题2:文件处理<br>编写一个程序，使用 os 模块和文件方法完成以下操作:1.创建一个名为”test files”的目录(如果不存在)<br>2.在该目录下创建一个文本文件”notes.txt<br>3.向文件中写入 3 行内容已创建目录: test files已向文件 notes.txt 写入内容<br>文件内容如下:<br>第1行: 这是第一行内容</p>
<p>第2行: Python文件操作练习</p>
<p>第3行: 使用os模块和文件方法</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os	<span class="comment">##导入os模块</span></span><br><span class="line"></span><br><span class="line">status1 = os.listdir()	<span class="comment">##获取当前目录下文件，为下面看看有没有&quot;test_files&quot;做准备</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;test_files&quot;</span> <span class="keyword">in</span> status1:	<span class="comment">##判断&quot;test_files&quot;在不在当前工作目录下</span></span><br><span class="line">    os.chdir(<span class="string">&quot;test_files&quot;</span>)	<span class="comment">##如果存在就切换工作目录到&quot;test_files&quot;中</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    os.mkdir(<span class="string">&quot;test_files&quot;</span>)	<span class="comment">##如果不存在就创建目录</span></span><br><span class="line">    os.chdir(<span class="string">&quot;test_files&quot;</span>)	<span class="comment">##并进入&quot;test_files&quot;</span></span><br><span class="line">status2 = os.listdir()	<span class="comment">##获取&quot;test_files&quot;目录下文件，为下面看看有没有做准备</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;notes.txt&quot;</span> <span class="keyword">in</span> status2:	<span class="comment">##判断&quot;notes.txt&quot;在不在当前工作目录下</span></span><br><span class="line">    os.remove(<span class="string">&quot;notes.txt&quot;</span>)	<span class="comment">##如果在就删除</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;notes.txt&quot;</span>, mode=<span class="string">&#x27;x&#x27;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:	<span class="comment">##创建并打开notes.txt，以写入方式打开（mode=&#x27;x&#x27;），编解码方式为&quot;utf-8&quot;（使用utf-8以避免中文报错）</span></span><br><span class="line">	f.write(<span class="string">&quot;这是第一行内容\nPython文件操作练习\n使用os模块和文件方法&quot;</span>)	<span class="comment">##写入内容至notes.txt</span></span><br><span class="line">	f.flush()	<span class="comment">##刷新文件内部缓冲，直接把内部缓冲区的数据立刻写入文件, 而不是被动的等待输出缓冲区写入。</span></span><br><span class="line">	f.close()	<span class="comment">##关闭文件。关闭后文件不能再进行读写操作。</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;已向文件notes.txt中写入内容&quot;</span>)		<span class="comment">##进行提示</span></span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p><a href="https://www.runoob.com/python3/python3-function.html">Python3 函数 | 菜鸟教程</a></p>
<h2 id="name"><a href="#name" class="headerlink" title="name"></a><strong>name</strong></h2><p><a href="https://www.runoob.com/python3/python3-name-main.html">Python <strong>name</strong> 与 <strong>main</strong> | 菜鸟教程</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main() </span><br></pre></td></tr></table></figure>

<p>命名为主函数。Python中，总是从主函数开始运行。</p>
<p>例如：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">greet</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;来自 example 模块的问候！&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:	<span class="comment">##模块将从此处开始运行</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;该脚本正在直接运行。&quot;</span>)</span><br><span class="line">    greet()</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;该脚本作为模块被导入。&quot;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>问题3:编写def函数</p>
<p>编写一个名为sum_and_average的函数</p>
<p>要求:函数接收一个包含数字的列表作为参数函数返回两个值:列表中所有数字的总和，以及这些数字的平均值</p>
<p>如果传入的列表为空，总和返回 0，平均值返回 0.0</p>
<p>编写代码测试这个函数，至少测试两种情况:包含数字的列表和空列表</p>
</blockquote>
<p>例如：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sum_and_average</span>(<span class="params"><span class="built_in">list</span></span>):	<span class="comment">##定义sum_and_average(list)</span></span><br><span class="line">    total = <span class="built_in">sum</span>(<span class="built_in">list</span>)	<span class="comment">##求和</span></span><br><span class="line">    count = <span class="built_in">len</span>(<span class="built_in">list</span>)	<span class="comment">##统计传入列表中的值的数量</span></span><br><span class="line">    average = total / count <span class="keyword">if</span> count &gt; <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>	<span class="comment">##判断，因为求平均要求分母不为零，有传入为空的要求，故进行判断，当传入为空时使average为0，传入不为空时用总和除以值的数量求平均</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;求和：%d&quot;</span> %total)	<span class="comment">##打印求和量，类型是整数</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;平均：%.1f&quot;</span> %average)	<span class="comment">##打印求平均量，类型是浮点型，保留小数点后一位</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span>	<span class="comment">##返回None，此行代码可不写</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:	<span class="comment">##main</span></span><br><span class="line">    before_list = <span class="built_in">input</span>(<span class="string">&quot;输入一些数字，使用英文逗号间隔：&quot;</span>)	<span class="comment">##对传入数据在before_list变量中进行预存储，方便后续校验非空</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> before_list:	<span class="comment">##如果传入内容为空</span></span><br><span class="line">        <span class="built_in">list</span> = before_list	<span class="comment">##则让list列表为空</span></span><br><span class="line">    <span class="keyword">else</span>:	<span class="comment">##如果传入内容不为空</span></span><br><span class="line">        <span class="built_in">list</span> = [<span class="built_in">int</span>(x) <span class="keyword">for</span> x <span class="keyword">in</span> before_list.split(<span class="string">&#x27;,&#x27;</span>)]	<span class="comment">##将输入before_list中值传入list中，英文逗号为分隔符</span></span><br><span class="line">    sum_and_average(<span class="built_in">list</span>)	<span class="comment">##运行自定义函数</span></span><br></pre></td></tr></table></figure>

<h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><p><strong>高难度内容，Python最难的内容，最抽象的内容，最绕的内容</strong></p>
<p><a href="https://www.runoob.com/python3/python3-class.html">Python3 面向对象 | 菜鸟教程</a></p>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><p><a href="https://www.runoob.com/python3/python3-module.html">Python3 模块 | 菜鸟教程</a></p>
<p>例如：</p>
<blockquote>
<p>问题4:设计book类<br>设计一个Book类，要求如下<br>属性:书名(title)、作者(author)页数(pages)<br>方法:构造方法初始化所有属性<br>is_long()方法:如果页数超过 300 页，返回True，否则返回False</p>
<p>get_info()方法:返回包含书名、作者和页数的字符串，格式如”《Python 编程》- 张三 (280 页)”</p>
<p>最后创建 1个Book对象，分别调用上述方法并打印结果。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span>:		<span class="comment">##定义一个Book类</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,title,author,pages</span>):  	<span class="comment">##详情请见教程__init__类，必须要有self，否则无法传入主函数输入的变量值</span></span><br><span class="line">        <span class="variable language_">self</span>.title = title</span><br><span class="line">        <span class="variable language_">self</span>.author = author</span><br><span class="line">        <span class="variable language_">self</span>.pages = pages</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">is_long</span>(<span class="params">self</span>):		<span class="comment">##定义一个is_long函数</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.pages &gt; <span class="number">300</span>:		<span class="comment">##判断页数是否大于300</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span>		<span class="comment">##如果大于300返回True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span>		<span class="comment">##如果小于300返回False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_info</span>(<span class="params">self</span>):		<span class="comment">##定义一个get_info函数</span></span><br><span class="line">        info = <span class="string">f&quot;<span class="subst">&#123;self.title&#125;</span> - <span class="subst">&#123;self.author&#125;</span> (<span class="subst">&#123;self.pages&#125;</span> 页)&quot;</span>		<span class="comment">##配置一个info函数，方便后续显示</span></span><br><span class="line">        <span class="keyword">return</span> info		<span class="comment">##返回info变量，方便后续调用</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:		<span class="comment">##主函数</span></span><br><span class="line">    title = <span class="built_in">str</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入书名（带书名号）：&quot;</span>))		<span class="comment">##获取书名</span></span><br><span class="line">    author = <span class="built_in">str</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入作者名：&quot;</span>))		<span class="comment">##获取作者名</span></span><br><span class="line">    pages = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入页数：&quot;</span>))		<span class="comment">##获取书页数</span></span><br><span class="line">    x = Book(title,author,pages)		<span class="comment">##将获取到的三个变量传入Book类对应的变量中</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;是长书吗：<span class="subst">&#123;x.is_long()&#125;</span>&quot;</span>)		<span class="comment">##打印判断结果</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;本书信息：<span class="subst">&#123;x.get_info()&#125;</span>&quot;</span>)		<span class="comment">##打印本书信息</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="推导式"><a href="#推导式" class="headerlink" title="推导式"></a>推导式</h2><p><a href="https://www.runoob.com/python3/python-comprehensions.html">Python 推导式 | 菜鸟教程</a></p>
<h2 id="迭代器与生成器"><a href="#迭代器与生成器" class="headerlink" title="迭代器与生成器"></a>迭代器与生成器</h2><p><a href="https://www.runoob.com/python3/python3-iterator-generator.html">Python3 迭代器与生成器 | 菜鸟教程</a></p>
<h2 id="with-关键字"><a href="#with-关键字" class="headerlink" title="with 关键字"></a>with 关键字</h2><p><a href="https://www.runoob.com/python3/python3-with-keyword.html">Python with 关键字 | 菜鸟教程</a></p>
<h2 id="错误和异常"><a href="#错误和异常" class="headerlink" title="错误和异常"></a>错误和异常</h2><p><a href="https://www.runoob.com/python3/python3-errors-execptions.html">Python3 错误和异常 | 菜鸟教程</a></p>
<h2 id="标准库概览"><a href="#标准库概览" class="headerlink" title="标准库概览"></a>标准库概览</h2><p><a href="https://www.runoob.com/python3/python3-stdlib.html">Python3 标准库概览 | 菜鸟教程</a></p>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><p><a href="https://www.runoob.com/python3/python3-examples.html">Python3 实例 | 菜鸟教程</a></p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python学习笔记其一</title>
    <url>/2025/10/01/Python0001/</url>
    <content><![CDATA[<p>相关教程：</p>
<p><a href="https://www.runoob.com/python3/python3-conditional-statements.html">Python3 条件控制 | 菜鸟教程</a></p>
<p><a href="https://www.runoob.com/python3/python3-loop.html">Python3 循环语句 | 菜鸟教程</a></p>
<p>使用for求1-100的和：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">101</span>):</span><br><span class="line">    <span class="built_in">sum</span> += i</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure>

<p>使用while求1-100的和：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">101</span>:</span><br><span class="line">    <span class="built_in">sum</span> += i</span><br><span class="line">    i += <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>排除1-100中含有“7”的数并求和：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">101</span>):</span><br><span class="line">    <span class="keyword">if</span> i // <span class="number">10</span> == <span class="number">7</span> <span class="keyword">or</span> i % <span class="number">10</span> == <span class="number">7</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">sum</span> += i</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure>

<p>亦可通过while实现：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">101</span>:</span><br><span class="line">    <span class="keyword">if</span> i // <span class="number">10</span> == <span class="number">7</span> <span class="keyword">or</span> i % <span class="number">10</span> == <span class="number">7</span>:</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">sum</span> += i</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure>

<p>亦可通过将i转化为字符串排除实现：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">101</span>):</span><br><span class="line">    a = <span class="built_in">str</span>(i)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;7&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> a:</span><br><span class="line">        <span class="built_in">sum</span> += i</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure>

<p>遇到的坑：</p>
<ul>
<li>for、if、elif、else、while语句要加:（冒号）</li>
<li>在for或者while进行完if判断后需要对i进行自增，否则进入死循环</li>
<li>continue为略过，break为中断，pass仅占位（debug用）</li>
</ul>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python学习笔记其三</title>
    <url>/2025/10/03/Python0003/</url>
    <content><![CDATA[<h1 id="PyTorch教程"><a href="#PyTorch教程" class="headerlink" title="PyTorch教程"></a>PyTorch教程</h1><p>在开始学习本教程之前，你应具备以下基础知识，以便更好地理解和应用 PyTorch</p>
<ul>
<li>编程基础:熟悉至少一种编程语言，尤其是 Python，这是 PyTorch 的主要开发语言。</li>
<li>数学基础:掌握线性代数、概率论与统计学、微积分等基础数学知识，为理解机器学习算法打下坚实基础。</li>
<li>机器学习基础:了解监督学习、无监督学习、强化学习等基本概念，以及常用的模型评估指标(如准确率、召回率、F1 分数等)</li>
<li>深度学习基础:熟悉神经网络的基本结构和原理，如前馈神经网络、CNN、RNN、LSTM 等</li>
<li>领域知识:若计划将 PyTorch 应用于计算机视觉或自然语言处理，了解相关领<br>域的基础知识将大有裨益。</li>
</ul>
<p><img data-src="/./../images/image-20251003140242783.png" alt="image-20251003140242783"></p>
<p>有关pytorch，请见<a href="https://docs.pytorch.ac.cn/docs/stable/index.html">PyTorch 文档 — PyTorch 2.8 文档 - PyTorch 文档</a></p>
<h2 id="PyTorch简介"><a href="#PyTorch简介" class="headerlink" title="PyTorch简介"></a>PyTorch简介</h2><p>PyTorch 是一个开源的 Python 机器学习库,基于 Torch 库，底层由 C++实现，应用于人工智能领域，如计算机视觉和自然语言处理。</p>
<p>PyTorch 最初由 Meta Platforms 的人工智能研究团队开发，现在属于Linux 基金会的一部分。</p>
<p>PyTorch 主要有两大特征:</p>
<ul>
<li>类似于 NumPy 的张量计算，能在 GPU 等硬件加速器上加速。</li>
<li>基于带自动微分系统的深度神经网络。</li>
</ul>
<blockquote>
<p>注:基于自动微分系统的深度神经网络是 PyTorch 核心能力之一，其通过autograd模块自动追踪张量运算过程，可在反向传播阶段无需人工推导，直接计算损失函数对模型参数的梯度，为网络训练提供关键的梯度信息支撑。<br>NumPy是Python语言的一个扩展程序库。支持高阶大规模的多维数组与矩阵运算，此外也针对数组运算提供大量的数学</p>
</blockquote>
<p>PyTorch 特性</p>
<ul>
<li><p>动态计算图(Dynamic Computation Graphs): PyTorch 的计算图是动态的，这意味着它们在运行时构建，并且可以随时改变。这为实验和调试提供了极大的灵活性，因为开发者可以逐行<br>执行代码，查看中间结果。</p>
</li>
<li><p>自动微分(Automatic Differentiation): PyTorch 的自动微分系统允许开发者轻松地计算梯度这对于训练深度学习模型至关重要。它通过反向传播算法自动计算出损失函数对模型参数的梯度。</p>
</li>
<li><p>张量计算(Tensor Computation): PyTorch 提供了类似于 NumPy 的张量操作，这些操作可以在 CPU 和 GPU 上执行，从而加速计算过程。张量是 PyTorch 中的基本数据结构，用于存储和操作数据。</p>
</li>
</ul>
<p>动态计算图(Dynamic Computation Graph.<br>PyTorch 最显著的特点之一是其动态计算图的机制。PyTorch 在执行时构建计算图，这意味着在每次计算时，图都会根据输入数据的形状自动变化。</p>
<p>动态计算图的优点:<br>计算图(Computation Graph)是深度学习中一个非常核心的概念，可以把它理解成:<br>拿一张用“节点”和“边”表示数学运算流程的“流程图”，它描述了数据(张量)是如何通过系列运算一步步变换、最终得到输出结果的。</p>
<ul>
<li><p>更加灵活，特别适用于需要条件判断或递归的场景。</p>
</li>
<li><p>方便调试和修改，能够直接查看中间结果·更接近 Python 编程的风格，易于上手。</p>
</li>
</ul>
<p><img data-src="/./../images/image-20251003140819157.png" alt="image-20251003140819157"></p>
<blockquote>
<p>(+)位置可以看到张量</p>
</blockquote>
<p><img data-src="/./../images/image-20251003140914863.png" alt="image-20251003140914863"></p>
<p><img data-src="/./../images/image-20251003140925476.png" alt="image-20251003140925476"></p>
<p><img data-src="/./../images/image-20251003140959558.png" alt="image-20251003140959558"></p>
<h2 id="PyTorch安装"><a href="#PyTorch安装" class="headerlink" title="PyTorch安装"></a>PyTorch安装</h2><p><img data-src="/./../images/image-20251003141107206.png" alt="image-20251003141107206"></p>
<p><img data-src="/./../images/image-20251003141216897.png" alt="image-20251003141216897"></p>
<blockquote>
<p>建议使用Python3.9</p>
</blockquote>
<p><img data-src="/./../images/image-20251003141302556.png" alt="image-20251003141302556"></p>
<p><img data-src="/./../images/image-20251003141332954.png" alt="image-20251003141332954"></p>
<p><img data-src="/./../images/image-20251003141356803.png" alt="image-20251003141356803"></p>
<p><a href="https://pytorch.org/">PyTorch</a></p>
<p><img data-src="/./../images/image-20251003142043338.png" alt="image-20251003142043338"></p>
<p><img data-src="/./../images/image-20251003142405066.png" alt="image-20251003142405066"></p>
<p><img data-src="/./../images/image-20251003144017338.png" alt="image-20251003144017338"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line"><span class="comment"># 当前安装的 PyTorch 库的版本</span></span><br><span class="line"><span class="built_in">print</span>(torch.__version__)</span><br><span class="line"><span class="comment"># 检查 CUDA 是否可用，即你的系统有 NVIDIA 的 GPU</span></span><br><span class="line"><span class="built_in">print</span>(torch.cuda.is_available())</span><br></pre></td></tr></table></figure>



<p><a href="https://www.runoob.com/pytorch/pytorch-install.html#:~:text=torch%20torchvision%20torchaudio-,%E9%AA%8C%E8%AF%81%E5%AE%89%E8%A3%85,-%E4%B8%BA%E4%BA%86%E7%A1%AE%E4%BF%9D%20PyTorch">PyTorch 安装 | 菜鸟教程</a></p>
<p><img data-src="/./../images/image-20251003144552271.png" alt="image-20251003144552271"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line">x = torch.rand(<span class="number">5</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br></pre></td></tr></table></figure>

<p><img data-src="/./../images/image-20251003145225620.png" alt="image-20251003145225620"></p>
<p><a href="https://www.runoob.com/pytorch/pytorch-basic.html">PyTorch 基础 | 菜鸟教程</a></p>
<p><a href="https://www.runoob.com/pytorch/pytorch-tensor.html">PyTorch 张量（Tensor） | 菜鸟教程</a></p>
<h1 id="神经网络"><a href="#神经网络" class="headerlink" title="神经网络"></a>神经网络</h1><h2 id="神经网络介绍"><a href="#神经网络介绍" class="headerlink" title="神经网络介绍"></a>神经网络介绍</h2><p><img data-src="/./../images/image-20251003170121375.png" alt="image-20251003170121375"></p>
<p><img data-src="/./../images/image-20251003170146520.png" alt="image-20251003170146520"></p>
<p><img data-src="/./../images/image-20251003170308804.png" alt="image-20251003170308804"></p>
<p><img data-src="/./../images/image-20251003170316205.png" alt="image-20251003170316205"></p>
<p><img data-src="/./../images/image-20251003170531497.png" alt="image-20251003170531497"></p>
<p><img data-src="/./../images/image-20251003170715586.png" alt="image-20251003170715586"></p>
<p><img data-src="/./../images/image-20251003170752551.png" alt="image-20251003170752551"></p>
<p><img data-src="/./../images/image-20251003170933461.png" alt="image-20251003170933461"></p>
<p><img data-src="/./../images/image-20251003171319618.png" alt="image-20251003171319618"></p>
<p><img data-src="/./../images/image-20251003171547160.png" alt="image-20251003171547160"></p>
<p><img data-src="/./../images/image-20251003172010239.png" alt="image-20251003172010239"></p>
<p><img data-src="/./../images/image-20251003172058968.png" alt="image-20251003172058968"></p>
<p><img data-src="/./../images/image-20251003172219754.png" alt="image-20251003172219754"></p>
<p><img data-src="/./../images/image-20251003172329671.png" alt="image-20251003172329671"></p>
<p><img data-src="/./../images/image-20251003172344771.png" alt="image-20251003172344771"></p>
<p><img data-src="/./../images/image-20251003172445140.png" alt="image-20251003172445140"></p>
<p><img data-src="/./../images/image-20251003172546077.png" alt="image-20251003172546077"></p>
<p><img data-src="/./../images/image-20251003172656866.png" alt="image-20251003172656866"></p>
<p><img data-src="/./../images/image-20251003172809240.png" alt="image-20251003172809240"></p>
<p><img data-src="/./../images/image-20251003172927799.png" alt="image-20251003172927799"></p>
<p><img data-src="/./../images/image-20251003172940247.png" alt="image-20251003172940247"></p>
<h2 id="数据集与数据加载"><a href="#数据集与数据加载" class="headerlink" title="数据集与数据加载"></a>数据集与数据加载</h2><p><img data-src="/./../images/image-20251003173012074.png" alt="image-20251003173012074"></p>
<p><img data-src="/./../images/image-20251003173435990.png" alt="image-20251003173435990"></p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python学习笔记其四</title>
    <url>/2025/10/04/Python0004/</url>
    <content><![CDATA[<h1 id="Pytorch教程"><a href="#Pytorch教程" class="headerlink" title="Pytorch教程"></a>Pytorch教程</h1><h2 id="搭建一个神经网络"><a href="#搭建一个神经网络" class="headerlink" title="搭建一个神经网络"></a>搭建一个神经网络</h2><p><img data-src="/./../images/image-20251004141830767-1759558936645-3-1759559443801-13-1759559811461-26-1759559952609-43.png" alt="image-20251004141830767"></p>
<p><img data-src="/./../images/image-20251004141950553-1759558936645-4-1759559443802-14-1759559811461-27-1759559952609-44.png" alt="image-20251004141950553"></p>
<h1 id="PyTorch-常用层讲解与示例"><a href="#PyTorch-常用层讲解与示例" class="headerlink" title="PyTorch 常用层讲解与示例"></a>PyTorch 常用层讲解与示例</h1><p>本教程介绍 PyTorch 中一些核心神经网络层：Linear、Conv2d、LSTM，包括它们的数学公式和对应实现代码。</p>
<hr>
<h2 id="1-Linear-层-全连接层"><a href="#1-Linear-层-全连接层" class="headerlink" title="1. Linear 层 (全连接层)"></a>1. Linear 层 (全连接层)</h2><img width="1920" height="1080" alt="image" data-src="./../images/b82a10c4-b278-4c9e-ad83-5556b675c1d9-1759559443802-15-1759559811462-28-1759559952609-45.png" />


<p><strong>数学公式</strong>：</p>
<p>输入向量 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><msub><mi>d</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub></msup></mrow><annotation encoding="application/x-tex">x \in \mathbb{R}^{d_{in}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>，输出向量 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><msub><mi>d</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub></msup></mrow><annotation encoding="application/x-tex">y \in \mathbb{R}^{d_{out}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2963em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>y</mi><mo>=</mo><mi>x</mi><msup><mi>W</mi><mi mathvariant="normal">⊤</mi></msup><mo>+</mo><mi>b</mi><mo separator="true">,</mo><mspace width="1em"/><mi>W</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><msub><mi>d</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub><mo>×</mo><msub><mi>d</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub></mrow></msup><mo separator="true">,</mo><mspace width="1em"/><mi>b</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><msub><mi>d</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub></msup></mrow><annotation encoding="application/x-tex">
y = x W^\top + b, \quad W \in \mathbb{R}^{d_{out} \times d_{in}}, \quad b \in \mathbb{R}^{d_{out}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9824em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">⊤</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0935em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2963em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8991em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2963em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>

<p><strong>解释</strong>：</p>
<ul>
<li>每个输出节点是输入节点的加权和加上偏置  </li>
<li>常用于全连接网络、MLP 等</li>
</ul>
<p><strong>示例代码</strong>：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LinearExample</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, d_in, d_out</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="variable language_">self</span>.linear = nn.Linear(d_in, d_out)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.linear(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例</span></span><br><span class="line">x = torch.randn(<span class="number">4</span>, <span class="number">10</span>)</span><br><span class="line">model_linear = LinearExample(<span class="number">10</span>, <span class="number">5</span>)</span><br><span class="line">y = model_linear(x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Linear 输出形状:&quot;</span>, y.shape)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="2-Conv2d-层-二维卷积层"><a href="#2-Conv2d-层-二维卷积层" class="headerlink" title="2. Conv2d 层 (二维卷积层)"></a>2. Conv2d 层 (二维卷积层)</h2><img width="543" height="544" alt="image" data-src="./../images/d41bbdbc-216a-4374-bbf2-dfe1437e01df-1759559443802-16-1759559811462-31-1759559952609-47.png" />


<p><strong>数学公式</strong>：</p>
<p>输入张量 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><msub><mi>C</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mo>×</mo><mi>H</mi><mo>×</mo><mi>W</mi></mrow></msup></mrow><annotation encoding="application/x-tex">X \in \mathbb{R}^{C_{in} \times H \times W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0715em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span></span></span></span></span></span></span></span>，卷积核 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><msub><mi>C</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub><mo>×</mo><msub><mi>C</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mo>×</mo><msub><mi>k</mi><mi>h</mi></msub><mo>×</mo><msub><mi>k</mi><mi>w</mi></msub></mrow></msup></mrow><annotation encoding="application/x-tex">K \in \mathbb{R}^{C_{out} \times C_{in} \times k_h \times k_w}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2963em;"><span style="top:-2.357em;margin-left:-0.0715em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0715em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0315em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0315em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>Y</mi><mrow><mi>o</mi><mo separator="true">,</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>c</mi><mo>=</mo><mn>0</mn></mrow><mrow><msub><mi>C</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mo>−</mo><mn>1</mn></mrow></munderover><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>0</mn></mrow><mrow><msub><mi>k</mi><mi>h</mi></msub><mo>−</mo><mn>1</mn></mrow></munderover><munderover><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow><mrow><msub><mi>k</mi><mi>w</mi></msub><mo>−</mo><mn>1</mn></mrow></munderover><msub><mi>K</mi><mrow><mi>o</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi></mrow></msub><mo>⋅</mo><msub><mi>X</mi><mrow><mi>c</mi><mo separator="true">,</mo><mi>i</mi><mo>+</mo><mi>m</mi><mo separator="true">,</mo><mi>j</mi><mo>+</mo><mi>n</mi></mrow></msub><mo>+</mo><msub><mi>b</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">
Y_{o,i,j} = \sum_{c=0}^{C_{in}-1} \sum_{m=0}^{k_h-1} \sum_{n=0}^{k_w-1} K_{o,c,m,n} \cdot X_{c,i+m,j+n} + b_o
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.1201em;vertical-align:-1.2671em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8394em;"><span style="top:-1.8829em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3111em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0715em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2671em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.853em;"><span style="top:-1.8829em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3169em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0315em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2671em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8472em;"><span style="top:-1.8829em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3111em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0315em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2671em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">c</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">m</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">m</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>

<p><strong>解释</strong>：</p>
<ul>
<li>对每个输出通道，卷积核在输入各通道上进行加权求和，并加偏置  </li>
<li>常用于图像特征提取、卷积神经网络</li>
</ul>
<p><strong>示例代码</strong>：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Conv2dExample</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, in_channels, out_channels, kernel_size</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="variable language_">self</span>.conv = nn.Conv2d(in_channels, out_channels, kernel_size)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.conv(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例</span></span><br><span class="line">x_img = torch.randn(<span class="number">2</span>, <span class="number">3</span>, <span class="number">32</span>, <span class="number">32</span>)  <span class="comment"># batch_size=2, 3通道, 32x32图像</span></span><br><span class="line">model_conv = Conv2dExample(<span class="number">3</span>, <span class="number">6</span>, <span class="number">5</span>)  <span class="comment"># 输出6个通道, kernel 5x5</span></span><br><span class="line">y_img = model_conv(x_img)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Conv2d 输出形状:&quot;</span>, y_img.shape)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="PyTorch-激活函数详解"><a href="#PyTorch-激活函数详解" class="headerlink" title="PyTorch 激活函数详解"></a>PyTorch 激活函数详解</h1><p>本教程介绍常用激活函数。</p>
<hr>
<h2 id="1-ReLU"><a href="#1-ReLU" class="headerlink" title="1. ReLU"></a>1. ReLU</h2><img width="473" height="382" alt="image" data-src="./../images/79bf9f4a-fcce-4a9c-bc84-d69f787c2eee-1759559811462-30-1759559952609-46.png" />

<p>数学公式：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>max</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
f(x) = \max(0, x)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span>

<p>解释：</p>
<ul>
<li>将小于0的输入置0，大于0保持不变  </li>
<li>计算简单，常用于卷积层或全连接层后</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line">relu = nn.ReLU()</span><br><span class="line">x = torch.tensor([[-<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">2.0</span>]])</span><br><span class="line">y = relu(x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ReLU 输出:\n&quot;</span>, y)</span><br></pre></td></tr></table></figure>

<h2 id="2-Sigmoid"><a href="#2-Sigmoid" class="headerlink" title="2. Sigmoid"></a>2. Sigmoid</h2><img width="1920" height="1080" alt="image" data-src="./../images/606014d0-e40a-4c21-a18f-8824ac3a86ea-1759559811462-29-1759559952609-48.png" />

<p>数学公式：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>σ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>x</mi></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">
\sigma(x) = \frac{1}{1 + e^{-x}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0908em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6973em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>

<p>解释：</p>
<ul>
<li>将输入映射到 (0,1)  </li>
<li>常用于二分类输出层</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line">sigmoid = nn.Sigmoid()</span><br><span class="line">x = torch.tensor([[-<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">2.0</span>]])</span><br><span class="line">y = sigmoid(x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Sigmoid 输出:\n&quot;</span>, y)</span><br></pre></td></tr></table></figure>
<h2 id="3-Tanh"><a href="#3-Tanh" class="headerlink" title="3. Tanh"></a>3. Tanh</h2><img width="425" height="234" alt="image" data-src="./../images/0a34c0d6-9627-4a65-a04e-82690727ee00-1759559811462-33-1759559952610-49.png" />

<p>数学公式：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>tanh</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><msup><mi>e</mi><mi>x</mi></msup><mo>−</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>x</mi></mrow></msup></mrow><mrow><msup><mi>e</mi><mi>x</mi></msup><mo>+</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>x</mi></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">
\tanh(x) = \frac{e^x - e^{-x}}{e^x + e^{-x}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">tanh</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2177em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4483em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6973em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>

<p>解释：</p>
<ul>
<li>将输入映射到 (-1, 1)  </li>
<li>均值为 0，有助于训练收敛  </li>
<li>常用于序列模型或隐藏层激活函数</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line">tanh = nn.Tanh()</span><br><span class="line">x = torch.tensor([[-<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">2.0</span>]])</span><br><span class="line">y = tanh(x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Tanh 输出:\n&quot;</span>, y)</span><br></pre></td></tr></table></figure>
<h2 id="4-LeakyReLU"><a href="#4-LeakyReLU" class="headerlink" title="4. LeakyReLU"></a>4. LeakyReLU</h2><img width="683" height="559" alt="image" data-src="./../images/1c91f705-c38d-4025-9cbd-d6ebf25da8a0-1759559811462-32-1759559952610-50.png" />

<p>数学公式：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>&gt;</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>α</mi><mi>x</mi><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>≤</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable></mrow><mo separator="true">,</mo><mspace width="1em"/><mi>α</mi><mo>=</mo><mn>0.01</mn></mrow><annotation encoding="application/x-tex">
f(x) = 
\begin{cases} 
x, &amp; x &gt; 0 \\
\alpha x, &amp; x \le 0
\end{cases}, \quad \alpha = 0.01
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mpunct">,</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">αx</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.01</span></span></span></span></span>

<p>解释：</p>
<ul>
<li>避免 ReLU 的“死亡神经元”问题  </li>
<li>对负值仍保留小梯度，不完全置零  </li>
<li>常用于卷积层或全连接层激活函数</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line">leaky_relu = nn.LeakyReLU(negative_slope=<span class="number">0.01</span>)</span><br><span class="line">x = torch.tensor([[-<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">2.0</span>]])</span><br><span class="line">y = leaky_relu(x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;LeakyReLU 输出:\n&quot;</span>, y)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="PyTorch-常见损失函数详解"><a href="#PyTorch-常见损失函数详解" class="headerlink" title="PyTorch 常见损失函数详解"></a>PyTorch 常见损失函数详解</h1><p>本教程介绍 PyTorch 中常用的损失函数，包括均方误差损失、交叉熵损失和 KL 散度损失，包含数学公式、原理解释和示例代码。</p>
<hr>
<h2 id="1-MSELoss（均方误差损失）"><a href="#1-MSELoss（均方误差损失）" class="headerlink" title="1. MSELoss（均方误差损失）"></a>1. MSELoss（均方误差损失）</h2><p>数学公式：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>MSELoss</mtext><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>−</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">
\text{MSELoss} = \frac{1}{N} \sum_{i=1}^{N} (y_i - \hat{y}_i)^2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">MSELoss</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>

<p>解释：</p>
<ul>
<li>用于回归任务  </li>
<li>衡量预测值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>y</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span> 与真实值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> 的平方差  </li>
<li>对异常值较敏感</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line">mse_loss = nn.MSELoss()</span><br><span class="line">y_pred = torch.tensor([<span class="number">0.5</span>, <span class="number">0.8</span>, <span class="number">1.2</span>])</span><br><span class="line">y_true = torch.tensor([<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>])</span><br><span class="line">loss = mse_loss(y_pred, y_true)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;MSELoss:&quot;</span>, loss.item())</span><br></pre></td></tr></table></figure>

<h2 id="2-CrossEntropyLoss（交叉熵损失）"><a href="#2-CrossEntropyLoss（交叉熵损失）" class="headerlink" title="2. CrossEntropyLoss（交叉熵损失）"></a>2. CrossEntropyLoss（交叉熵损失）</h2><p><strong>数学公式（多分类）</strong>：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>CrossEntropyLoss</mtext><mo>=</mo><mo>−</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><munderover><mo>∑</mo><mrow><mi>c</mi><mo>=</mo><mn>1</mn></mrow><mi>C</mi></munderover><msub><mi>y</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>c</mi></mrow></msub><mi>log</mi><mo>⁡</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mrow><mi>i</mi><mo separator="true">,</mo><mi>c</mi></mrow></msub></mrow><annotation encoding="application/x-tex">
\text{CrossEntropyLoss} = - \frac{1}{N} \sum_{i=1}^{N} \sum_{c=1}^{C} y_{i,c} \log \hat{y}_{i,c}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">CrossEntropyLoss</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8829em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2671em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></span>

<p><strong>解释</strong>：</p>
<ul>
<li>用于分类任务  </li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>c</mi></mrow></msub></mrow><annotation encoding="application/x-tex">y_{i,c}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 是真实类别的 one-hot 编码，<img width="33" height="33" alt="image" data-src="https://github.com/user-attachments/assets/05cb538b-2b11-4dde-8e29-efa19f27f0fc" />
 是预测概率</li>
<li>PyTorch 的 <code>CrossEntropyLoss</code> 内部包含 <code>Softmax</code>，不需要手动计算概率</li>
</ul>
<p><strong>示例代码</strong>：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line">cross_entropy = nn.CrossEntropyLoss()</span><br><span class="line">y_pred = torch.tensor([[<span class="number">2.0</span>, <span class="number">1.0</span>, <span class="number">0.1</span>]])  <span class="comment"># logits</span></span><br><span class="line">y_true = torch.tensor([<span class="number">0</span>])                <span class="comment"># 类别索引</span></span><br><span class="line">loss = cross_entropy(y_pred, y_true)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;CrossEntropyLoss:&quot;</span>, loss.item())</span><br></pre></td></tr></table></figure>
<h2 id="3-KLDivLoss（KL-散度损失）"><a href="#3-KLDivLoss（KL-散度损失）" class="headerlink" title="3. KLDivLoss（KL 散度损失）"></a>3. KLDivLoss（KL 散度损失）</h2><p><strong>数学公式</strong>：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>KLDivLoss</mtext><mo stretchy="false">(</mo><mi>P</mi><mo>∥</mo><mi>Q</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mi>i</mi></munder><mi>P</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mi>log</mi><mo>⁡</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">
\text{KLDivLoss}(P \parallel Q) = \sum_i P(i) \log \frac{P(i)}{Q(i)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">KLDivLoss</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.7047em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>

<p><strong>解释</strong>：</p>
<ul>
<li>用于衡量两个概率分布 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span></span></span> 的差异  </li>
<li>常用于知识蒸馏或概率分布拟合  </li>
<li>PyTorch 要求输入为 <strong>log 概率</strong>（<code>log_target=False</code> 时输入为 log 概率）</li>
</ul>
<p><strong>示例代码</strong>：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"></span><br><span class="line">kl_div = nn.KLDivLoss(reduction=<span class="string">&#x27;batchmean&#x27;</span>)</span><br><span class="line">p = F.log_softmax(torch.tensor([[<span class="number">0.2</span>, <span class="number">0.5</span>, <span class="number">0.3</span>]]), dim=<span class="number">1</span>)</span><br><span class="line">q = torch.tensor([[<span class="number">0.1</span>, <span class="number">0.6</span>, <span class="number">0.3</span>]])</span><br><span class="line">loss = kl_div(p, q)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;KLDivLoss:&quot;</span>, loss.item())</span><br></pre></td></tr></table></figure>

<h1 id="PyTorch-容器（Container）详解"><a href="#PyTorch-容器（Container）详解" class="headerlink" title="PyTorch 容器（Container）详解"></a>PyTorch 容器（Container）详解</h1><p>PyTorch 提供了一些容器类，用于组织和管理多个子模块，常用的有 <code>Sequential</code>、<code>ModuleList</code>、<code>ModuleDict</code>。</p>
<hr>
<p><strong>1. nn.Sequential</strong></p>
<ul>
<li>功能：将多个子模块按顺序组合成一个整体，前一个模块的输出作为下一个模块的输入</li>
<li>使用场景：简单的前向顺序网络，如 MLP 或简单 CNN</li>
</ul>
<p><strong>示例代码</strong>：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line">model_seq = nn.Sequential(</span><br><span class="line">    nn.Linear(<span class="number">10</span>, <span class="number">20</span>),</span><br><span class="line">    nn.ReLU(),</span><br><span class="line">    nn.Linear(<span class="number">20</span>, <span class="number">5</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">x = torch.randn(<span class="number">2</span>, <span class="number">10</span>)</span><br><span class="line">y = model_seq(x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Sequential 输出形状:&quot;</span>, y.shape)</span><br></pre></td></tr></table></figure>
<p><strong>2. nn.ModuleList</strong></p>
<ul>
<li><strong>功能</strong>：保存任意数量的子模块的列表，但不会定义前向计算的顺序，需要在 <code>forward</code> 中手动调用</li>
<li><strong>使用场景</strong>：动态网络结构、多分支网络</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line">layers = nn.ModuleList([nn.Linear(<span class="number">10</span>, <span class="number">10</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)])</span><br><span class="line">x = torch.randn(<span class="number">2</span>, <span class="number">10</span>)</span><br><span class="line"><span class="keyword">for</span> layer <span class="keyword">in</span> layers:</span><br><span class="line">    x = layer(x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ModuleList 输出形状:&quot;</span>, x.shape)</span><br></pre></td></tr></table></figure>
<p><strong>3. nn.ModuleDict</strong></p>
<ul>
<li><strong>功能</strong>：以字典形式保存子模块，便于按名字访问</li>
<li><strong>使用场景</strong>：多分支或命名网络结构</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line">layer_dict = nn.ModuleDict(&#123;</span><br><span class="line">    <span class="string">&#x27;fc1&#x27;</span>: nn.Linear(<span class="number">10</span>, <span class="number">20</span>),</span><br><span class="line">    <span class="string">&#x27;relu&#x27;</span>: nn.ReLU(),</span><br><span class="line">    <span class="string">&#x27;fc2&#x27;</span>: nn.Linear(<span class="number">20</span>, <span class="number">5</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">x = torch.randn(<span class="number">2</span>, <span class="number">10</span>)</span><br><span class="line">x = layer_dict[<span class="string">&#x27;fc1&#x27;</span>](x)</span><br><span class="line">x = layer_dict[<span class="string">&#x27;relu&#x27;</span>](x)</span><br><span class="line">y = layer_dict[<span class="string">&#x27;fc2&#x27;</span>](x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ModuleDict 输出形状:&quot;</span>, y.shape)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="优化器模块"><a href="#优化器模块" class="headerlink" title="优化器模块"></a>优化器模块</h1><p><img data-src="/./../images/image-20251004144606392.png" alt="image-20251004144606392"></p>
<p><img data-src="/./../images/image-20251004144635260.png" alt="image-20251004144635260"></p>
<p><img data-src="/./../images/image-20251004144712104.png" alt="image-20251004144712104"></p>
<p><img data-src="/./../images/image-20251004144802053.png" alt="image-20251004144802053"></p>
<p><img data-src="/./../images/image-20251004144848041.png" alt="image-20251004144848041"></p>
<p><img data-src="/./../images/image-20251004145110419.png" alt="image-20251004145110419"></p>
<p><img data-src="/./../images/image-20251004145315803.png" alt="image-20251004145315803"></p>
<p><img data-src="/./../images/image-20251004145511592.png" alt="image-20251004145511592"></p>
<p><img data-src="/./../images/image-20251004145527681.png" alt="image-20251004145527681"></p>
<p><img data-src="/./../images/image-20251004145626056.png" alt="image-20251004145626056"></p>
<h1 id="PyTorch-神经网络基础：-init-与-forward-方法详解"><a href="#PyTorch-神经网络基础：-init-与-forward-方法详解" class="headerlink" title="PyTorch 神经网络基础：__init__ 与 forward 方法详解"></a>PyTorch 神经网络基础：<code>__init__</code> 与 <code>forward</code> 方法详解</h1><p>在 PyTorch 中，自定义神经网络类通常继承自 <code>nn.Module</code>，核心方法是 <code>__init__</code> 和 <code>forward</code>。下面以一个简单的全连接网络为例进行讲解。</p>
<hr>
<h2 id="1-模型代码示例"><a href="#1-模型代码示例" class="headerlink" title="1. 模型代码示例"></a>1. 模型代码示例</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SimpleNN</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(SimpleNN, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="comment"># 定义网络结构</span></span><br><span class="line">        <span class="variable language_">self</span>.fc1 = nn.Linear(<span class="number">28</span>*<span class="number">28</span>, <span class="number">128</span>)  <span class="comment"># 全连接层1</span></span><br><span class="line">        <span class="variable language_">self</span>.relu = nn.ReLU()             <span class="comment"># 激活函数</span></span><br><span class="line">        <span class="variable language_">self</span>.fc2 = nn.Linear(<span class="number">128</span>, <span class="number">10</span>)    <span class="comment"># 全连接层2</span></span><br><span class="line">        <span class="variable language_">self</span>.softmax = nn.Softmax(dim=<span class="number">1</span>) <span class="comment"># 输出概率归一化</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="comment"># 前向计算流程</span></span><br><span class="line">        x = x.view(-<span class="number">1</span>, <span class="number">28</span>*<span class="number">28</span>)  <span class="comment"># 展平输入为 (batch_size, 784)</span></span><br><span class="line">        x = <span class="variable language_">self</span>.fc1(x)        <span class="comment"># 第一个全连接层</span></span><br><span class="line">        x = <span class="variable language_">self</span>.relu(x)       <span class="comment"># ReLU 激活</span></span><br><span class="line">        x = <span class="variable language_">self</span>.fc2(x)        <span class="comment"># 第二个全连接层</span></span><br><span class="line">        x = <span class="variable language_">self</span>.softmax(x)    <span class="comment"># Softmax 转为概率分布</span></span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建模型实例</span></span><br><span class="line">model = SimpleNN()</span><br></pre></td></tr></table></figure>
<h2 id="2-方法详解"><a href="#2-方法详解" class="headerlink" title="2. 方法详解"></a>2. 方法详解</h2><h3 id="2-1-init-方法"><a href="#2-1-init-方法" class="headerlink" title="2.1 __init__ 方法"></a>2.1 <code>__init__</code> 方法</h3><p><strong>作用</strong>：定义网络的各层，包括线性层、卷积层、激活函数等。</p>
<p><strong>特点</strong>：</p>
<ul>
<li>仅声明网络结构，不进行前向计算。</li>
<li>注册子模块，便于 PyTorch 自动管理参数。</li>
</ul>
<hr>
<h3 id="2-2-forward-方法"><a href="#2-2-forward-方法" class="headerlink" title="2.2 forward 方法"></a>2.2 <code>forward</code> 方法</h3><p><strong>作用</strong>：定义数据的前向传播流程。</p>
<p><strong>特点</strong>：</p>
<ul>
<li>输入 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> 会依次经过各个层，输出最终结果。</li>
<li>PyTorch 自动重载 <code>__call__</code> 方法，调用模型实例时会触发 <code>forward</code>。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">output = model(input_tensor)</span><br></pre></td></tr></table></figure>
<ul>
<li>相当于执行：</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">model.forward(input_tensor)</span><br></pre></td></tr></table></figure>
<ul>
<li>无需手动调用 forward 方法。</li>
</ul>
<h2 id="3-数据流说明"><a href="#3-数据流说明" class="headerlink" title="3. 数据流说明"></a>3. 数据流说明</h2><ol>
<li>输入图像张量 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> 展平成 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mtext>batch size</mtext><mo separator="true">,</mo><mn>784</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\text{batch size}, 784)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord">batch size</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">784</span><span class="mclose">)</span></span></span></span>。</li>
<li>经过第一个全连接层 <code>fc1</code>，输出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mtext>batch size</mtext><mo separator="true">,</mo><mn>128</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\text{batch size}, 128)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord">batch size</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">128</span><span class="mclose">)</span></span></span></span>。</li>
<li>通过 ReLU 激活函数，增加非线性。</li>
<li>经过第二个全连接层 <code>fc2</code>，输出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mtext>batch size</mtext><mo separator="true">,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\text{batch size}, 10)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord text"><span class="mord">batch size</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">10</span><span class="mclose">)</span></span></span></span>。</li>
<li>通过 Softmax 将输出转为概率分布，适合分类任务。</li>
</ol>
<p>这种结构是典型的全连接神经网络（MLP）分类模型。</p>
<p>这种结构是典型的全连接神经网络（MLP）分类模型。</p>
<h2 id="4-补充说明"><a href="#4-补充说明" class="headerlink" title="4. 补充说明"></a>4. 补充说明</h2><ul>
<li><code>nn.Linear(in_features, out_features)</code>：创建全连接层，将输入特征维度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mi>n</mi><mi mathvariant="normal">_</mi><mi>f</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>e</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">in\_features</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0044em;vertical-align:-0.31em;"></span><span class="mord mathnormal">in</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">u</span><span class="mord mathnormal">res</span></span></span></span> 映射到输出维度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi><mi>u</mi><mi>t</mi><mi mathvariant="normal">_</mi><mi>f</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>u</mi><mi>r</mi><mi>e</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">out\_features</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0044em;vertical-align:-0.31em;"></span><span class="mord mathnormal">o</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">u</span><span class="mord mathnormal">res</span></span></span></span>。</li>
<li><code>nn.ReLU()</code>：激活函数，增加网络非线性能力。</li>
<li><code>nn.Softmax(dim=1)</code>：对指定维度做归一化，使输出值可以看作概率分布。</li>
<li><code>x.view(-1, 28*28)</code>：将输入张量展平成二维，<code>-1</code> 表示自动计算 batch size。</li>
<li>在 PyTorch 中，所有 <code>nn.Module</code> 的子模块都会自动注册为模型参数，无需手动管理。</li>
</ul>
<h1 id="PyTorch-手写体图像识别教学"><a href="#PyTorch-手写体图像识别教学" class="headerlink" title="PyTorch 手写体图像识别教学"></a>PyTorch 手写体图像识别教学</h1><hr>
<h2 id="1-导入必要库"><a href="#1-导入必要库" class="headerlink" title="1. 导入必要库"></a>1. 导入必要库</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 本教程演示如何使用 PyTorch 实现 MNIST 手写数字识别任务</span></span><br><span class="line"><span class="comment"># 包含数据加载、模型定义、训练和测试</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.optim <span class="keyword">as</span> optim</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> datasets, transforms</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>#@ 2. 数据预处理与加载<br>MNIST 图片为 28x28 灰度图<br>需要将图片转换为张量并归一化到 [-1, 1]<br>DataLoader 按批次加载数据，并支持 shuffle 功能</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">transform = transforms.Compose([</span><br><span class="line">    transforms.ToTensor(),</span><br><span class="line">    transforms.Normalize((<span class="number">0.5</span>,), (<span class="number">0.5</span>,))</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">train_dataset = datasets.MNIST(root=<span class="string">&#x27;./data&#x27;</span>, train=<span class="literal">True</span>, download=<span class="literal">True</span>, transform=transform)</span><br><span class="line">test_dataset = datasets.MNIST(root=<span class="string">&#x27;./data&#x27;</span>, train=<span class="literal">False</span>, download=<span class="literal">True</span>, transform=transform)</span><br><span class="line"></span><br><span class="line">train_loader = DataLoader(train_dataset, batch_size=<span class="number">64</span>, shuffle=<span class="literal">True</span>)</span><br><span class="line">test_loader = DataLoader(test_dataset, batch_size=<span class="number">64</span>, shuffle=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<h2 id="3-定义前馈神经网络"><a href="#3-定义前馈神经网络" class="headerlink" title="3. 定义前馈神经网络"></a>3. 定义前馈神经网络</h2><p>网络结构：<br>输入层: 28*28 &#x3D; 784 个神经元<br>隐藏层: 128 个神经元, ReLU 激活<br>输出层: 10 个神经元, Softmax 输出概率</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SimpleNN</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(SimpleNN, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.fc1 = nn.Linear(<span class="number">28</span>*<span class="number">28</span>, <span class="number">128</span>)</span><br><span class="line">        <span class="variable language_">self</span>.relu = nn.ReLU()</span><br><span class="line">        <span class="variable language_">self</span>.fc2 = nn.Linear(<span class="number">128</span>, <span class="number">10</span>)</span><br><span class="line">        <span class="variable language_">self</span>.softmax = nn.Softmax(dim=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="comment"># 前向传播</span></span><br><span class="line">        x = x.view(-<span class="number">1</span>, <span class="number">28</span>*<span class="number">28</span>)  <span class="comment"># 展平</span></span><br><span class="line">        x = <span class="variable language_">self</span>.fc1(x)</span><br><span class="line">        x = <span class="variable language_">self</span>.relu(x)</span><br><span class="line">        x = <span class="variable language_">self</span>.fc2(x)</span><br><span class="line">        x = <span class="variable language_">self</span>.softmax(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">model = SimpleNN()</span><br></pre></td></tr></table></figure>

<h2 id="4-定义损失函数和优化器"><a href="#4-定义损失函数和优化器" class="headerlink" title="4. 定义损失函数和优化器"></a>4. 定义损失函数和优化器</h2><p>多分类交叉熵损失<br>优化器: 随机梯度下降 (SGD)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">criterion = nn.CrossEntropyLoss()</span><br><span class="line">optimizer = optim.SGD(model.parameters(), lr=<span class="number">0.01</span>)</span><br></pre></td></tr></table></figure>

<h2 id="5-模型训练"><a href="#5-模型训练" class="headerlink" title="5. 模型训练"></a>5. 模型训练</h2><h3 id="训练流程"><a href="#训练流程" class="headerlink" title="训练流程:"></a>训练流程:</h3><h4 id="1-前向传播-计算预测输出"><a href="#1-前向传播-计算预测输出" class="headerlink" title="1. 前向传播: 计算预测输出"></a>1. 前向传播: 计算预测输出</h4><h4 id="2-计算损失"><a href="#2-计算损失" class="headerlink" title="2. 计算损失"></a>2. 计算损失</h4><h4 id="3-反向传播"><a href="#3-反向传播" class="headerlink" title="3. 反向传播"></a>3. 反向传播</h4><h4 id="4-参数更新"><a href="#4-参数更新" class="headerlink" title="4. 参数更新"></a>4. 参数更新</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">num_epochs = <span class="number">5</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">    running_loss = <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">for</span> images, labels <span class="keyword">in</span> train_loader:</span><br><span class="line">        outputs = model(images)</span><br><span class="line">        loss = criterion(outputs, labels)</span><br><span class="line"></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line">        running_loss += loss.item()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Epoch [<span class="subst">&#123;epoch+<span class="number">1</span>&#125;</span>/<span class="subst">&#123;num_epochs&#125;</span>], Loss: <span class="subst">&#123;running_loss/<span class="built_in">len</span>(train_loader):<span class="number">.4</span>f&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="6-测试模型准确率"><a href="#6-测试模型准确率" class="headerlink" title="6. 测试模型准确率"></a>6. 测试模型准确率</h2><p>在测试集上评估模型性能</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">correct = <span class="number">0</span></span><br><span class="line">total = <span class="number">0</span></span><br><span class="line"><span class="keyword">with</span> torch.no_grad():</span><br><span class="line">    <span class="keyword">for</span> images, labels <span class="keyword">in</span> test_loader:</span><br><span class="line">        outputs = model(images)</span><br><span class="line">        _, predicted = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>)</span><br><span class="line">        total += labels.size(<span class="number">0</span>)</span><br><span class="line">        correct += (predicted == labels).<span class="built_in">sum</span>().item()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;Test Accuracy: <span class="subst">&#123;<span class="number">100</span> * correct / total:<span class="number">.2</span>f&#125;</span>%&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="模型保存和加载"><a href="#模型保存和加载" class="headerlink" title="模型保存和加载"></a>模型保存和加载</h1><p><img data-src="/./../images/image-20251004151238326.png" alt="image-20251004151238326"></p>
<p><img data-src="/./../images/image-20251004151314736.png" alt="image-20251004151314736"></p>
<p>优点：保存了模型的完整结构</p>
<p>缺点：模型文件体积大</p>
<p><img data-src="/./../images/image-20251004151411703.png" alt="image-20251004151411703"></p>
<p><img data-src="/./../images/image-20251004151513660.png" alt="image-20251004151513660"></p>
<p><img data-src="/./../images/image-20251004151718462.png" alt="image-20251004151718462"></p>
<p><img data-src="/./../images/image-20251004151824370.png" alt="image-20251004151824370"></p>
<h1 id="计算机视觉模块"><a href="#计算机视觉模块" class="headerlink" title="计算机视觉模块"></a>计算机视觉模块</h1><p><img data-src="/./../images/image-20251004155143064.png" alt="image-20251004155143064"></p>
<p><a href="https://docs.pytorch.ac.cn/vision/stable/index.html">torchvision — Torchvision 0.23 文档 - PyTorch 文档</a></p>
<p><img data-src="/./../images/image-20251004155245827.png" alt="image-20251004155245827"></p>
<p><img data-src="/./../images/image-20251004155334340.png" alt="image-20251004155334340"></p>
<p><img data-src="/./../images/image-20251004155405152.png" alt="image-20251004155405152"></p>
<p><img data-src="/./../images/image-20251004155502079.png" alt="image-20251004155502079"></p>
<p><img data-src="/./../images/image-20251004155518151.png" alt="image-20251004155518151"></p>
<p><a href="https://docs.pytorch.ac.cn/vision/stable/transforms.html">转换图像、视频、边界框等 — Torchvision 0.23 文档 - PyTorch 文档</a></p>
<p><img data-src="/./../images/image-20251004155619357.png" alt="image-20251004155619357"></p>
<p><img data-src="/./../images/image-20251004155741508.png" alt="image-20251004155741508"></p>
<p><img data-src="/./../images/image-20251004155918237.png" alt="image-20251004155918237"></p>
<p><img data-src="/./../images/image-20251004160011322.png" alt="image-20251004160011322"></p>
<p><img data-src="/./../images/image-20251004160030493.png" alt="image-20251004160030493"></p>
<p><img data-src="/./../images/image-20251004160137783.png" alt="image-20251004160137783"></p>
<p><img data-src="/./../images/image-20251004160152624.png" alt="image-20251004160152624"></p>
<p><img data-src="/./../images/image-20251004160456282.png" alt="image-20251004160456282"></p>
<p><img data-src="/./../images/image-20251004160647088.png" alt="image-20251004160647088"></p>
<p><img data-src="/./../images/image-20251004160659944.png" alt="image-20251004160659944"></p>
<p><img data-src="/./../images/image-20251004160819065.png" alt="image-20251004160819065"></p>
<p><img data-src="/./../images/image-20251004160832338.png" alt="image-20251004160832338"></p>
<h1 id="模型部署"><a href="#模型部署" class="headerlink" title="模型部署"></a>模型部署</h1><p><img data-src="/./../images/image-20251004161036193.png" alt="image-20251004161036193"></p>
<p><img data-src="/./../images/image-20251004161115819.png" alt="image-20251004161115819"></p>
<p><img data-src="/./../images/image-20251004161131582.png" alt="image-20251004161131582"></p>
<p><img data-src="/./../images/image-20251004161250282.png" alt="image-20251004161250282"></p>
<p><img data-src="/./../images/image-20251004161406034.png" alt="image-20251004161406034"></p>
<p><img data-src="/./../images/image-20251004161425662.png" alt="image-20251004161425662"></p>
<p><img data-src="/./../images/image-20251004161556149.png" alt="image-20251004161556149"></p>
<p><img data-src="/./../images/image-20251004161609676.png" alt="image-20251004161609676"></p>
<p><img data-src="/./../images/image-20251004161850169.png" alt="image-20251004161850169"></p>
<h1 id="图像分类略讲"><a href="#图像分类略讲" class="headerlink" title="图像分类略讲"></a>图像分类略讲</h1><p><img data-src="/./../images/image-20251004161924416.png" alt="image-20251004161924416"></p>
<p><img data-src="/./../images/image-20251004162126318.png" alt="image-20251004162126318"></p>
]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>UTM Virtual Machine</title>
    <url>/2020/11/12/UTM-virtual-machine/</url>
    <content><![CDATA[<p>写在前面：手里有台iPhone7，不知干什么好，没有Android的可玩性，即使Android不root，也会有像termux的容器。9-11岁时，我还在玩limbo，bochs，lbochs，APQ。这些都是一些模拟器。bochs和lbochs是基于bochs的，而limbo和APQ是基于qemu的。要我给他们排序的话，bochs是最简单的，我记得我最早用过的镜像是andows.img，用起来简单，把sdl和镜像放在指定位置就行了。点击app启动，音量键控制左右键，滑动屏幕控制鼠标。点击左下角（还是右下角，我忘了）呼出键盘。就是在朋友同学面前装B用的。lbochs支持更多扩展，limbo有各种版本，对于X86的安卓兼容较好，一般在Android上我首选limbo。APQ比较稳定，但是前提是要Root，仅支持VNC，得自己去改配置。就这样。我接触到了qemu。</p>
<p>在qemu的世界，我只做了XP的镜像，当年我家的电脑配置不高，仅仅有2G而已，一般开个虚拟机就要处在死机的边缘。但我还是经常用它来做镜像，传到手机上。那段时间，我只是从贴吧收藏大佬分享的镜像，大多都是XP和98，再高的就是7，8，10，不过开个机都要等几个小时。</p>
<p>以前我有一台iPhone 4，完美越狱，用的盘古越狱工具。唯一能装B的，也就是一个叫Bochs的应用。在百度上，我勉勉强强找到了安装方法，但是打开就闪退，并且教程都是用的iPhone1或3，后来，我在威锋源上找到了一个writeful的源，但是后来威锋源关闭，新版的Bochs出来，但是仅仅支持iOS10以下，也就是32位系统，这时，我已经用着iPhone7了。</p>
<p>对于iPhone7而言，可以用三种方式运行Windows。一种叫Idos2，在iOS10以前，是Idos，是用来运行dos游戏的，idos2用的dosbox，但是仅能在越狱后浏览其目录，放上教程里提供的镜像，输入“win95”启动，虽然麻烦，却异常稳定，只是显卡没有驱动。</p>
<p>再后来，国外大神开发了iBox，基于Bochs，国外大神演示时用的iPhone7，跑起了Windows，但是却花屏。我把Windows3.11，Windows95，Windows98的镜像放在里面，却异常好用！其实就是能在64位设备上运行的Bochs而已。</p>
<p>第三个，就是今天说的UTM虚拟机，基于qemu，能跑起Windows XP，貌似能跑起Windows7，10。也能跑起Android x86，Linux。以下是详细步骤。项目主页：<a href="https://getutm.app/">https://getutm.app/</a> GitHub：<a href="https://github.com/utmapp/UTM">https://github.com/utmapp/UTM</a></p>
<p>1.建议越狱。</p>
<p>为什么呢？说白了——便于续签。没错，便于续签！要不然你忍心7天装一次吗？iPhone X以下设备可以使用checkra1n越狱，可以的话我可以出一期教程。</p>
<p>2.安装UTM</p>
<p>如果你越狱了，直接从爱思助手拖放ipa文件即可，要没有越狱（像是iPhone11），可以用altstore。</p>
<p>altstore教程：</p>
<p>1.打开<a href="https://altstore.io/%E4%B8%8B%E8%BD%BD%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E3%80%82Windows%E7%89%88%E4%BB%85%E6%94%AF%E6%8C%81Windows10">https://altstore.io/下载应用程序。Windows版仅支持Windows10</a> 。</p>
<p><img data-src="/./../images/T8IZQbfJkzdXLF3-1759458037861-31.png" alt="pic"><br>解压后点击AltInstaller.msi，进行安装，根据需求安装即可。</p>
<p>在安装的目录下，像D:\Program Files (x86)\ 找到AltServer，打开，点击AltServer.exe，启动，在右下角图标左键。</p>
<p><img data-src="/./../images/dhubM5rGjWx1tke-1759458037861-32.png" alt="pic"><br>选择“Install AltStore”选择你的设备。</p>
<p><img data-src="/./../images/72XT5dHIsqPaYt3-1759458037861-33.png" alt="pic"><br>如实填写你的Apple ID和密码，要进行签名，不是盗号！注意，要下载官网的iTunes，不是Windows10自带的应用商店里的！要不然会报错！也不能不安装！</p>
<p>安装完成后，添加源：<a href="https://alt.getutm.app/">https://alt.getutm.app</a></p>
<p>然后搜索并下载即可。</p>
<p>下载完成了，就该玩了。准备好一个镜像，ISO文件，Windows的可以从这里下载：<a href="http://msdn.itellyou.cn/">http://msdn.itellyou.cn/</a></p>
<p>ed2k连接用迅雷下载即可。打开iTunes，找到左上角的小手机，点一下，如果是灰色，无法点击，那就等一会。点进去找到文件共享，在App找到“UTM”，这时里面是空的，添加你下载的镜像进去。接下来就是手机操作了（温馨提示：iPhone7建议用XP，iPhoneX以上最好不要用8.1或10，其他随意~）</p>
<p>下载好的应用是这样子的</p>
<p><img data-src="/./../images/e3TKP4DdCQ1lSWm-1759458037861-34.png" alt="pic"><br>加载很慢，截图截到3M<br>打开后。会出现一段提示，大概是不能强制关闭UTM，要点左上面的小X号</p>
<p>打开后，是这样的</p>
<p><img data-src="/./../images/jV8Lr3ZmGNOl9eo-1759458037861-35.png" alt="pic"><br>那两个是我提前创建好的。点击右上角的+，会这样：</p>
<p><img data-src="/./../images/fwsHnUy79YTtA4J-1759458037861-36.png" alt="pic"><br>内存，iPhone7设置到768差不多，最高的应该是1015吧，点击加载镜像，如下</p>
<p><img data-src="/./../images/oYZSMsv8i2T5dk6-1759458037861-37.png" alt="pic"><br>点击右上角的+，创建一个驱动器，如图</p>
<p><img data-src="/./../images/8qfijOIHSLBuXEF-1759458037861-38.png" alt="pic"><br>镜像类型，硬盘就是disk，光驱就是cd&#x2F;dvd，如图</p>
<p><img data-src="/./../images/3nhPlu6W1KtxTJV-1759458037861-39.png" alt="pic"><br>先选cd&#x2F;dvd，点击文件路径，点击右上角的+，如图</p>
<p><img data-src="/./../images/vnLVM6Sblpe5AkB-1759458037861-40.png" alt="pic"><br>会这样</p>
<p><img data-src="/./../images/1kNJEcW2Hf6LhUe-1759458037861-41.png" alt="pic"><br>如果选的cd&#x2F;dvd，选“导入”，会这样</p>
<p><img data-src="/./../images/Wevqyri87jakPOQ-1759458037861-42.png" alt="pic"><br>这是我已经打开utm文件夹，具体可以点击“我的iPhone”找到“UTM”文件夹，选择你复制的镜像ISO文件，如图</p>
<p><img data-src="/./../images/zYtWGIiEkJRs146-1759458037861-43.png" alt="pic"><br>再点一次镜像，加载，重复第（调整disk或cd&#x2F;dvd）步选择disk，不要选导入，如果你有现成的，那就选导入，一般是xxx.img，创建，一般填hda.img，第二行看系统大小来定，XP可以是10G，win7可以是20G，10G填10240，20G填20480，以此类推。</p>
<p>创建完成后，点击播放建，开机，正常安装系统即可。来了电话回自动暂停，来了微信，就点击上面的暂停键，暂停。如图（会加载缓慢）</p>
<p><img data-src="/./../images/Xl1ow2tg3qPU7xf-1759458037861-44.png" alt="pic"><br><img data-src="/./../images/Xl1ow2tg3qPU7xf-1759458037863-46.png" alt="pic"><br>继续运行点击中间即可。退出点击X，如果开着机，相当于强制关机。</p>
<p><img data-src="/./../images/BDYJa1RFfnIX4Qt-1759458037861-45.png" alt="pic"></p>
<hr>
<p>Q&amp;A：</p>
<p>Q：为什么安装AltStore会出现签名错误？</p>
<p>A：13.3.1有此问题，建议越狱后使用，或用爱思助手安装。</p>
<p>Q：为什么7天后提示我验证应用？</p>
<p>A：普遍问题，建议越狱后安装续签插件。免费开发者账户需要7天一签，付费的一年一签。</p>
<p>Q：越狱后如何在手机上直接安装UTM.ipa？</p>
<p>A：下载Filza，在里面点选ipa文件安装。</p>
<p>Q：为什么我在一些云上续签了，但是启动VM时会崩溃？</p>
<p>A：许多“云”签名服务（包括AppCake）不能与UTM一起使用，因为它们使用了错误的签名证书。如果尝试启动VM时发生崩溃，则可能是您的签名证书无效。</p>
<p>Q：有什么免费的续签方法吗？</p>
<p>A：如果您运行的是普通iOS，则使用iOS App Signer 可以免费，轻松地重新签名IPA 。然后，您可以使用iTunes，音乐应用程序或Xcode安装它。</p>
<p>注：图片加载于sm.ms图床，部分资料参考与UTM官网。</p>
]]></content>
      <categories>
        <category>IOS</category>
      </categories>
      <tags>
        <tag>ios</tag>
        <tag>UTM</tag>
        <tag>VM</tag>
        <tag>iPhone</tag>
      </tags>
  </entry>
  <entry>
    <title>山东省综合素质评价填报指北</title>
    <url>/2023/08/25/Shandong-Comprehensive-Quality-Evaluation-Filling-Guide/</url>
    <content><![CDATA[<p>一学期一度的综合素质评价马上就要结束了（9月1日），而我的综合素质评价还一字未填，于是决定撰写一篇文章来介绍填报方式及注意事项。</p>
<p>关于填报，相关的三方群聊其实不少，有人会联系你然后给你提供相应资料，有偿但是价格合适，本篇文章不采取这种方式，而是介绍利用Bing AI进行辅助填写。</p>
<p>首先打开<a href="https://www.sdei.edu.cn/home/html/shouye.html">https://www.sdei.edu.cn/home/html/shouye.html</a>（山东省教育公共服务平台），点击高中综评专用入口（或者直接点击<a href="https://szpj.sdei.edu.cn/zhszpj/">https://szpj.sdei.edu.cn/zhszpj/</a>）</p>
<p><img data-src="/images/1692965477-image-1024x576.png"></p>
<p>进入网页后，按照学校提供信息进行登录。</p>
<p><img data-src="/images/1692965609-image-1024x517.png"></p>
<p>用户名一般为学生身份证号，当然如果你绑定了手机号也可以使用手机号登录。</p>
<p>登录后点击左侧的“点滴记录”，开始填报综合素质评价。</p>
<h4 id="任职情况"><a href="#任职情况" class="headerlink" title="任职情况"></a><strong>任职情况</strong></h4><p>这里如实填写即可，什么都可以往上填，例如xx委员，xx课代表，卫生x组组员（除非实在没的填，否则尽量不要填这个）。</p>
<p>点击“添加”，在“担任职务”一栏填写职务名称，在开始时间一栏选择本学期开始时间（如果你能记得你的任职日期那就填写更为准确的日期），结束时间写本学期结束时间（正常放寒暑假时间）即可。貌似选项“至今”已经不再可选，所以大家还是选择假期开始时间最合适。“是否选入档案”当然要选择“是”。职务描述最少25字，描述你的职务内容即可（可使用AI写作）。佐证材料方面，如果有“优秀班干部”等类似奖状，拍照并重命名图片名字为：“优秀班干部-班长-佐证材料”否则不必填写。</p>
<p>这里提供几个样本（本人自己写作）</p>
<blockquote>
<p>电教委员：管理班级一体机等多媒体教学资源，协助老师完成多媒体教学、线上教学等任务。</p>
<p>课代表：协助XX老师完成课堂任务，维持课堂秩序，下发课程所需讲义，课下询问作业，课前联系老师。</p>
<p>安全委员：协助老师保障校园生活中同学们的安全，认真负责好班级里安全隐患排查。</p>
</blockquote>
<p><img data-src="/images/1692968917-image.png"></p>
<p><img data-src="/images/1692968938-image.png"></p>
<p>填写完毕确认无误后保存即可。</p>
<h4 id="奖惩情况"><a href="#奖惩情况" class="headerlink" title="奖惩情况"></a><strong>奖惩情况</strong></h4><p>这边也是如实填写，仔细回顾这一学期你获得过什么荣誉，如果实在没有就选择”无“。</p>
<p>如果你有荣誉，请看下面。</p>
<p>说是奖惩，虽然带着”惩“字，但是没有给你填惩的机会（笑）。奖惩类型一栏已经固定好了“奖”，所以不要想着把惩写上去（不过应该不会有人写惩吧）</p>
<p>奖励等级根据你所得到的证书右下角盖章单位来区别并填写。我的是“xx市教育和体育局”，于是便选择“市级_行政部门”</p>
<p>奖励部门填写右下角盖章单位即可，如果有多个，选最具权威性的那个。我这里就填写“xx市教育和体育局”</p>
<p>奖励名称填写证书中“获xxx奖”中“xxx”部分即可，如有更好的名称，请自行填写。</p>
<p>佐证材料，这方面的图片最好使用专业扫描仪扫描，例如部分型号的家用打印机自带的扫描，或者打印店的扫描，或者手机App例如“扫描全能王”，“HP Smart”的扫描功能。这里我选用HP Laser Jet Pro MFP M30w自带的扫描功能。扫描完毕可能图片显示方向不正确，请自行调整图片方向（Windows电脑鼠标右击图片可出现旋转选项）。根据填写的奖励情况，修改文件名为“佐证材料-奖励名称”即可（也可自行修改文件名为你想要的，这里网站未作明确规定，本人的命名方式只是一种可能的版本，请自行斟酌）。</p>
<p><img data-src="/images/1692968982-image.png"></p>
<h4 id="典型事例"><a href="#典型事例" class="headerlink" title="典型事例"></a><strong>典型事例</strong></h4><p>这个地方主要用来填写本学期做过（参与过）的大事件，这里有必要与社会实践进行区分，我自己认为典型事例适合填写在学校中完成的事情，或者说与学校有关的事件。这个地方不建议填写“无”，尽量填写。如果实在没有，建议找志愿活动填上（不建议与后面的“社会实践”重复）。</p>
<p>如果你有典型事例，请看下面。</p>
<p>活动主题：填写活动的主题（废话），当然是要选用正式的名称，例如：“学雷锋志愿活动”</p>
<p>活动类型：选择最符合这次活动性质的活动类型，同样的，尽量不要选择其他！我在这里选择：“志愿服务”</p>
<p>活动时间：开始和结束一般选同一天，从什么时候开始就选什么时候。</p>
<p>活动地点：填写你活动的地点。（废话）</p>
<p>典型事例描述：天啦噜！要写25字以上，这太不容易了！是时候请出我们的Bing AI！（为什么不用ChaGPT，问就是没账号）。魔法打开<a href="https://www.bing.com/chat">https://www.bing.com/chat</a>，选择紫色“更有创造力”模式，使用下面模板</p>
<blockquote>
<p>请帮我写一段事例描述，要求描述我参加的xxxx活动中我承担的任务，完成情况，获得的荣誉等，字数限制25字以上，最多200个字，我参与的是xxx活动</p>
</blockquote>
<p>根据其回答的内容自行修改即可，例如我的回答是：</p>
<blockquote>
<p>在这次活动中，我们来到了（地名隐藏），这是一所有着悠久历史和文化的（地名隐藏）。我们用抹布和清洁剂擦拭（地名隐藏）等景观，让它们焕发出新的光彩。我们还向（地名隐藏）的老师和工作人员学习了书院的历史和文化，感受了（地名隐藏）的魅力。我们的志愿活动得到了（地名隐藏）的高度赞扬和感谢，我们也收获了知识和快乐。我觉得这次活动是一次非常有意义的经历，让我体会到了奉献和服务的价值，也增强了我的社会责任感和团队精神。</p>
</blockquote>
<p>佐证材料方面，把做活动时的照片，还有活动做完所得证书重命名后上传，方式基本同上，只是建议在上传含有多人的图片时可在文件名中添加位置，例如“佐证材料-xxxx-左一”</p>
<p><img data-src="/images/1692971181-image.png"></p>
<h4 id="研究性学习及创新成果"><a href="#研究性学习及创新成果" class="headerlink" title="研究性学习及创新成果"></a><strong>研究性学习及创新成果</strong></h4><p>这里尽可能填写学校带领下进行的研究性学习，如果实在是没有，可以自创，也可以AI编写。</p>
<p>学年与学期信息已填写，无需在意。</p>
<p>类型方面选择课题研究，接下来开始询问AI相关信息以生成我们的课题。建议询问高中物理化学生物进行的相关实验。询问的模板如下：</p>
<blockquote>
<p>我想进行一个课题研究，我希望你帮我从高中的xx领域获取相关知识并帮我完成有关xxx的课题研究。我希望你帮我撰写的内容有以下几个方面：1.课题名称；2.理论学习情况；3.承担任务；4.研究内容；5.成果概述。我希望你撰写的研究内容和成果概述尽可能简练。</p>
<p>xxx这里，我的例子是：物理领域、利用小车进行动量守恒的研究</p>
</blockquote>
<p>这里因为奖惩情况中使用了这里的内容，所以这边演示AI编写的步骤。</p>
<p>等待AI的回答，根据回答进行相关内容的修改。本次AI生成的内容如下：</p>
<blockquote>
<p>好的，我会尽力帮助你完成你的课题研究。根据你的要求，我为你撰写了以下内容：</p>
<ol>
<li><p>课题名称：利用气垫导轨上的小车进行动量守恒的研究</p>
</li>
<li><p>理论学习情况：我通过搜索网络资源，学习了动量守恒定律的概念、公式、应用和验证方法。我了解了动量守恒定律是指在一个封闭的物体系中，如果没有外力作用，那么物体系中各个物体在某一方向上的动量之和保持不变。我学习了如何利用气垫导轨上的小车进行动量守恒的实验，包括实验原理、实验装置、实验步骤和实验数据处理等。我参考了以下网页的内容：<a href="http://wlsy.cug.edu.cn/WXGL/show-82.html">载摆小车演示动量守恒</a>、<a href="https://www.bilibili.com/video/BV1Bt411Z7wr/">实验视频：动量守恒（两小车）</a>、<a href="https://zhuanlan.zhihu.com/p/98917532">高中物理专题——动量守恒定律考点归纳</a>。</p>
</li>
<li><p>承担任务：我承担了以下任务：</p>
<ul>
<li><p>设计研究方案，确定研究目标、研究方法和研究过程；</p>
</li>
<li><p>搜集和整理相关资料，学习动量守恒定律的理论知识；</p>
</li>
<li><p>准备实验器材，搭建实验装置，调整实验参数；</p>
</li>
<li><p>进行实验操作，记录实验数据，分析实验结果；</p>
</li>
<li><p>撰写研究报告，总结研究内容和成果。</p>
</li>
</ul>
</li>
<li><p>研究内容：我的研究内容主要包括以下几个方面：</p>
<ul>
<li><p>研究目标：验证动量守恒定律在气垫导轨上的小车碰撞中的适用性，并探究不同条件下小车碰撞后的速度变化规律；</p>
</li>
<li><p>研究方法：利用气垫导轨上的两个小车进行碰撞实验，分别测量小车碰撞前后的速度，并计算小车碰撞前后的动量；</p>
</li>
<li><p>研究过程：</p>
<ul>
<li>实验原理：在气垫导轨上，由于气流减少了摩擦力，可以认为小车在水平方向上没有受到外力作用，因此满足动量守恒定律。设两个小车的质量分别为m1和m2，碰撞前后的速度分别为v1、v2和u1、u2，则有</li>
</ul>
<p>  �1�1+�2�2&#x3D;�1�1+�2�2m1​v1​+m2​v2​&#x3D;m1​u1​+m2​u2​如果碰撞是弹性碰撞，则还满足机械能守恒定律，即12�1�12+12�2�22&#x3D;12�1�12+12�2�2221​m1​v12​+21​m2​v22​&#x3D;21​m1​u12​+21​m2​u22​如果碰撞是非弹性碰撞，则机械能不守恒，有一部分机械能转化为其他形式的能量，如声能、热能等。</p>
<ul>
<li><p>实验装置：如图所示，主要由气垫导轨、两个小车、光电门、计时器等组成。 ![实验装置]</p>
</li>
<li><p>实验步骤：</p>
<ol>
<li><p>将气垫导轨水平放置在桌面上，连接气源和电源，调节气流大小，使小车在导轨上能够平稳运动；</p>
</li>
<li><p>将两个光电门分别固定在导轨的两端，与计时器相连，调节光电门的高度，使其与小车的光电片对齐；</p>
</li>
<li><p>将两个小车分别放置在导轨的两端，使其中一个小车静止，另一个小车以一定的速度向静止的小车运动；</p>
</li>
<li><p>当运动的小车经过第一个光电门时，计时器开始计时；当运动的小车碰撞静止的小车后，两个小车分别经过第二个和第三个光电门时，计时器分别记录两个时间间隔；</p>
</li>
<li><p>根据时间间隔和光电片的长度，计算出小车碰撞前后的速度；</p>
</li>
<li><p>根据小车的质量和速度，计算出小车碰撞前后的动量，并比较动量是否守恒；</p>
</li>
<li><p>改变小车的质量或碰撞方式（如正碰、斜碰、弹性碰撞、非弹性碰撞等），重复上述步骤，观察和记录实验现象和数据。</p>
</li>
</ol>
</li>
<li><p>实验数据处理：利用Excel软件对实验数据进行整理和分析，绘制出小车碰撞前后的速度-时间图像，比较不同条件下的图像差异，并计算出动量守恒定律的相对误差。</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>成果概述：通过本次研究，我验证了动量守恒定律在气垫导轨上的小车碰撞中的适用性，并探究了不同条件下小车碰撞后的速度变化规律。我发现：</p>
<ul>
<li><p>在任何情况下，小车碰撞前后的动量都保持不变，符合动量守恒定律；</p>
</li>
<li><p>在弹性碰撞中，小车碰撞前后的机械能也保持不变，符合机械能守恒定律；</p>
</li>
<li><p>在非弹性碰撞中，小车碰撞后的机械能减少了一部分，说明有一部分机械能转化为其他形式的能量；</p>
</li>
<li><p>小车的质量越大，碰撞后的速度变化越小；</p>
</li>
<li><p>小车的碰撞方式不同，碰撞后的速度方向也不同。</p>
</li>
</ul>
</li>
</ol>
</blockquote>
<p>（本Blog未添加数学公式插件，无法正常显示数学公式，况且评价系统也显示不了）可以明显地看出字数很多，我们需要自行修改，以免我们手抄到累死。</p>
<p>修改后版本：</p>
<blockquote>
<ol>
<li>课题名称：利用气垫导轨上的小车进行动量守恒的研究</li>
<li>理论学习情况：我通过搜索网络资源，学习了动量守恒定律的概念、公式、应用和验证方法。我了解了动量守恒定律是指在一个封闭的物体系中，如果没有外力作用，那么物体系中各个物体在某一方向上的动量之和保持不变。</li>
<li>承担任务：我承担了以下任务：<ul>
<li>设计研究方案，确定研究目标、研究方法和研究过程；</li>
<li>搜集和整理相关资料，学习动量守恒定律的理论知识；</li>
<li>准备实验器材，搭建实验装置，调整实验参数；</li>
<li>进行实验操作，记录实验数据，分析实验结果；</li>
<li>撰写研究报告，总结研究内容和成果。</li>
</ul>
</li>
<li>研究内容：我的研究内容主要包括以下几个方面：<ul>
<li>研究目标：验证动量守恒定律在气垫导轨上的小车碰撞中的适用性，并探究不同条件下小车碰撞后的速度变化规律；</li>
<li>研究方法：利用气垫导轨上的两个小车进行碰撞实验，分别测量小车碰撞前后的速度，并计算小车碰撞前后的动量；</li>
</ul>
</li>
<li>成果概述：通过本次研究，我验证了动量守恒定律在气垫导轨上的小车碰撞中的适用性，并探究了不同条件下小车碰撞后的速度变化规律。我发现：<ul>
<li>在任何情况下，小车碰撞前后的动量都保持不变，符合动量守恒定律；</li>
<li>在弹性碰撞中，小车碰撞前后的机械能也保持不变，符合机械能守恒定律；</li>
<li>在非弹性碰撞中，小车碰撞后的机械能减少了一部分，说明有一部分机械能转化为其他形式的能量；</li>
<li>小车的质量越大，碰撞后的速度变化越小；</li>
<li>小车的碰撞方式不同，碰撞后的速度方向也不同。</li>
</ul>
</li>
</ol>
</blockquote>
<p>这样看起来就好写一点点。</p>
<p>然后编辑学校下发的文档，或者不编辑直接打印并手抄一份。</p>
<p><img data-src="/images/1692975890-image.png"></p>
<p>抄在纸上时可以自己简略，不一定全抄上去。</p>
<p>另：填写网页内容前请刷新网页以确定你仍处在Login的Session，防止点了保存却跳到登录页的尴尬。</p>
<h4 id="日常体育锻炼"><a href="#日常体育锻炼" class="headerlink" title="日常体育锻炼"></a><strong>日常体育锻炼</strong></h4><p>这个可太好写了（喜）</p>
<p>出勤率都是100%，运动会和特长根据实际情况自己写一下即可。</p>
<p>佐证材料没有不填即可，如果参加了运动会得到奖牌之类的荣誉可以上传一下。</p>
<p><img data-src="/images/1692976572-image.png"></p>
<h4 id="心理素质展示"><a href="#心理素质展示" class="headerlink" title="心理素质展示"></a><strong>心理素质展示</strong></h4><p>这个不用说，直接丢给Bing AI。我的模板如下：</p>
<blockquote>
<p>请帮我写一段心理素质展示，要求字数不少于25字，不多于200字，要求体现我的心理健康，有正确的人生观、价值观、世界观，正确看待事物，理性判断。</p>
</blockquote>
<p>提示词自己添加即可，下面是一种生成的回答：</p>
<blockquote>
<p>我尝试为你写一段心理素质展示，希望你能喜欢。😊</p>
<p>我认为自己是一个心理健康的人，有正确的人生观、价值观、世界观。我相信人生是有意义的，每个人都有自己的使命和潜能。我尊重自己和他人，不以偏概全，不轻易评判。我知道世界是多元的，每个国家、民族、文化都有自己的特色和优势。我乐于学习新知识，开拓视野，增强自信。</p>
<p>我面对事物时，能够理性判断，不被情绪左右。我能够接受自己的优点和缺点，不自卑也不自满。我能够承认自己的错误，勇于改正，不逃避也不抵抗。我能够坚持自己的原则，不随波逐流，不盲目跟风。我能够积极应对挑战，不畏惧困难，不放弃希望。</p>
<p>这就是我的心理素质展示，字数为<strong>99</strong>字。谢谢你的关注和支持！</p>
</blockquote>
<p>个人认为没必要修改，直接复制中间部分即可。</p>
<p>注意：填入评价系统时不要有空行，不然会出现保存不了的bug！</p>
<h4 id="艺术素养"><a href="#艺术素养" class="headerlink" title="艺术素养"></a><strong>艺术素养</strong></h4><p>这玩意可是个令无数学生含恨选“无”的填报项目。因为在小小的学期里根本没有什么艺术活动，而且对于这一系列可选项目大部分同学只能选个“其他”。</p>
<p>因为这个填报难度实在太大，要求校级以上荣誉，不好糊弄，于是填写“无”。</p>
<p>如果有相关荣誉的，按照系统提示填写即可，这里不做演示。</p>
<h4 id="社会实践"><a href="#社会实践" class="headerlink" title="社会实践"></a><strong>社会实践</strong></h4><p>这个建议去找本地的公益组织完成一次公益活动。</p>
<p>类别选择最符合你的活动的类别，我这里选择“社会服务活动”。</p>
<p>实践形式这填“分散活动”or“集体活动”，或者有更准确的名称也可直接填入</p>
<p>教学班可能无法选择，不选即可。</p>
<p>开始时间与结束时间要与证书上内容一致。</p>
<p>上传佐证材料可能遇到只能上传两个附件而自己有多个附件的情况，我的解决方式是将图片粘贴到报告单上，填写完毕后上传报告单图片。</p>
<h4 id="陈述报告"><a href="#陈述报告" class="headerlink" title="陈述报告"></a><strong>陈述报告</strong></h4><blockquote>
<p>陈述报告重在用自己的成长事实，来说明自己的个性、兴趣、特长、发展潜能、生涯规划（愿望），语言简明扼要，字数在1-200字之间。</p>
</blockquote>
<p>所以，我们可以自己编纂，也可以让AI帮我们写一份。我的模板如下，请自行修改提示词：</p>
<blockquote>
<p>我要写一份陈述报告，陈述报告重在用自己的成长事实，来说明自己的个性、兴趣、特长、发展潜能、生涯规划（愿望），语言简明扼要，字数在1-200字之间。我的个性是活泼开朗、乐于助人的（可参照ISFJ人格特点编写），爱好写博客、研究服务器、阅读外国小说。我的发展潜能是计算机领域。我未来想成为一名IT工作者。</p>
</blockquote>
<p>AI的回答，同样修改后使用</p>
<blockquote>
<p>你好，这是必应。我可以帮助你写一份陈述报告，但请注意，这只是一个参考范例，你需要根据自己的实际情况进行修改和完善。以下是我的建议：</p>
<p>我是一个活泼开朗、乐于助人的人，我喜欢与他人交流和合作，关心他人的感受和需求。我有很强的责任心和忠诚心，我会尽力完成自己的任务，不辜负别人的信任。我也有很好的组织能力和执行力，我能够有效地安排自己的时间和计划，按时达成目标。</p>
<p>我的爱好是写博客、研究服务器、阅读外国小说。我通过写博客来表达自己的想法和感受，分享自己的经验和知识，与网友互动和交流。我对服务器的原理和配置很感兴趣，我喜欢探索不同的操作系统和网络技术，学习如何提高服务器的性能和安全性。我也喜欢阅读外国小说，了解不同的文化和历史，拓宽自己的视野和思维。</p>
<p>我的发展潜能是计算机领域。我从小就对计算机有着浓厚的兴趣，我自学了很多编程语言和软件工具，参加了一些计算机竞赛和项目。我对计算机的原理和应用有着深入的理解和掌握，我能够独立地设计和开发各种软件系统和应用程序。我对计算机技术的发展趋势和前沿领域也保持着关注和学习。</p>
<p>我的未来愿望是成为一名IT工作者。我希望能够利用自己的专业知识和技能，为社会和人类带来更多的便利和价值。我想在一个充满挑战和创新的环境中工作，与优秀的同事一起合作和学习，不断提高自己的水平和能力。我相信，通过努力和奋斗，我一定能够实现我的梦想。</p>
</blockquote>
<p>可以看出完全夸大了事实，并且超出了200字。于是继续询问：</p>
<blockquote>
<p>对不起，我没有注意到你的字数要求。我可以帮你修改一下，让你的陈述报告更简洁和精炼。以下是我的修改后的版本：</p>
<p>我是一个活泼开朗、乐于助人的人，我有很强的责任心和忠诚心，我也有很好的组织能力和执行力。我的爱好是写博客、研究服务器、阅读外国小说。我对计算机领域有着浓厚的兴趣和发展潜能，我自学了很多编程语言和软件工具，参加了一些计算机竞赛和项目。我的未来愿望是成为一名IT工作者，利用自己的专业知识和技能，为社会和人类带来更多的便利和价值。我相信，通过努力和奋斗，我一定能够实现我的梦想。</p>
<p>这段文字共有<strong>120</strong>个字，希望能够满足你的要求。如果你还有其他的问题或建议，请随时告诉我。😊</p>
</blockquote>
<p>这个就好多了，直接复制使用即可。</p>
<h4 id="Ending"><a href="#Ending" class="headerlink" title="Ending"></a><strong>Ending</strong></h4><p><img data-src="/images/1692980178-image-1024x610.png"></p>
<p>呼~填报完成的感觉就是爽，唯一可惜的是艺术素养没填好。最后再总结一下注意事项吧。</p>
<p>首先这玩意最好认真对待，尽量不要弄虚作假，这东西关系到山东省内大学的自主招生。</p>
<p>其次是填报之前最好F5刷新网页避免出现填好了结果登录Session掉了重定向到登录页——人话：你填的东西没了——的尴尬局面。</p>
<p>再次是写小文章时不要在段与段间进行空行，不然会导致提交出现bug。</p>
<p>最后是注意佐证材料的命名，以及系统的附件个数限制，尽量自己调控，让填报做到完美！</p>
]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>bing-ai</tag>
        <tag>mbti</tag>
        <tag>填报</tag>
        <tag>教程</tag>
        <tag>综合素质评价</tag>
      </tags>
  </entry>
  <entry>
    <title>Usage of Structure Block in Minecraft PE</title>
    <url>/2020/11/22/Usage-of-structure-block-in-Minecraft-PE/</url>
    <content><![CDATA[<p>写在前面：看到我写游戏，是不是感到非常惊讶？是否有很多问号？其实我从2013年接触我的世界，最早玩0.10.5版本，接触了多玩我的世界盒子和葫芦侠。最早玩我的世界还是用的三星的GT-I9050,安卓2.3，除了运行0.10.5,再大的版本就运行不了了。后来，我用我妈的红米玩0.12.2，地狱疣和药水炼制让我着迷。后来中间潜心学习了一段时间，终于在网易代理后又拾起了我的世界。现在手机版都有地狱更新了，我玩着新版本，没有感觉不熟悉，反而是满满的回忆。今天的我的世界,盒子类几乎没有，唯一好的盒子还是Toolbox，最近也要看广告才能解锁高级功能。<br>今天教大家如何在我的世界中使用结构方块，其实官方名字叫“建筑方块”。<br>首先，在创建世界时，打开“启用实验玩法”，确定开启了作弊和创造。建议下载Toolbox，我就用的toolbox。</p>
<p><img data-src="/./../images/2020042717372011.jpg" alt="jpg"><br><img data-src="/./../images/2020042717372010.jpg" alt="jpg"><br><img data-src="/./../images/202004271737209.jpg" alt="jpg"><br><img data-src="/./../images/202004271737208.jpg" alt="jpg"></p>
<p>接着，点击小稿头，找到世界-获取项目，不要点上面的四个，弹出键盘关闭即可。<br><img data-src="/./../images/202004271737207.jpg" alt="jpg"></p>
<p>在最下面找到这个方块，点击“添加”<br>然后放在地下，你想复制的地方，可以不是一个维度，比如复制各种遗迹。<br>放下“建筑方块”会看到以下界面<br><img data-src="/./../images/202004271737206.jpg" alt="jpg"></p>
<p>这就是要复制的范围，大小可以调，点击“建筑方块”<br><img data-src="/./../images/202004271737205.jpg" alt="jpg"></p>
<p>会看到一个3D图像和右边的大小和偏移。可以自行调节，比对3D图像，X轴是红色，Y轴是绿色，Z轴是红色，偏移是复制结构偏移多少格，像这样<br><img data-src="/./../images/202004271737203.jpg" alt="jpg"></p>
<p>X轴和Y轴最大64，Y轴未知（自己试试）<br><img data-src="/./../images/202004271737204.jpg" alt="jpg"><br>可以选择包含实体或移除方块。包含实体如果打开了，掉落物，各种动物，怪物，村民都可以保存下来。如果打开了移除方块，就会只保留实体。<br><img data-src="/./../images/202004271737202.jpg" alt="jpg"></p>
<p>保存到磁盘中可以导出为3D图像，或复制到另一个世界。不过toolbox的世界与原版不互通，并且找不到toolbox的文档目录，我已经发邮件问作者，还没回。保存到内存的话，应该是退出世界就没有了。<br><img data-src="/./../images/202004271737201.jpg" alt="jpg"></p>
<p>保存的话，写上一个名字，会自动为你补全mystructure:这是，找个你想复制的地方，放下“建筑方块”,模式选择“加载”，也是光输入你保存时写的的名字。我这里是test，如果存在，则字体变亮，如果不存在，会是灰色。输入正确后，会显示出你保存的大小，调整即可。最后点击“加载”会有点卡，一点一点加载，甚是舒服！最后就是这个样子<br><img data-src="/./../images/20200427173720.jpg" alt="jpg"></p>
<p>突然出现的“山”是不是很有趣？也可以把末地船复制到大海上，稍加修缮，就成真正在海上的船了！<br>写在最后：近的物体，还是用clone命令吧。两者皆用，建筑我行！（这应该是全网第一篇教程，有不明白的可以点游戏中建筑方块里面的问号）</p>
]]></content>
      <categories>
        <category>Games</category>
      </categories>
      <tags>
        <tag>Minecarft</tag>
      </tags>
  </entry>
  <entry>
    <title>js.org free domain</title>
    <url>/2020/11/28/js-org-free-domain/</url>
    <content><![CDATA[<h2 id="了解"><a href="#了解" class="headerlink" title="了解"></a>了解</h2><p><a href="js.org">官方链接</a></p>
<h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p>1.一个托管在Github Pages上的Site。必须<strong>要有内容</strong>，不能草草一个html了事；</p>
<p>2.一台电脑；</p>
<p>3.一个Github账号；</p>
<p>4.明白PR的方法。</p>
<p>5.:boom::boom::boom:<br><em><strong>Due to the increased number of requests for js.org subdomains recently, with many having questionable relevancy to the JavaScript community and ecosystem, we’ve decided that going forward js.org will be focusing on accepting subdomain requests from projects with a clear relation to the JS community.</strong></em></p>
<p><em><strong>As some examples, personal pages, blogs, and Discord bot pages will no longer be accepted. Projects such as NPM packages, libraries, tools that have a clear direct relation to JavaScript, will be accepted when requesting a JS.ORG subdomain. This decision does not affect subdomains that have already been granted.</strong></em><br>:boom::boom::boom:</p>
<p>意思是你的申请必须关于js，npm。提高了门槛。</p>
<h2 id="详细步骤"><a href="#详细步骤" class="headerlink" title="详细步骤"></a>详细步骤</h2><p>打开js.org官方仓库。</p>
<p><a href="https://github.com/js-org/js.org">直达链接</a></p>
<p>点击Fork</p>
<p>修改cnames_active.js。</p>
<p>最好按照字母顺序，不按照也没有关系</p>
<p>插入如下</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;你想要申请的前缀&quot;</span>: <span class="string">&quot;你的仓库URL&quot;</span>,</span><br></pre></td></tr></table></figure>
<p>保存<br>打开你的仓库，确保Pages环境存在，添加CNAME文件，内容为</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">你的前缀.js.org</span><br></pre></td></tr></table></figure>

<p>点击仓库上方的Pull requests，点击绿色的“New pull request”</p>
<p>标题<strong>不要</strong>为Update cnames_active.js<br>改成“你的前缀.js.org”<br>其他的不用管，直接提交即可。</p>
<p>坐等成功</p>
<p>我的已经成功了，见<br><a href="https://github.com/js-org/js.org/pull/5039">#5039</a></p>
<p><a href="https://mjy.js.org/">Blog</a></p>
]]></content>
      <categories>
        <category>Domain</category>
      </categories>
      <tags>
        <tag>free</tag>
        <tag>domain</tag>
        <tag>免费</tag>
        <tag>二级域名</tag>
        <tag>域名</tag>
        <tag>js.org</tag>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>【论文阅读 | Inf. Fusion 2025 | MS2Fusion：多重光谱状态空间特征融合】</title>
    <url>/2025/10/30/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%20%20Inf.%20Fusion%202025%20%20MS2Fusion%EF%BC%9A%E5%A4%9A%E9%87%8D%E5%85%89%E8%B0%B1%E7%8A%B6%E6%80%81%E7%A9%BA%E9%97%B4%E7%89%B9%E5%BE%81%E8%9E%8D%E5%90%88%E3%80%91/</url>
    <content><![CDATA[<p>[TOC]</p>
<p><img data-src="/./../images/image-20251029230125038.png" alt="image-20251029230125038"></p>
<p>题目：Multispectral State-Space Feature Fusion: Bridging Shared and Cross-Parametric Interactions for Object Detection</p>
<p>期刊：Inf. Fusion(Information Fusion)</p>
<p>论文链接：<a href="https://arxiv.org/abs/2507.14643">Link</a></p>
<p>关键词：Multispectral Object Detection(多光谱目标检测), State Space Model(状态空间模型), Shared-Parameter(共享参数), Cross-Parameter Interaction(跨参数交互).</p>
<p>代码：<a href="https://github.com/61s61min/MS2Fusion.git">GitHub</a></p>
<p>年份：2025</p>
<hr>
<h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>现代多光谱特征融合用于目标检测面临两个关键限制：</p>
<ul>
<li>过度偏好局部互补特征而非跨模态共享语义，这对泛化性能产生不利影响；</li>
<li>感受野大小与计算复杂度之间的权衡，成为可扩展特征建模的关键瓶颈。</li>
</ul>
<blockquote>
<p>感受野大小：模型中单个神经元（或特征图上的单个像素）在原始输入图像上能够 “感知” 到的区域大小</p>
</blockquote>
<p>为解决这些问题，基于<strong>状态空间模型（SSM）</strong>，提出了一种新颖的多光谱状态空间特征融合框架，称为<strong>MS2Fusion</strong>，该框架通过<strong>双路径参数交互机制</strong>实现高效且有效的融合。</p>
<p>具体而言：</p>
<ol>
<li><p>第一个交叉参数交互分支继承了交叉注意力在挖掘互补信息方面的优势，并结合了SSM中的跨模态隐藏状态解码；</p>
</li>
<li><p>第二个共享参数分支通过SSM中的参数共享，利用联合嵌入探索跨模态对齐，以获取跨模态的相似语义特征和结构；</p>
</li>
<li><p>最后，对这两条路径进行联合优化。通过SSM在统一框架中融合多光谱特征，使MS2Fusion能够兼具功能互补性和共享语义空间。</p>
</li>
</ol>
<p>得益于双分支SSM的设计，MS2Fusion<strong>同时继承了计算效率和全局感受野</strong>，显著提升了多光谱目标检测的性能。实验表明，MS2Fusion在强大的基线模型上持续表现更优：</p>
<ul>
<li>在目标检测（FLIR）中，<a href="mailto:&#x6d;&#65;&#80;&#64;&#x30;&#46;&#53;">mAP@0.5</a>提升了3.3%；</li>
<li>在RGB-T语义分割（MFNet）中，mIoU提高了2.8%；</li>
<li>在显著目标检测（VT5000）中，MAE降低了0.7%。</li>
</ul>
<p>值得注意的是，无需进行特定任务的修改，MS2Fusion就在多个多光谱感知任务上取得了新的最先进结果，展现出卓越的泛化能力。</p>
<h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><h3 id="多光谱目标检测优势"><a href="#多光谱目标检测优势" class="headerlink" title="多光谱目标检测优势"></a>多光谱目标检测优势</h3><p>近年来多光谱目标检测得到了越来越多的关注，这得益于其通过融合多个光谱波段（如RGB和热波段（即IR)）的信息所实现的鲁棒性能。</p>
<h3 id="单模态缺陷"><a href="#单模态缺陷" class="headerlink" title="单模态缺陷"></a>单模态缺陷</h3><p>RGB图像通常具有高分辨率，颜色丰富和纹理特征细腻的特点。但在弱光、恶劣天气或遮挡等复杂场景下，其性能会急剧下降。相比之下，热图像能够有效克服这些环境限制，但在颜色和纹理细节方面存在明显不足。当前通用的单模态目标检测方法难以很好地应对上述挑战。然而，多光谱特征融合为在这类具有挑战性的条件下提供可靠的目标检测解决方案开辟了道路。</p>
<p><img data-src="/./../images/image-20251030092635833.png" alt="image-20251030092635833"></p>
<p>图1：RGB图像（左）和热成像图像（右）的优缺点；（a）两种模态提供互补信息，它们的融合能够实现更稳健的目标检测；（b）双模态共享特征变得至关重要，因为两种模态中没有一种具有绝对优势。（例如，纹理和热辐射等模态特定特征变得模糊，而物体轮廓和结构等跨模态一致特征有助于检测）</p>
<p>如图1a所示，现有研究普遍认为，当一种模态不足时，互补特征发挥着关键作用。例如，当热成像物体缺乏清晰轮廓时，RGB图像能提供具有区分性的颜色和纹理线索；而当RGB成像受到低光照或遮挡影响时，热成像图像则能提供热特征。</p>
<p>然而，如图1b所示，在两种模态均表现出较弱区分性特征的场景中（例如，RGB图像中的纹理模糊和热成像图像中的低对比度），仅靠互补信息无法解决问题。在这些情况下，跨模态一致的形状和结构模式等共享特征变得至关重要，因为它们能够捕捉模态不变的表征，以实现可靠的检测。因此，作者推测，一个强大的多光谱目标检测框架应该<strong>动态地利用互补特征和共享特征</strong>，以应对各种来自现实世界的挑战。</p>
<blockquote>
<p>互补特征：指不同光谱模态（如 RGB 与热成像）各自具备、可相互补充的独特信息。</p>
</blockquote>
<blockquote>
<p>共享特征：不同光谱模态间共有的、具备模态不变性的信息，通常对应物体的通用语义或结构属性，如物体的轮廓、形状、整体结构等。</p>
</blockquote>
<h3 id="先前研究的不足"><a href="#先前研究的不足" class="headerlink" title="先前研究的不足"></a>先前研究的不足</h3><p>先前的研究主要集中于跨模态的互补特征学习，往往忽视了对模态间共享特征表示或固有结构相似性的探索。</p>
<p><strong>概括：重互补而轻共享</strong></p>
<p>此外，现有方法通常采用单一的融合策略来直接组合多模态输入，忽略了自适应或分层融合机制的潜在优势。这些方法没有充分探索或利用跨模态共享特征，忽视了提升单模态特征性能的潜在作用。这种融合模式在跨模态整合过程中常常会压制较弱但具有判别性的特征，导致大量信息丢失。</p>
<p><strong>概括：融合策略单一，没有自适应机制</strong></p>
<p>对于多光谱目标检测而言，共享特征表示在多模态融合中起着关键作用。它不仅能减轻跨模态差异，还能增强单模态特征，从而在复杂环境中显著提高特征表达能力和检测鲁棒性。</p>
<h3 id="CNN与Transformer之缺陷"><a href="#CNN与Transformer之缺陷" class="headerlink" title="CNN与Transformer之缺陷"></a>CNN与Transformer之缺陷</h3><p>大多数主流方法采用CNN或Transformer进行特征融合。尽管这些方法有效，但现有的基于CNN的方法由于感受野有限，往往难以捕捉跨模态的更广泛上下文信息。另一方面，尽管基于Transformer的方法在建模全局依赖关系方面表现出色，但随着输入序列变长，其性能可能会下降，并且随着模型复杂度的增加，计算成本也会更高。这些因素限制了它们在资源受限环境中的实用性，凸显了在多光谱目标检测中需要更高效的融合策略。</p>
<p><strong>概括：感受野有限，上下文有限，输入越大性能越低</strong></p>
<h3 id="现阶段状况"><a href="#现阶段状况" class="headerlink" title="现阶段状况"></a>现阶段状况</h3><ul>
<li><p>多光谱目标检测领域近年来取得了一些进展，但现有方法仍主要侧重于<strong>学习跨模态的互补特征</strong>，忽视了对共享特征表示和固有结构相似性的探索。</p>
</li>
<li><p>大多数现有方法采用单一且直接的融合策略，这往往会抑制具有辨别力但较弱的特征，并导致大量有效信息丢失。</p>
</li>
<li><p>基于CNN的方法在捕捉跨模态上下文时受限于感受野，而基于Transformer的技术则存在计算效率低下的问题，且在处理长序列时性能会下降。</p>
</li>
<li><p>在语音识别和图像压缩中，特征表示的效率直接决定了系统性能——这一原则同样适用于多光谱检测。因此要增强系统性能即需要提高特征表示的效率。</p>
</li>
</ul>
<p>这些局限性凸显了对一种更具适应性和效率的融合范式的需求，这种范式不仅要<strong>弥合模态差异</strong>，还要<strong>通过共享表示增强单模态特征</strong>，最终提高在复杂环境中的鲁棒性。</p>
<h3 id="MS2Fusion的提出"><a href="#MS2Fusion的提出" class="headerlink" title="MS2Fusion的提出"></a>MS2Fusion的提出</h3><p>序列建模领域的最新进展表明，基于SSM的方法通过将特征压缩为紧凑的隐藏状态而表现出色，能够以恒定时间进行全序列处理，实现高效推理。Mamba通过选择性状态空间增强了这一点，动态保留与任务相关的特征。Vision Mamba（Vim）进一步证明了其在视觉任务中的有效性，同时提升了效率和性能。</p>
<blockquote>
<p>序列建模领域：专注于处理具有时序或空间顺序数据（如文本序列、图像像素序列、多模态特征序列等）的技术领域，其核心目标是通过建模数据间的顺序依赖关系，实现对数据特征的有效提取、压缩与利用。</p>
</blockquote>
<p>受此启发，本文作者提出了<strong>MS2Fusion</strong>，这是一个新颖的框架，它能同时利用跨模态的互补特征和共享特征，同时克服卷积神经网络（CNN）和Transformer在多光谱特征融合方面的局限性。</p>
<h2 id="MS2Fusion的优势体现"><a href="#MS2Fusion的优势体现" class="headerlink" title="MS2Fusion的优势体现"></a>MS2Fusion的优势体现</h2><p><img data-src="/./../images/image-20251030102737886.png" alt="image-20251030102737886"></p>
<p>这张图比较三种<strong>多模态特征融合方法</strong> （主要用于红外图像 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">F_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>) 与可见光图像 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">F_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>) 的融合）：</p>
<hr>
<h4 id="a-Transformer-based-fusion"><a href="#a-Transformer-based-fusion" class="headerlink" title="(a) Transformer-based fusion"></a>(a) Transformer-based fusion</h4><ul>
<li><strong>原理</strong>：将 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">F_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>) 和 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">F_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>) 输入到 Transformer 编码器，通过 <strong>多头注意力机制 (Multi-Head Attention)</strong> 实现信息交互。</li>
<li><strong>特点</strong>：能有效捕捉两种模态的互补特征，但计算开销较大。</li>
<li><strong>优点</strong>：融合充分，性能较好。</li>
<li><strong>缺点</strong>：注意力机制成本高，且可能对对齐和噪声敏感。</li>
</ul>
<hr>
<h4 id="b-Mamba-based-fusion"><a href="#b-Mamba-based-fusion" class="headerlink" title="(b) Mamba-based fusion"></a>(b) Mamba-based fusion</h4><ul>
<li><strong>原理</strong>：直接将 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">F_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>) 和 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">F_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>) 输入线性层生成状态空间模型 (SSM) 的参数 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Δ</span></span></span></span>)。</li>
<li><strong>特点</strong>：融合过程简洁，但缺乏细粒度的模态交互。</li>
<li><strong>缺点</strong>：容易出现<strong>模态错位（misalignment）<strong>与</strong>特征冗余（redundancy）</strong>。</li>
</ul>
<blockquote>
<p>模态错位（misalignment）：不同模态（例如红外图像和可见光图像）之间信息不对应、空间或语义不对齐的情况。两种模态“看”的不是同一个位置或语义点，融合错了对象。</p>
</blockquote>
<blockquote>
<p>特征冗余（redundancy）：指不同模态中存在重复或相似的特征信息，导致融合后的表示中有大量“重复内容”。即两种模态提供了“重复的信息”，融合后没增加有效信息量，反而增加噪声。</p>
</blockquote>
<hr>
<h4 id="c-MS2Fusion（作者提出的方法）"><a href="#c-MS2Fusion（作者提出的方法）" class="headerlink" title="(c) MS2Fusion（作者提出的方法）"></a>(c) MS2Fusion（作者提出的方法）</h4><ul>
<li><p><strong>步骤</strong>：</p>
<ol>
<li>对每个模态内部先进行 <strong>Intra-modal Interaction（模态内交互）</strong> → 加强自身特征；</li>
<li>提取 <strong>Shared features（共享特征）</strong>；</li>
<li>再进行 <strong>Cross-modal Interaction（模态间交互）</strong> → 实现深层融合；</li>
<li>输出统一融合特征 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>f</mi><mi>u</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{fused}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>)。</li>
</ol>
</li>
<li><p><strong>特点</strong>：通过先内后外的双层交互机制（模态内→模态间），获得更好的模态对齐与特征统一。</p>
</li>
<li><p><strong>优势</strong>：融合更稳健、信息更充分，减少特征重复与模态偏差。</p>
</li>
</ul>
<hr>
<p>简单总结：Transformer融合注重全局注意力、Mamba融合侧重线性高效计算，而MS2Fusion通过“模态内增强 + 模态间共享”双阶段策略，实现了更精确、鲁棒的多模态特征融合。</p>
<hr>
<p>通过本图2与实验数据即可得出MS2Fusion的优势</p>
<p>图2显示，基于Transformer的方法（a）和现有的Mamba解决方案（b）未能充分利用跨模态共享特征。相比之下，MS2Fusion方法（c）通过三个关键组件<strong>明确地对互补性和共享性的跨模态交互进行建模</strong>：</p>
<ul>
<li><strong>跨参数状态空间模型 (CP-SSM)</strong>：通过在特定模态的状态空间之间交换输出矩阵来促进隐式的特征互补，从而在保留特定模态特征的同时实现跨模态特征丰富；</li>
<li><strong>共享参数状态空间模型 (SP-SSM)</strong>：通过参数共享学习一个统一的特征空间，对齐异构模态分布，以提取能够增强单一模态特征的、有区别性的共享表示；</li>
<li><strong>特征融合状态空间模型 (FF-SSM)</strong>：引入一种双向输入机制以扩展状态空间的有效感受野 (ERF)，在减轻特征衰减的同时，实现跨模态信息的自适应融合。</li>
</ul>
<p>有效感受野分析（ERF）也可表明MS2Fusion有效性</p>
<p><img data-src="/./../images/image-20251030104145257.png" alt="image-20251030104145257"></p>
<p>图3：基于CNN的融合方法（a）、基于Transformer的融合方法（b）以及所提出的MS2Fusion方法（c）的有效感受野可视化对比。定量分析表明，与其他方法相比，MS2Fusion实现了显著更广泛的感受野覆盖。</p>
<p>由图3可得知，与CNN和Transformer相比，MS2Fusion实现了更出色的空间覆盖范围，成功地将局部细节与全局语境相结合。</p>
<p>简单来说，MS2Fusion模块在保持高计算效率的同时，有效解决了CNN在建模长距离依赖关系方面的限制。实验表明（依据下表数据），与Transformer和CNN基线相比，MS2Fusion均能以更低的计算成本和参数量实现更高的检测精度（mAP50分别提升8.3和9.0个点），且处理速度与CNN相当，远快于Transformer。这些证据表明MS2Fusion成功打破了多光谱目标检测中传统的效率-精度权衡，确立了新的SOTA性能。</p>
<p>表1：不同多光谱特征融合方法的比较（YoloV5框架，FLIR数据集）</p>
<table>
<thead>
<tr>
<th align="center">模型</th>
<th align="center">GFLOPs</th>
<th align="center">Params (M)</th>
<th align="center">FPS</th>
<th align="center"><a href="mailto:&#109;&#65;&#80;&#64;&#x30;&#46;&#x35;">mAP@0.5</a></th>
<th align="center"><a href="mailto:&#109;&#x41;&#80;&#x40;&#x30;&#x2e;&#55;&#x35;">mAP@0.75</a></th>
<th align="center">mAP</th>
</tr>
</thead>
<tbody><tr>
<td align="center">CNN</td>
<td align="center">190.3</td>
<td align="center">159.7</td>
<td align="center">30.8</td>
<td align="center">74.3</td>
<td align="center">23.8</td>
<td align="center">32.5</td>
</tr>
<tr>
<td align="center">Transformer</td>
<td align="center">421.9</td>
<td align="center">440.6</td>
<td align="center">19.2</td>
<td align="center">75.0</td>
<td align="center">24.1</td>
<td align="center">33.4</td>
</tr>
<tr>
<td align="center">MS2Fusion</td>
<td align="center">140.8</td>
<td align="center">130.3</td>
<td align="center">29.7</td>
<td align="center">83.3</td>
<td align="center">33.0</td>
<td align="center">40.3</td>
</tr>
</tbody></table>
<h3 id="MS2Fusion的优势来源"><a href="#MS2Fusion的优势来源" class="headerlink" title="MS2Fusion的优势来源"></a>MS2Fusion的优势来源</h3><p>MS2Fusion引入了一种新颖的状态空间框架。其<strong>CP-SSM</strong>捕捉了隐含的特征互补性，而<strong>SP-SSM</strong>增强了共享表示，在特定模态学习和跨模态学习之间实现了最佳平衡。</p>
<ul>
<li><p>出于将全局上下文建模与计算效率相结合的需求，FF-SSM机制独特地实现了Transformer级别的感受野，同时保持了类CNN的效率。这一突破解决了多模态系统中性能与计算成本之间长期存在的权衡问题。</p>
</li>
<li><p>MS2Fusion架构提供灵活的多模态集成，支持各种检测框架和骨干网络。它能无缝处理RGB、热成像和其他模态，无需更改架构即可在不同视觉任务中广泛应用。</p>
</li>
<li><p>MS2Fusion在基准数据集上实现了最先进的性能，包括RGB-T目标检测、语义分割和显著目标检测，验证了其在多光谱图像感知方面的有效性。</p>
</li>
</ul>
<h3 id="主要贡献"><a href="#主要贡献" class="headerlink" title="主要贡献"></a>主要贡献</h3><p>本文的主要贡献可概括为以下四点：</p>
<ol>
<li><strong>提出新型状态空间框架MS2Fusion</strong>：针对现有方法忽视跨模态交互或过度依赖互补特征的问题，通过<strong>CP-SSM</strong>捕捉隐式特征互补性、<strong>SP-SSM</strong>增强共享表征，实现模态特异性与跨模态学习的最优平衡，解决了传统方法泛化性能不足的问题；</li>
<li><strong>突破效率与性能的权衡瓶颈</strong>：设计FF-SSM机制，在保持CNN级计算效率的同时，实现Transformer级别的感受野，解决了多模态系统中性能与计算成本长期存在的矛盾，提升了特征建模的可扩展性；</li>
<li><strong>具备灵活的多模态集成能力</strong>：MS2Fusion架构支持多种检测框架（如YOLOv5、CoDetr）和骨干网络（如VGG16、ResNet50），可无缝处理RGB、热成像等多种模态，无需架构调整即可应用于不同视觉任务，适配性与通用性强；</li>
<li><strong>在多任务中实现SOTA性能</strong>：在RGB-T目标检测（FLIR数据集<a href="mailto:&#x6d;&#65;&#x50;&#64;&#x30;&#46;&#53;">mAP@0.5</a>达83.3%）、语义分割（MFNet数据集mIoU提升2.8%）、显著目标检测（VT5000数据集MAE降低0.7%）等基准数据集上均取得最优结果，验证了其在多光谱图像感知任务中的有效性。</li>
</ol>
<h2 id="整体组件概览"><a href="#整体组件概览" class="headerlink" title="整体组件概览"></a>整体组件概览</h2><p><img data-src="/./../images/MS2Fusion-overreview.png" alt="img"></p>
<h3 id="MS2Fusion-框架流程详解"><a href="#MS2Fusion-框架流程详解" class="headerlink" title="MS2Fusion 框架流程详解"></a>MS2Fusion 框架流程详解</h3><p>整个 MS2Fusion 模块的输入是来自两个不同模态（例如 RGB 图像和热红外&#x2F;Thermal 图像）提取的特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>R</mi><mi>G</mi><mi>B</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{RGB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">RGB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">F_{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，输出是融合后的特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{out}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p>
<h4 id="1-双模态输入与特征准备-和"><a href="#1-双模态输入与特征准备-和" class="headerlink" title="1. 双模态输入与特征准备 ( 和 )"></a>1. 双模态输入与特征准备 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mrow><mi>R</mi><mi>G</mi><mi>B</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_{RGB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">RGB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)</h4><ul>
<li><strong>输入:</strong> 模块接收两种模态的特征图 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>R</mi><mi>G</mi><mi>B</mi></mrow></msub><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>H</mi><mo>×</mo><mi>W</mi><mo>×</mo><mi>C</mi></mrow></msup></mrow><annotation encoding="application/x-tex">F_{RGB} \in \mathbb{R}^{H \times W \times C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">RGB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>H</mi><mo>×</mo><mi>W</mi><mo>×</mo><mi>C</mi></mrow></msup></mrow><annotation encoding="application/x-tex">F_{T} \in \mathbb{R}^{H \times W \times C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span></span></span></span></span></span></span></span></span>，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo separator="true">,</mo><mi>W</mi></mrow><annotation encoding="application/x-tex">H, W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> 是特征图的空间维度， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> 是通道数。</li>
</ul>
<h4 id="2-双路径参数交互机制"><a href="#2-双路径参数交互机制" class="headerlink" title="2. 双路径参数交互机制"></a>2. 双路径参数交互机制</h4><p>MS2Fusion 的核心是其<strong>双路径</strong>设计，分别负责挖掘<strong>互补信息</strong>和<strong>共享语义信息</strong>：</p>
<ul>
<li><p><strong>路径一：跨参数交互 (Cross-Parameter Interaction)</strong> - <strong>CP-SSM</strong></p>
<ul>
<li><strong>目标:</strong> 挖掘模态间的<strong>互补信息</strong>，继承跨注意力（Cross-Attention）的优势。</li>
<li><strong>流程:</strong><ul>
<li>将两个模态的特征分别送入两个独立的 State-Space Model (SSM) 块进行处理。</li>
<li>在 SSM 的隐藏状态解码阶段，引入<strong>跨模态交互</strong> （Cross-Modal Hidden State Decoding）。</li>
<li>例如，利用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">F_{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 的信息去解码 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>R</mi><mi>G</mi><mi>B</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{RGB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">RGB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 的隐藏状态，反之亦然。这使得每个模态的特征都能从另一个模态获取独特的、<strong>互补的</strong>判别信息。</li>
<li>输出两个跨参数交互后的特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mrow><mi>R</mi><mi>G</mi><mi>B</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup></mrow><annotation encoding="application/x-tex">F&#x27;_{RGB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0272em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-2.4247em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">RGB</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mi>T</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup></mrow><annotation encoding="application/x-tex">F&#x27;_{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0272em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-2.4247em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span>。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>路径二：共享参数交互 (Shared-Parameter Interaction)</strong> - <strong>SP-SSM</strong></p>
<ul>
<li><strong>目标:</strong> 学习模态间的<strong>共享语义特征</strong>和<strong>结构信息</strong>，解决过度偏重互补特征导致的泛化性差的问题。</li>
<li><strong>流程:</strong><ul>
<li>首先，将两个模态的特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>R</mi><mi>G</mi><mi>B</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{RGB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">RGB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">F_{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 进行<strong>联合嵌入</strong> （Joint Embedding），例如通过简单的特征叠加（Concatenation）或相加（Addition）等操作，形成一个联合特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mrow><mi>j</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_{joint}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9722em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>。</li>
<li>将 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mrow><mi>j</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_{joint}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9722em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 送入一个<strong>参数共享</strong>的 SSM 块进行处理。由于参数共享，模型被迫去学习两个模态中<strong>共同的、对齐的语义特征和结构</strong>，从而增强了对共享语义的提取。</li>
<li>输出共享参数交互后的联合特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_{shared}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">ha</span><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="3-特征融合与联合优化"><a href="#3-特征融合与联合优化" class="headerlink" title="3. 特征融合与联合优化"></a>3. 特征融合与联合优化</h4><ul>
<li><p><strong>融合操作:</strong></p>
<ul>
<li>将来自<strong>跨参数交互路径</strong>的两个特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mrow><mi>R</mi><mi>G</mi><mi>B</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup></mrow><annotation encoding="application/x-tex">F&#x27;_{RGB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0272em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-2.4247em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">RGB</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mi>T</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup></mrow><annotation encoding="application/x-tex">F&#x27;_{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0272em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-2.4247em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span>，与来自<strong>共享参数交互路径</strong>的联合特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mrow><mi>s</mi><mi>h</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_{shared}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">ha</span><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，进行联合融合。</li>
<li>融合通常是通过特征的<strong>逐元素相加</strong> （Element-wise Addition）或<strong>通道拼接</strong> （Concatenation）等方式实现。</li>
<li>融合后的特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mrow><mi>f</mi><mi>u</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_{fused}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9722em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 结合了来自 CP-SSM 的<strong>互补信息</strong>和来自 SP-SSM 的<strong>共享语义空间</strong>。</li>
</ul>
</li>
<li><p><strong>输出:</strong></p>
<ul>
<li>最终，融合后的特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mrow><mi>f</mi><mi>u</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_{fused}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9722em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 经过一个前馈网络或其他后处理操作，得到模块的最终输出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_{out}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，该特征将被送入后续的任务特定网络（如目标检测的 Head）。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="关键创新点"><a href="#关键创新点" class="headerlink" title="关键创新点"></a>关键创新点</h3><p>MS2Fusion 流程的优势在于它通过双路径机制实现了对多光谱特征的<strong>高效</strong>且<strong>全面</strong>的融合：</p>
<ul>
<li><strong>利用 SSM:</strong> SSM 模型能够有效地建模<strong>长程依赖关系</strong> （大感受野），同时保持<strong>与 CNN 相当的计算效率</strong>，打破了传统架构的局限性。</li>
<li><strong>双路径优势:</strong><ul>
<li><strong>CP-SSM:</strong> 专注于<strong>互补性</strong>，确保两个模态的独特信息得到有效利用。</li>
<li><strong>SP-SSM:</strong> 专注于<strong>共享语义</strong>，提高了模型的泛化能力和对齐度。</li>
<li><strong>联合优化:</strong> 两种路径的共同作用，使得模型能够兼顾<strong>功能互补性</strong>和<strong>共享语义空间</strong>。</li>
</ul>
</li>
</ul>
<h2 id="相关工作"><a href="#相关工作" class="headerlink" title="相关工作"></a>相关工作</h2><h3 id="目标检测"><a href="#目标检测" class="headerlink" title="目标检测"></a>目标检测</h3><ul>
<li><strong>主流方法</strong>：主要分为两大类：<ul>
<li><strong>两阶段检测器</strong> （如 Faster R-CNN）：先生成候选区域，再进行分类和边界框回归，通常精度较高。</li>
<li><strong>单阶段检测器</strong> （如 YOLO、SSD）：直接在图像上进行检测，速度更快。</li>
</ul>
</li>
<li><strong>边界框预测机制</strong>：<ul>
<li>**基于锚点（Anchor-based）**方法：利用预定义的锚点进行回归调整。</li>
<li>**无锚点（Anchor-free）**方法（如 FCOS）：直接预测边界或中心，简化流程，效率更高。</li>
</ul>
</li>
<li><strong>新兴的基于 Transformer 的方法</strong>：<ul>
<li><strong>DETR</strong>：引入 Transformer 实现完全端到端检测，将检测视为集合预测问题，消除了锚点和 NMS 等人工设计组件。但存在计算成本高和收敛慢的问题。</li>
</ul>
</li>
<li><strong>本文方法的优势</strong>：为验证所提方法（MS2Fusion，结合上下文推测）的有效性，选择了 <strong>YOLOv5</strong> 和 <strong>CoDetr</strong> 进行对比实验，结果显示该方法具有<strong>线性时间复杂度</strong> （高效率）和<strong>全局感受野</strong> （捕获更丰富上下文信息）两大优势。</li>
</ul>
<h3 id="多光谱目标检测"><a href="#多光谱目标检测" class="headerlink" title="多光谱目标检测"></a>多光谱目标检测</h3><ul>
<li><strong>早期方法</strong>：侧重于平衡特征集成，例如<strong>循环融合模块 (Cyclic Fusion Module)</strong> 显式建模模态间的互补性和一致性。</li>
<li><strong>注意力机制的引入</strong>：通过 <strong>引导注意力特征融合 (GAFF)</strong> 等方法，利用自适应的模态内和跨模态注意力动态加权特征，提高了融合性能。</li>
<li><strong>基于 Transformer 的架构</strong>：<strong>跨模态融合 Transformer (CFT)</strong> 和 <strong>CMX</strong> 等利用自注意力机制捕获跨模态的<strong>长距离依赖</strong>和全局上下文；后续的 <strong>ICAFusion</strong> 和 <strong>INSANet</strong> 等变体则通过参数共享或专用光谱注意力块优化了效率和灵活性。</li>
<li><strong>解决特定挑战的创新方法</strong>：<ul>
<li><strong>DAMSDet</strong> 使用可变形交叉注意力处理模态<strong>不对齐</strong>和动态互补特性。</li>
<li><strong>MS-DETR</strong> 引入<strong>参考约束融合</strong>改进 RGB-热成像对齐。</li>
<li><strong>轻量级设计</strong>，如 <strong>CPCF 模块</strong>，结合通道和块级交叉注意力实现高效融合。</li>
<li><strong>TFDet</strong> 采用融合-精修范式以自适应感受野抑制假阳性。</li>
<li><strong>MMFN</strong> 提出了一个全面的<strong>分层融合框架</strong>，整合了局部、全局和通道级交互。</li>
</ul>
</li>
<li><strong>本文方法的区别</strong>：所提出的方法采用一种<strong>新颖的状态空间模型 (SSM)</strong> 进行特征融合，这与以往使用 <strong>CNN</strong> 或 <strong>Transformer</strong> 进行特征融合的方法不同。</li>
</ul>
<h3 id="Mamba"><a href="#Mamba" class="headerlink" title="Mamba"></a>Mamba</h3><ul>
<li><strong>Mamba 模型</strong>：<ul>
<li>Mamba 是一种<strong>选择性结构化状态空间模型</strong>，专为高效的<strong>长序列建模</strong>设计。</li>
<li>它通过结合<strong>全局感知场</strong>和<strong>动态加权</strong>，克服了 CNN 的局限性，实现了与 Transformer 相当的高级建模能力，但避免了 Transformer 典型的<strong>二次复杂度</strong>。</li>
</ul>
</li>
<li><strong>Mamba 在视觉领域的应用</strong>：<ul>
<li><strong>VMamba</strong>：一种视觉状态空间模型，引入了<strong>交叉扫描模块 (CSM)</strong> 来提高跨维度扫描效率，在计算机视觉任务中性能超越了 CNN 和 ViT。</li>
<li><strong>VM-UNet</strong>：将 Mamba 集成到 UNet 框架中用于医学分割，利用视觉状态空间块捕获广泛的<strong>上下文信息</strong>。</li>
<li>Mamba 还被应用于多模态语义分割，通过<strong>暹罗编码器</strong>和创新融合机制，以<strong>线性复杂度</strong>增强了<strong>全局感受野</strong>覆盖。</li>
</ul>
</li>
<li><strong>本文提出的 MS2Fusion</strong>：<ul>
<li>受上述进展启发，本文基于 Mamba <strong>动态状态空间</strong>提出了 <strong>MS2Fusion</strong>。</li>
<li>该方法旨在有效利用模态间的<strong>共享特征和互补性</strong>，从而在<strong>降低模型复杂度</strong>的同时，<strong>提高目标检测的精度</strong>。</li>
</ul>
</li>
</ul>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><h3 id="状态空间模型（SSM）"><a href="#状态空间模型（SSM）" class="headerlink" title="状态空间模型（SSM）"></a>状态空间模型（SSM）</h3><p>SSM结合了循环神经网络（RNNs）和卷积神经网络（CNNs）的优势，能够高效处理长依赖关系。它通过状态方程将输入序列(x(t))转换为中间状态(h(t))，然后通过输出方程生成输出(y(t))。SSM通常表示为一个线性常微分方程：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msup><mi>h</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi mathvariant="bold">A</mi><mo>⋅</mo><mi>h</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>+</mo><mi mathvariant="bold">B</mi><mo>⋅</mo><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>y</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi mathvariant="bold">C</mi><mo>⋅</mo><mi>h</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>+</mo><mi mathvariant="bold">D</mi><mo>⋅</mo><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{align}
h&#x27;(t) &amp;= \mathbf{A} \cdot h(t) + \mathbf{B} \cdot x(t) \\
y(t) &amp;= \mathbf{C} \cdot h(t) + \mathbf{D} \cdot x(t)
\end{align}
\tag{1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathbf">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbf">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathbf">C</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbf">D</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span>
<p>为了使状态空间模型（SSM）适应深度学习，需将其离散化如下：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>h</mi><mi>k</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mover accent="true"><mi mathvariant="bold">A</mi><mo stretchy="true">‾</mo></mover><mo>⋅</mo><msub><mi>h</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mover accent="true"><mi mathvariant="bold">B</mi><mo stretchy="true">‾</mo></mover><mo>⋅</mo><msub><mi>x</mi><mi>k</mi></msub></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>y</mi><mi>k</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mover accent="true"><mi mathvariant="bold">C</mi><mo stretchy="true">‾</mo></mover><mo>⋅</mo><msub><mi>h</mi><mi>k</mi></msub><mo>+</mo><mi mathvariant="bold">D</mi><mo>⋅</mo><msub><mi>x</mi><mi>k</mi></msub></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mover accent="true"><mi>A</mi><mo stretchy="true">‾</mo></mover></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>e</mi><mi>x</mi><msup><mi>p</mi><mrow><mi mathvariant="normal">Δ</mi><mi mathvariant="bold">A</mi></mrow></msup></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mover accent="true"><mi>B</mi><mo stretchy="true">‾</mo></mover></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo stretchy="false">(</mo><mi>e</mi><mi>x</mi><msup><mi>p</mi><mrow><mi mathvariant="normal">Δ</mi><mi mathvariant="bold">A</mi></mrow></msup><mo>−</mo><mi mathvariant="bold">I</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi mathvariant="normal">Δ</mi><mi mathvariant="bold">A</mi></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mover accent="true"><mi>C</mi><mo stretchy="true">‾</mo></mover></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi mathvariant="bold">C</mi></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{align}
h_k &amp;= \overline{\mathbf{A}} \cdot h_{k-1} + \overline{\mathbf{B}} \cdot x_k \\
y_k &amp;= \overline{\mathbf{C}} \cdot h_k + \mathbf{D} \cdot x_k \\
\overline{A} &amp;= exp^{\Delta \mathbf{A}} \\
\overline{B} &amp;= (exp^{\Delta \mathbf{A}} - \mathbf{I}) / \Delta \mathbf{A} \\
\overline{C} &amp;= \mathbf{C}
\end{align}
\tag{2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:7.7421em;vertical-align:-3.6211em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.1211em;"><span style="top:-6.2349em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-4.6888em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.1356em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span></span></span><span style="top:-3.8033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span><span style="top:-1.5823em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.8033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span><span style="top:-0.0389em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.8033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.6211em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.1211em;"><span style="top:-6.2349em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8861em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathbf">A</span></span></span><span style="top:-3.8061em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8861em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathbf">B</span></span></span><span style="top:-3.8061em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-4.6888em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8861em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathbf">C</span></span></span><span style="top:-3.8061em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbf">D</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.1356em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8933em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mathbf mtight">A</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.5823em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8933em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mathbf mtight">A</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbf">I</span><span class="mclose">)</span><span class="mord">/Δ</span><span class="mord mathbf">A</span></span></span><span style="top:-0.0389em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathbf">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.6211em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:7.7421em;vertical-align:-3.6211em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span></span><span class="mord">)</span></span></span></span></span></span>
<p>离散化后，SSM使用卷积操作进行并行计算。为了克服参数固定的问题，SSM引入了动态调整机制，使模型能够灵活处理复杂数据并改进长序列建模。</p>
<p>如图4所示，状态空间模型（SSM）通过由三项关键操作组成的结构化转换对输入序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>L</mi></msub><mo stretchy="false">}</mo><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>L</mi><mo>×</mo><mi>d</mi></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\{x_{1},x_{2},...,x_{L}\}\in \mathbb{R}^{L\times d})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">({</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>进行转化处理。</p>
<p><img data-src="/./../images/image-20251030142035432.png" alt="image-20251030142035432"></p>
<p><strong>图4：SSM（状态空间模型）的细节，其中红色、绿色和黑色的线分别对应于公式 (2) 的方程。</strong></p>
<p>（对于一个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>×</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">L \times d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span></span></span></span> 维的输入序列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mi>x</mi><mn>1</mn><mo separator="true">,</mo><mi>x</mi><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>x</mi><mi>L</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{x1, x2, ..., xL\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">xL</span><span class="mclose">}</span></span></span></span>）输入序列首先被<strong>线性投影</strong>，以生成<strong>状态方程</strong>所需的参数，随后通过矩阵 <strong>A</strong>、<strong>B</strong> 和 <strong>C</strong> 进行<strong>递归计算</strong>，并带有一个可选的<strong>跳跃连接</strong> <strong>D</strong>。最终的输出序列维度与输入序列保持一致。</p>
<p>输入首先经过线性投影以生成状态空间方程的参数。随后是由四个基本矩阵控制的递归状态更新：当前输入首先由矩阵B处理，矩阵B将输入映射到状态空间，然后与经矩阵A更新的隐藏状态相加，产生新的隐藏状态。对于输出，新的隐藏状态通过矩阵C重新映射到输出。此外，D提供了一个可选的跳跃连接，绕过状态转换，直接将输入添加到输出中，这有助于减轻训练过程中的梯度消失问题。这种递归计算生成中间输出<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>y</mi><mi>L</mi></msub><mo stretchy="false">}</mo><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>L</mi><mo>×</mo><mi>d</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\{y_{1},y_{2},...,y_{L}\}\in\mathbb{R}^{L\times d}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span></span></span></span>，其中每个<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mn>1</mn><mo>×</mo><mi>d</mi></mrow></msup></mrow><annotation encoding="application/x-tex">y_{i}\in\mathbb{R}^{1\times d}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span></span></span></span>都是按顺序推导出来的。</p>
<h3 id="所提出的模型架构"><a href="#所提出的模型架构" class="headerlink" title="所提出的模型架构"></a>所提出的模型架构</h3><p><img data-src="/./../images/image-20251030144143991.png" alt="image-20251030144143991"></p>
<hr>
<p><strong>图5：模型架构概述。</strong> 该模型由三个主要阶段构成：(1) 使用两个主干网络进行<strong>特征提取</strong>；(2) 通过 <strong>MS2Fusion 模块</strong>对 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">P_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">P_4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>5</mn></msub></mrow><annotation encoding="application/x-tex">P_5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 层的特征进行<strong>跨模态特征融合</strong>；(3) 通过颈部（Neck）和头部（Head）层生成<strong>检测结果</strong>。</p>
<p>在作者的实验中，作者独立评估了两种不同的检测头部（<strong>CoDetr</strong> 和 <strong>YOLOv5</strong>）。</p>
<p><strong>MS2Fusion 模块</strong>采用<strong>双分支架构</strong>来处理两种模态的特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">F_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">F_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>：</p>
<ul>
<li><strong>CP-SSM</strong> （跨参数状态空间模型）负责学习<strong>跨模态互补特征</strong>。</li>
<li><strong>SP-SSM</strong> （共享参数状态空间模型）负责提取<strong>共享特征</strong>。</li>
<li>最后，<strong>FF-SSM</strong> （特征融合状态空间模型）执行<strong>单分支特征增强</strong>和<strong>跨模态融合</strong>，输出最终的融合特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mrow><mi>f</mi><mi>u</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">F_{fused}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></li>
</ul>
<p>如图5上半部分所示，所提出的框架分为三个主要阶段。首先，骨干网络从RGB图像和热成像图像中独立提取特征。随后，跨模态MS2Fusion特征融合整合来自不同阶段的特征。最后，使用检测头进行目标定位和回归，以得出最终的检测结果。在特征融合阶段，作者有选择地融合来自三个不同层级的特征。P3层捕获详细的表面信息，而P5层则包含更高层次的语义特征。通过分别融合浅层和深层特征，作者的方法有效地聚焦于跨模态融合所关键的详细信息，这在公式（3）中表示：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mi>F</mi><mrow><mi>f</mi><mi>u</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow><mi>i</mi></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>ϕ</mi><mrow><mi>M</mi><mi>S</mi><mn>2</mn><mi>F</mi><mi>u</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi></mrow></msub><mrow><mo fence="true">(</mo><msubsup><mi>F</mi><mi>V</mi><mi>i</mi></msubsup><mo separator="true">,</mo><msubsup><mi>F</mi><mi>T</mi><mi>i</mi></msubsup><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo fence="true">[</mo><mi>b</mi><mi>b</mi><mi>o</mi><mi>x</mi><mo separator="true">,</mo><mi>c</mi><mi>l</mi><mi>s</mi><mo fence="true">]</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi mathvariant="normal">Φ</mi><mrow><mi>h</mi><mi>e</mi><mi>a</mi><mi>d</mi></mrow></msub><mrow><mo fence="true">(</mo><msub><mi mathvariant="normal">Ψ</mi><mrow><mi>n</mi><mi>e</mi><mi>c</mi><mi>k</mi></mrow></msub><mrow><mo fence="true">(</mo><msubsup><mi>F</mi><mrow><mi>f</mi><mi>u</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow><mn>3</mn></msubsup><mo separator="true">,</mo><msubsup><mi>F</mi><mrow><mi>f</mi><mi>u</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow><mn>4</mn></msubsup><mo separator="true">,</mo><msubsup><mi>F</mi><mrow><mi>f</mi><mi>u</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow><mn>5</mn></msubsup><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(3)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{align}
F_{fused}^i &amp;= \phi_{MS2Fusion} \left( F_V^i, F_T^i \right) \\
\left[ bbox, cls \right] &amp;= \Phi_{head} \left( \Psi_{neck} \left( F_{fused}^3, F_{fused}^4, F_{fused}^5 \right) \right)
\end{align}
\tag{3}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.105em;vertical-align:-1.3025em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8025em;"><span style="top:-3.9278em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8747em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">d</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3806em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord mathnormal">bb</span><span class="mord mathnormal">o</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">s</span><span class="mclose delimcenter" style="top:0em;">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3025em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8025em;"><span style="top:-3.9278em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">ϕ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">MS</span><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8747em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8747em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span><span style="top:-2.3806em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">ec</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">d</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">d</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">d</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3025em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:3.105em;vertical-align:-1.3025em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">3</span></span><span class="mord">)</span></span></span></span></span></span>
<p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mi>V</mi><mi>i</mi></msubsup></mrow><annotation encoding="application/x-tex">F^i_{V}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-2.4247em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mi>T</mi><mi>i</mi></msubsup></mrow><annotation encoding="application/x-tex">F^i_{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-2.4247em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span> 表示从输入可见光和热红外图像中通过两个主干网络提取的<strong>第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> 层特征图</strong>；<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ϕ</mi><mrow><mi>M</mi><mi>S</mi><mn>2</mn><mi>F</mi><mi>u</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\phi_{MS2Fusion}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">ϕ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">MS</span><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是所提出的<strong>状态空间融合模块</strong>；<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mi>i</mi><mrow><mi>f</mi><mi>u</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">F^{fused}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2439em;vertical-align:-0.2769em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span></span> 表示融合后的特征。<strong>FPN 和 PANet</strong> 通常被用作 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Ψ</mi><mrow><mi>n</mi><mi>e</mi><mi>c</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\Psi_{neck}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">ec</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 来聚合多尺度特征，而<strong>检测头部 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Φ</mi><mrow><mi>h</mi><mi>e</mi><mi>a</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\Phi_{head}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)</strong> 用于边界框分类和回归。在作者的实验中，两种不同的检测头部（<strong>YOLOv5</strong> 和 <strong>CoDetr</strong>）被分别评估。</p>
<h3 id="多光谱状态空间特征融合（MS2Fusion）"><a href="#多光谱状态空间特征融合（MS2Fusion）" class="headerlink" title="多光谱状态空间特征融合（MS2Fusion）"></a>多光谱状态空间特征融合（MS2Fusion）</h3><p>如图5的下半部分所示，MS2Fusion模块由三个核心组件构成：跨参数状态空间模型（CP-SSM）、共享参数状态空间模型（SP-SSM）和特征融合状态空间模型（FF-SSM）。</p>
<p><strong>CP-SSM</strong>模块通过<strong>动态参数交互机制</strong>实现RGB和热红外模态的全局特征整合，在保持模态特有属性的同时，增强了跨模态的上下文感知能力。该模块创新性地采用了一种<strong>隐式参数交叉策略</strong>，有效挖掘并强化了两种模态间的互补特征。CP-SSM允许基于模态间关系进行自适应参数调制，从而实现更细粒度的互补特征提取。</p>
<p>相比之下，<strong>SP-SSM</strong>旨在学习在RGB和热红外输入中都保持一致的、<strong>模态不变的共享表示</strong>。SP-SSM中的所有参数在不同模态之间被约束为<strong>相同</strong>，这迫使模型摒弃模态特有的噪声，专注于对象轮廓、形状和场景结构等共同的语义信息。CP-SSM和SP-SSM之间的关键区别在于它们的<strong>参数处理策略和功能目标</strong>。CP-SSM采用动态参数交互机制，选择性地交换或组合模态特定的参数以捕获互补的跨模态依赖关系；而SP-SSM则严格保持跨模态的参数一致性，以确保共享空间中的特征一致性。</p>
<p>最后，<strong>FF-SSM</strong>模块以<strong>层级方式</strong>进一步整合这些学习到的特征，自适应地结合互补信息和共享信息，以实现更有效的跨模态融合。</p>
<p>MS2Fusion的创新之处在于其系统地利用了多光谱数据的<strong>双重特性</strong>：CP-SSM探索跨模态互补信息，而SP-SSM强化模态不变的共享特征，最终通过FF-SSM实现最优特征融合。这种双路径设计明确地解耦了互补特征和共享特征的学习：CP-SSM的参数针对跨模态区分进行优化，而SP-SSM的参数针对跨模态统一进行优化。通过同时关注模态特有的互补特征和模态不变的共享特征，该框架建立了一个<strong>综合性的跨模态特征协作机制</strong>，显著增强了多光谱数据的表征能力。</p>
<h4 id="CP-SSM-模块"><a href="#CP-SSM-模块" class="headerlink" title="CP-SSM 模块"></a>CP-SSM 模块</h4><p><img data-src="/./../images/image-20251030151609728.png" alt="image-20251030151609728"></p>
<p>图 6 CP-SSM模块的细节</p>
<p><strong>图注：</strong> CP-SSM 模块的细节图。特征图 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">F_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">F_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>) 首先通过行和列扫描被重塑为序列 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>V</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{Vi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">Vi</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>T</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{Ti}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)，并通过一个线性层（Linear layer）生成参数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex"> \Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Δ</span></span></span></span>。其次，作者通过交换两个分支的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> 矩阵来执行跨模态互补特征的交互。最后，通过SSM模块进行跨模态互补特征交互，以生成输出 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>F</mi><mo>~</mo></mover><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">\tilde{F}_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0702em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span><span style="top:-3.6023em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>F</mi><mo>~</mo></mover><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\tilde{F}_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0702em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span><span style="top:-3.6023em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)。</p>
<p><strong>详细步骤（根据图示）：</strong></p>
<ol>
<li><strong>输入特征 (Input Features):</strong> 模块接收可见光（RGB）特征图 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">F_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和热红外特征图 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">F_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</li>
<li><strong>序列化 (Reshaping to Sequence):</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">F_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">F_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 分别通过行和列扫描（或两者兼有）被展平（Reshape）为序列输入 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>V</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{Vi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">Vi</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>T</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{Ti}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</li>
<li><strong>参数生成 (Parameter Generation):</strong> 序列化的输入 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>V</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{Vi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">Vi</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>T</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{Ti}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 经过各自的线性层（Linear layer），用于生成SSM所需的参数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>、 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Δ</span></span></span></span>。</li>
<li><strong>跨参数交互 (Cross-Parameter Interaction):</strong><ul>
<li>在可见光（RGB）分支中，它使用自身生成的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">B_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Δ</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">\Delta_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，但与热红外分支<strong>交换</strong>了投影矩阵 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">C_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</li>
<li>在热红外（Thermal）分支中，它使用自身生成的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">B_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Δ</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\Delta_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，但与可见光分支<strong>交换</strong>了投影矩阵 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">C_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</li>
<li><strong>目标：</strong> 通过这种参数交叉，隐式地在状态空间层面实现了跨模态互补特征的交互和增强。</li>
</ul>
</li>
<li><strong>状态空间模型 (SSM Computation):</strong> 两个分支分别将自身的序列输入、自身的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex"> \Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Δ</span></span></span></span> 和<strong>交换来的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></strong> 矩阵送入状态空间模型（SSM）进行递归计算。</li>
<li><strong>输出 (Output):</strong> SSM 模块生成经过跨模态互补特征交互和增强的输出特征图 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>F</mi><mo>~</mo></mover><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">\tilde{F}_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0702em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span><span style="top:-3.6023em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>F</mi><mo>~</mo></mover><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\tilde{F}_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0702em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span><span style="top:-3.6023em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</li>
</ol>
<p>如图6所示，CP-SSM模块包含两个分支：RGB特征分支（顶部）和热红外特征分支（底部）。为清晰起见，本节仅描述RGB特征分支，热红外特征分支的过程是相同的。</p>
<p>给定来自RGB特征图的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mi>V</mi></msub><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>d</mi><mo>×</mo><mi>H</mi><mo>×</mo><mi>W</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{F}_V \in \mathbb{R}^{d \times H \times W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span></span></span></span></span></span></span></span>，它被展开成一个序列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi mathvariant="bold">x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">x</mi><mn>3</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi mathvariant="bold">x</mi><mi>L</mi></msub><mo stretchy="false">)</mo><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>d</mi><mo>×</mo><mi>L</mi></mrow></msup></mrow><annotation encoding="application/x-tex">(\mathbf{x}_1, \mathbf{x}_2, \mathbf{x}_3, \ldots, \mathbf{x}_L) \in \mathbb{R}^{d \times L}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">L</span></span></span></span></span></span></span></span></span></span></span></span>，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo separator="true">,</mo><mi>H</mi><mo separator="true">,</mo><mi>W</mi></mrow><annotation encoding="application/x-tex">d, H, W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> 分别表示特征图的通道、高度和宽度，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>=</mo><mi>H</mi><mo>×</mo><mi>W</mi></mrow><annotation encoding="application/x-tex">L = H \times W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span> 。遵循3.1节中的Mamba机制，展开的序列通过一个线性层来获取参数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">B</mi><mo separator="true">,</mo><mi mathvariant="bold">C</mi><mo separator="true">,</mo><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\mathbf{B}, \mathbf{C}, \Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord mathbf">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathbf">C</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">Δ</span></span></span></span>，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">B</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>L</mi><mo>×</mo><mi>d</mi><mo>×</mo><msup><mi>d</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow></msup><mo separator="true">,</mo><mi mathvariant="bold">C</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>L</mi><mo>×</mo><mi>d</mi><mo>×</mo><msup><mi>d</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow></msup><mo separator="true">,</mo><mi mathvariant="normal">Δ</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>L</mi><mo>×</mo><mi>d</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{B} \in \mathbb{R}^{L \times d \times d&#x27;}, \mathbf{C} \in \mathbb{R}^{L \times d \times d&#x27;}, \Delta \in \mathbb{R}^{L \times d}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7252em;vertical-align:-0.0391em;"></span><span class="mord mathbf">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1369em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">d</span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathbf">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1369em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">d</span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>d</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">d&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>是隐状态的维度。</p>
<p>在CP-SSM模块中，创新性地设计了一种<strong>跨参数交互机制</strong>，通过<strong>双模态状态空间投影矩阵 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">C_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">C_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 之间的实时交互</strong>来实现隐式特征融合。具体来说，该机制建立了双向特征增强通道：在RGB模态分支中，热红外特征的响应模式通过交换的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">C</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\mathbf{C}_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 矩阵被选择性地融合；而热红外分支则通过纳入 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">C</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">\mathbf{C}_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 矩阵中编码的语义先验信息来增强其特征的判别能力。</p>
<p>这种跨参数交互策略具有两个关键特点：(1) 它保持了模态特定特征的独立性以避免混淆；(2) 它在状态空间维度上构建了一个隐式注意力机制，使得互补特征融合过程能够<strong>自适应</strong>进行。</p>
<p>最后，在对序列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mover accent="true"><mi mathvariant="bold">x</mi><mo>~</mo></mover><mn>1</mn></msub><mo separator="true">,</mo><msub><mover accent="true"><mi mathvariant="bold">x</mi><mo>~</mo></mover><mn>2</mn></msub><mo separator="true">,</mo><msub><mover accent="true"><mi mathvariant="bold">x</mi><mo>~</mo></mover><mn>3</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mover accent="true"><mi mathvariant="bold">x</mi><mo>~</mo></mover><mi>L</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\tilde{\mathbf{x}}_1, \tilde{\mathbf{x}}_2, \tilde{\mathbf{x}}_3, \ldots, \tilde{\mathbf{x}}_L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6813em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">x</span></span><span style="top:-3.3634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6813em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">x</span></span><span style="top:-3.3634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6813em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">x</span></span><span style="top:-3.3634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6813em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">x</span></span><span style="top:-3.3634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 执行反向折叠操作后，每个分支的输出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi mathvariant="bold">F</mi><mo>~</mo></mover><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>d</mi><mo>×</mo><mi>H</mi><mo>×</mo><mi>W</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\tilde{\mathbf{F}} \in \mathbb{R}^{d \times H \times W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9621em;vertical-align:-0.0391em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.923em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">F</span></span><span style="top:-3.6051em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span></span></span></span></span></span></span></span> 由公式 (4) 得到：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mover accent="true"><mi>F</mi><mo>~</mo></mover><mi>i</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mi>φ</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow><mi>i</mi></msubsup><mrow><mo fence="true">(</mo><msubsup><mi>F</mi><mrow><mi>f</mi><mi>l</mi><mi>i</mi><mi>p</mi></mrow><mi>i</mi></msubsup><mo stretchy="false">(</mo><msub><mi>F</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi mathvariant="normal">Δ</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>B</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>C</mi><mi>i</mi></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo fence="true">[</mo><msub><mi mathvariant="normal">Δ</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>B</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>C</mi><mi>i</mi></msub><mo fence="true">]</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>L</mi><mrow><mi>L</mi><mi>i</mi><mi>n</mi><mi>e</mi><mi>a</mi><mi>r</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>F</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext> </mtext><mi>i</mi><mo>∈</mo><mo stretchy="false">{</mo><mi>V</mi><mo separator="true">,</mo><mi>T</mi><mo stretchy="false">}</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{align}
\tilde{F}_i &amp;= \varphi_{SSM}^i \left( F_{flip}^i (F_i), \Delta_i, B_i, C_i \right) \\
\left[ \Delta_i, B_i, C_i \right] &amp;= L_{Linear} (F_i),\ i \in \{V, T\}
\end{align}
\tag{4}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.1033em;vertical-align:-1.3016em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8016em;"><span style="top:-3.8815em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span><span style="top:-3.6023em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3584em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3016em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8016em;"><span style="top:-3.8815em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8747em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8747em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">p</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span><span style="top:-2.3584em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">}</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3016em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:3.1033em;vertical-align:-1.3016em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">4</span></span><span class="mord">)</span></span></span></span></span></span>
<p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="bold">F</mi><mi>i</mi><mrow><mi>f</mi><mi>l</mi><mi>i</mi><mi>p</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">\mathbf{F}_i^{flip}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2439em;vertical-align:-0.2769em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span></span></span></span> 表示特征图以某种方式展开成序列，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">B</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Δ</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathbf{B}_i, \mathbf{C}_i, \Delta_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是通过全连接层从输入序列中获得的，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>φ</mi><mi>i</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">\varphi_{i}^{SSM}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1em;vertical-align:-0.2587em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4413em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2587em;"><span></span></span></span></span></span></span></span></span></span> 表示图4中的SSM。值得注意的是，受VMamba 中的VSSBlock 启发，作者探索了三种展开方法：按行展开、按列展开以及两者兼有。详细的消融实验将在表13中提供。</p>
<h4 id="SP-SSM-模块"><a href="#SP-SSM-模块" class="headerlink" title="SP-SSM 模块"></a>SP-SSM 模块</h4><p><img data-src="/./../images/image-20251030151823019.png" alt="image-20251030151823019"></p>
<p>图 7 SP-SSM模块的细节及流程叙述</p>
<p><strong>图注：</strong> SP-SSM模块的细节图。SP-SSM模块从具有共享参数的状态空间模型（SSM）中提取两种模态（RGB和热红外）的共享特征。输入特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">F_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">F_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 被组合以生成参数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">B_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">C_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Δ</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">\Delta_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，同时输出特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>F</mi><mo>~</mo></mover><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">\tilde{F}_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0702em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span><span style="top:-3.6023em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>F</mi><mo>~</mo></mover><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\tilde{F}_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0702em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span><span style="top:-3.6023em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 由这两个SSM进行重建。</p>
<p><strong>模块流程叙述：</strong></p>
<p>SP-SSM模块旨在提取在RGB和热红外输入中都保持一致的、<strong>模态不变的共享表示</strong>。它构建了一种<strong>层次化的特征共享架构</strong>，通过参数共享和特征重建实现跨模态表示对齐。</p>
<p>该模块的流程包含两个精心设计的阶段：</p>
<ul>
<li>参数共享阶段 (Parameter-Sharing Stage)</li>
</ul>
<ol>
<li><strong>初步融合：</strong> 模块采用<strong>粗粒度的加法特征融合</strong>方法（即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>V</mi></msub><mo>⊕</mo><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">F_V \oplus F_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）对输入特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">F_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（可见光&#x2F;RGB）和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">F_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（热红外）进行初步整合。</li>
<li><strong>共享参数生成：</strong> 融合后的特征通过一个线性网络 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>L</mi><mi>i</mi><mi>n</mi><mi>e</mi><mi>a</mi><mi>r</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathcal{L}_{Linear}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>) 被送入，以<strong>动态生成</strong>三组关键的<strong>共享参数</strong>：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">B_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">C_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Δ</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">\Delta_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</li>
<li><strong>参数特性：</strong> 这些共享参数被设计为编码双模态的共同特征模式，同时保留模态特定的调整能力。</li>
</ol>
<ul>
<li>特征重建阶段 (Feature Reconstruction Stage)</li>
</ul>
<ol>
<li><strong>参数注入与约束：</strong> 共享参数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">B_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">C_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Δ</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">\Delta_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 被<strong>注入</strong>到两个模态（RGB和热红外）各自的SSM (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>φ</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\varphi^{SSM}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0358em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span></span></span></span></span></span></span></span></span>) 中进行处理。</li>
<li><strong>双流耦合架构：</strong> 这种设计创建了一个双流耦合架构：<ul>
<li><strong>对齐作用：</strong> 共享参数<strong>约束</strong>了两种模态在状态空间中的演化轨迹，迫使异构特征收敛到一个<strong>共享特征空间</strong>，从而提取出对光照和环境干扰等因素具有<strong>不变性</strong>的深度共享特征（如物体轮廓和结构）。</li>
<li><strong>独立性保留：</strong> 每个模态仍保留了独立的初始化状态，确保了模态特定信息的完整性。</li>
</ul>
</li>
<li><strong>输出：</strong> SSM模块最终输出<strong>重建后的共享特征</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>F</mi><mo>~</mo></mover><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">\tilde{F}_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0702em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span><span style="top:-3.6023em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>F</mi><mo>~</mo></mover><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\tilde{F}_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0702em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span><span style="top:-3.6023em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</li>
</ol>
<p><strong>具体过程由公式描述：</strong></p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mi>i</mi></msub><mo>=</mo><msup><mi>φ</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow></msup><mo stretchy="false">(</mo><msub><mi mathvariant="bold">F</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Δ</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">B</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mi>s</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
\mathbf{F}_i = \varphi^{SSM} (\mathbf{F}_i, \Delta_s, \mathbf{B}_s, \mathbf{C}_s)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="normal">Δ</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">B</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mi>s</mi></msub><mo stretchy="false">]</mo><mo>=</mo><msub><mi mathvariant="script">L</mi><mrow><mi>L</mi><mi>i</mi><mi>n</mi><mi>e</mi><mi>a</mi><mi>r</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi mathvariant="bold">F</mi><mi>V</mi></msub><mo>⊕</mo><msub><mi mathvariant="bold">F</mi><mi>T</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
[\Delta_s, \mathbf{B}_s, \mathbf{C}_s] = \mathcal{L}_{Linear} (\mathbf{F}_V \oplus \mathbf{F}_T)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>
<p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo>∈</mo><mo stretchy="false">{</mo><mi>V</mi><mo separator="true">,</mo><mi>T</mi><mo stretchy="false">}</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{F}_i (i \in \{V, T\})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">})</span></span></span></span> 是共享特征，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>φ</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\varphi^{SSM}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0358em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span></span></span></span></span></span></span></span></span> 是状态空间模型。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Δ</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">B</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">\Delta_s, \mathbf{B}_s, \mathbf{C}_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是从加权融合特征中获得的参数。</p>
<p>SP-SSM模块构建了一种<strong>层次化的特征共享架构</strong>，通过参数共享和特征重建实现跨模态表示对齐。如图7所示，该模块的流程由两个精心设计的阶段组成：</p>
<p>在<strong>参数共享阶段</strong>，模块采用<strong>粗粒度的加法特征融合方法</strong>对RGB和热红外特征进行初步整合。然后，通过一个线性网络动态生成三组关键的共享参数。这些参数不仅编码了双模态的共同特征模式，而且保留了模态特定的调整能力。</p>
<p>在<strong>特征重建阶段</strong>，这些共享参数被注入到两个模态的SSM中。这种设计创建了一个双流耦合架构：一方面，共享参数约束了两种模态在状态空间中的演化轨迹，驱动异构特征收敛到共享特征空间；另一方面，每个模态保留了独立的初始化状态，确保了模态特定信息的完整性。通过这种共享参数计算范式，模块能够提取出不受光照条件和环境干扰等因素影响的<strong>深度共享特征</strong>。</p>
<p>具体过程由公式 (5) 描述：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mover accent="true"><mover accent="true"><mi>F</mi><mo stretchy="true">‾</mo></mover><mo stretchy="true">‾</mo></mover><mi>i</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>φ</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow></msub><mrow><mo fence="true">(</mo><msub><mi>F</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Δ</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>B</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>C</mi><mi>s</mi></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo fence="true">[</mo><msub><mi mathvariant="normal">Δ</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>B</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi>C</mi><mi>s</mi></msub><mo fence="true">]</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>L</mi><mrow><mi>L</mi><mi>i</mi><mi>n</mi><mi>e</mi><mi>a</mi><mi>r</mi></mrow></msub><mrow><mo fence="true">(</mo><msub><mi>F</mi><mi>V</mi></msub><mo>⊕</mo><msub><mi>F</mi><mi>T</mi></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(5)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{align}
\overline{\overline{F}}_i &amp;= \varphi_{SSM} \left( F_i, \Delta_s, B_s, C_s \right) \\
\left[ \Delta_s, B_s, C_s \right] &amp;= L_{Linear} \left( F_V \oplus F_T \right)
\end{align}
\tag{5}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.2433em;vertical-align:-1.3717em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8717em;"><span style="top:-3.8717em;"><span class="pstrut" style="height:3.0833em;"></span><span class="mord"><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span><span style="top:-3.8033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span><span style="top:-4.0033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3717em;"><span class="pstrut" style="height:3.0833em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3717em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8717em;"><span style="top:-3.8717em;"><span class="pstrut" style="height:3.0833em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-2.3717em;"><span class="pstrut" style="height:3.0833em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3717em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:3.2433em;vertical-align:-1.3717em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">5</span></span><span class="mord">)</span></span></span></span></span></span>
<p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo>∈</mo><mo stretchy="false">{</mo><mi>V</mi><mo separator="true">,</mo><mi>T</mi><mo stretchy="false">}</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{F}_i (i \in \{V, T\})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">})</span></span></span></span> 是共享特征，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>φ</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\varphi^{SSM}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0358em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span></span></span></span></span></span></span></span></span> 是SSM。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Δ</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">B</mi><mi>s</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">\Delta_s, \mathbf{B}_s, \mathbf{C}_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是通过全连接层从加权融合特征中获得的。</p>
<h4 id="FF-SSM-模块"><a href="#FF-SSM-模块" class="headerlink" title="FF-SSM 模块"></a>FF-SSM 模块</h4><p><img data-src="/./../images/image-20251030152057669.png" alt="image-20251030152057669"></p>
<p><strong>图注：</strong> FF-SSM 模块的细节图。该模块通过将 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">F_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">F_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 以两种不同顺序组合来实现特征融合。在顶部分支中，输入特征以 1-2 的顺序（例如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">F_1, F_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）组合形成拼接特征，然后通过一个线性层（Linear layer）生成 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">B_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">C_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Δ</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\Delta_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 参数，随后通过 SSM 执行跨特征交互。最终，将 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>12</mn></msub></mrow><annotation encoding="application/x-tex">F_{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>21</mn></msub></mrow><annotation encoding="application/x-tex">F_{21}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 合并（merge）生成融合特征图 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>F</mi><mo>~</mo></mover></mrow><annotation encoding="application/x-tex">\tilde{F}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9202em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9202em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span><span style="top:-3.6023em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">~</span></span></span></span></span></span></span></span></span></span>。</p>
<p><strong>模块流程叙述：</strong></p>
<p>FF-SSM 模块旨在解决 Mamba 固有的<strong>特征遗忘问题</strong>，同时实现<strong>彻底且自适应的跨模态特征融合</strong>。它通过引入<strong>双向架构</strong>，结合互补的前向和反向处理路径来系统性地弥补单向建模的局限性。</p>
<ol>
<li><p><strong>输入特征：</strong> 模块接收来自 CP-SSM 输出的特征图 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">F_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">F_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（例如，RGB 和热红外互补特征）。</p>
</li>
<li><p><strong>双向异构序列构建（Bidirectional Sequence Construction）：</strong> 模块采用双向异构序列构建策略，将 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">F_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">F_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 以<strong>两种不同顺序</strong>进行拼接：</p>
<ul>
<li><strong>前向路径 (Top Path):</strong> 序列为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[\mathbf{F}_1, \mathbf{F}_2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>。</li>
<li><strong>反向路径 (Bottom Path):</strong> 序列为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[\mathbf{F}_2, \mathbf{F}_1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>。</li>
</ul>
</li>
<li><p><strong>参数生成：</strong></p>
<ul>
<li><strong>前向路径：</strong> 拼接序列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[\mathbf{F}_1, \mathbf{F}_2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span> 通过线性变换层 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="script">L</mi><mn>1</mn><mrow><mi>L</mi><mi>i</mi><mi>n</mi><mi>e</mi><mi>a</mi><mi>r</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{L}_{1}^{Linear}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0894em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span> 生成状态空间模型参数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="normal">Δ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">B</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mn>1</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[\Delta_1, \mathbf{B}_1, \mathbf{C}_1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>。</li>
<li><strong>反向路径：</strong> 拼接序列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[\mathbf{F}_2, \mathbf{F}_1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span> 通过另一个线性变换层 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="script">L</mi><mn>2</mn><mrow><mi>L</mi><mi>i</mi><mi>n</mi><mi>e</mi><mi>a</mi><mi>r</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{L}_{2}^{Linear}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0894em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span> 生成状态空间模型参数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="normal">Δ</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">B</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mn>2</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[\Delta_2, \mathbf{B}_2, \mathbf{C}_2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>。</li>
</ul>
</li>
<li><p><strong>状态空间处理与特征交互：</strong></p>
<ul>
<li><strong>前向 SSM：</strong> 参数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="normal">Δ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">B</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mn>1</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[\Delta_1, \mathbf{B}_1, \mathbf{C}_1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span> 和序列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[\mathbf{F}_1, \mathbf{F}_2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span> 输入 SSM (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>φ</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\varphi^{SSM}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0358em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span></span></span></span></span></span></span></span></span>) 得到输出特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>12</mn></msub></mrow><annotation encoding="application/x-tex">F_{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</li>
<li><strong>反向 SSM：</strong> 参数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="normal">Δ</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">B</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mn>2</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[\Delta_2, \mathbf{B}_2, \mathbf{C}_2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span> 和序列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[\mathbf{F}_2, \mathbf{F}_1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span> 输入 SSM (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>φ</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\varphi^{SSM}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0358em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span></span></span></span></span></span></span></span></span>) 得到输出特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>21</mn></msub></mrow><annotation encoding="application/x-tex">F_{21}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</li>
<li><strong>作用：</strong> 反向路径 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>21</mn></msub></mrow><annotation encoding="application/x-tex">F_{21}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 专门用于捕获在前向传播中可能发生的特征损失，通过<strong>方向自适应参数生成</strong>来补偿单向建模的局限性。</li>
</ul>
</li>
<li><p><strong>最终融合（Adaptive Fusion）：</strong> 模块通过一个合并函数 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ψ</mi><mrow><mi>M</mi><mi>e</mi><mi>r</mi><mi>g</mi><mi>e</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\psi_{Merge}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">er</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>) 将来自双向 SSM 路径的输出特征 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>12</mn></msub></mrow><annotation encoding="application/x-tex">F_{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>21</mn></msub></mrow><annotation encoding="application/x-tex">F_{21}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 进行融合，生成最终的融合特征图 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi mathvariant="bold">F</mi><mo>~</mo></mover></mrow><annotation encoding="application/x-tex">\tilde{\mathbf{F}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.923em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.923em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">F</span></span><span style="top:-3.6051em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">~</span></span></span></span></span></span></span></span></span></span>。</p>
</li>
</ol>
<p><strong>目标：</strong> 这种双路径机制能够更全面地捕获<strong>长距离跨模态依赖关系</strong>，动态地缓解特征遗忘，同时在不牺牲 Mamba 线性复杂度的前提下，确保更丰富、更精确的特征表示，显著提高检测精度。</p>
<p><strong>数学表达：</strong></p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi mathvariant="bold">F</mi><mo>~</mo></mover><mo>=</mo><msub><mi>ψ</mi><mrow><mi>M</mi><mi>e</mi><mi>r</mi><mi>g</mi><mi>e</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi mathvariant="bold">F</mi><mn>12</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>21</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
\tilde{\mathbf{F}} = \psi_{Merge} (\mathbf{F}_{12}, \mathbf{F}_{21})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.923em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.923em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">F</span></span><span style="top:-3.6051em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">~</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">er</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>12</mn></msub><mo>=</mo><msup><mi>φ</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow></msup><mo stretchy="false">(</mo><mo stretchy="false">[</mo><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">]</mo><mo separator="true">,</mo><msub><mi mathvariant="normal">Δ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">B</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
\mathbf{F}_{12} = \varphi^{SSM} ([\mathbf{F}_1, \mathbf{F}_2], \Delta_1, \mathbf{B}_1, \mathbf{C}_1)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span></span></span></span></span></span><span class="mopen">([</span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>21</mn></msub><mo>=</mo><msup><mi>φ</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow></msup><mo stretchy="false">(</mo><mo stretchy="false">[</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub><mo stretchy="false">]</mo><mo separator="true">,</mo><msub><mi mathvariant="normal">Δ</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">B</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
\mathbf{F}_{21} = \varphi^{SSM} ([\mathbf{F}_2, \mathbf{F}_1], \Delta_2, \mathbf{B}_2, \mathbf{C}_2)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span></span></span></span></span></span><span class="mopen">([</span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="normal">Δ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">B</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mn>1</mn></msub><mo stretchy="false">]</mo><mo>=</mo><msubsup><mi mathvariant="script">L</mi><mn>1</mn><mrow><mi>L</mi><mi>i</mi><mi>n</mi><mi>e</mi><mi>a</mi><mi>r</mi></mrow></msubsup><mo stretchy="false">(</mo><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
[\Delta_1, \mathbf{B}_1, \mathbf{C}_1] = \mathcal{L}_{1}^{Linear} (\mathbf{F}_1, \mathbf{F}_2)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">[</mo><msub><mi mathvariant="normal">Δ</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">B</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mn>2</mn></msub><mo stretchy="false">]</mo><mo>=</mo><msubsup><mi mathvariant="script">L</mi><mn>2</mn><mrow><mi>L</mi><mi>i</mi><mi>n</mi><mi>e</mi><mi>a</mi><mi>r</mi></mrow></msubsup><mo stretchy="false">(</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
[\Delta_2, \mathbf{B}_2, \mathbf{C}_2] = \mathcal{L}_{2}^{Linear} (\mathbf{F}_2, \mathbf{F}_1)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>

<p>尽管CP-SSM模块能够捕获模态间隐式的互补关系，但它在特征融合层面上仍存在局限性。为了解决Mamba固有的<strong>特征遗忘问题</strong>，同时保持其计算效率，作者提出了一个结合<strong>互补前向</strong> (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_1, \mathbf{F}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>) 和<strong>反向</strong> (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_2, \mathbf{F}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>) 处理路径的<strong>双向架构</strong>。</p>
<p>这种创新设计通过<strong>方向自适应参数生成</strong>系统地弥补了单向建模的局限性，其中反向路径专门用于捕获前向传播中可能发生的特征损失。与传统Transformer因分块操作导致信息丢失不同，作者的方法不仅保持了Mamba原有的序列依赖和线性复杂度的优势，而且通过反向序列补偿显著增强了特征保留。双路径机制能够更全面地捕获<strong>长距离跨模态依赖关系</strong>，同时动态地缓解特征遗忘，在不牺牲效率的情况下实现了鲁棒的序列建模。</p>
<p>具体来说，给定CP-SSM输出的特征图 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，该模块采用<strong>双向异构序列构建策略</strong>：以不同顺序 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_1, \mathbf{F}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_2, \mathbf{F}_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>) 对特征进行拼接。这种设计不仅扩展了模型的感受野，还增强了特征表示的多样性。</p>
<p>在实现中，特征首先被展开并拼接成两个方向序列，然后通过线性变换层生成相应的状态空间模型参数 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">B</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Δ</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\mathbf{B}_1, \mathbf{C}_1, \Delta_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">B</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">C</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Δ</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathbf{B}_2, \mathbf{C}_2, \Delta_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)。最后，通过融合来自双向SSM路径的输出特征 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>12</mn></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>21</mn></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_{21}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)，模块实现了彻底的跨模态特征交互和自适应融合，显著提高了检测精度。FF-SSM模块有效地保留了两种模态内的细节信息，确保了更丰富、更精确的特征表示，这在公式 (6) 中被描述：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mover accent="true"><mi>F</mi><mo stretchy="true">^</mo></mover></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>ψ</mi><mrow><mi>M</mi><mi>e</mi><mi>r</mi><mi>g</mi><mi>e</mi></mrow></msub><mrow><mo fence="true">(</mo><msub><mi>F</mi><mn>12</mn></msub><mo separator="true">,</mo><msub><mi>F</mi><mn>21</mn></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>F</mi><mn>12</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>φ</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow></msub><mrow><mo fence="true">(</mo><mo stretchy="false">[</mo><msub><mi>F</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>F</mi><mn>2</mn></msub><mo stretchy="false">]</mo><mo separator="true">,</mo><msub><mi mathvariant="normal">Δ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>C</mi><mn>1</mn></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>F</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>φ</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow></msub><mrow><mo fence="true">(</mo><mo stretchy="false">[</mo><msub><mi>F</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>F</mi><mn>1</mn></msub><mo stretchy="false">]</mo><mo separator="true">,</mo><msub><mi mathvariant="normal">Δ</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>C</mi><mn>2</mn></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo fence="true">[</mo><msub><mi mathvariant="normal">Δ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>C</mi><mn>1</mn></msub><mo fence="true">]</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mi>L</mi><mtext>Linear</mtext><mn>1</mn></msubsup><mrow><mo fence="true">(</mo><msub><mi>F</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>F</mi><mn>2</mn></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo fence="true">[</mo><msub><mi mathvariant="normal">Δ</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>C</mi><mn>2</mn></msub><mo fence="true">]</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mi>L</mi><mtext>Linear</mtext><mn>2</mn></msubsup><mrow><mo fence="true">(</mo><msub><mi>F</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>F</mi><mn>1</mn></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(6)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{align}
\widehat{F} &amp;= \psi_{Merge} \left( F_{12}, F_{21} \right) \\
F_{12} &amp;= \varphi_{SSM} \left( [F_1, F_2], \Delta_1, B_1, C_1 \right) \\
F_{21} &amp;= \varphi_{SSM} \left( [F_2, F_1], \Delta_2, B_2, C_2 \right) \\
\left[ \Delta_1, B_1, C_1 \right] &amp;= L_{\text{Linear}}^1 \left( F_1, F_2 \right) \\
\left[ \Delta_2, B_2, C_2 \right] &amp;= L_{\text{Linear}}^2 \left( F_2, F_1 \right)
\end{align}
\tag{6}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:7.6315em;vertical-align:-3.5658em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.0658em;"><span style="top:-6.1424em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9233em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span><span class="svg-align" style="width:calc(100% - 0.1667em);margin-left:0.1667em;top:-3.6833em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="0.24em" viewBox="0 0 1062 239" preserveAspectRatio="none"><path d="M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z"/></svg></span></span></span></span></span></span></span></span><span style="top:-4.6424em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.1424em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.6183em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">]</span></span></span></span><span style="top:-0.0942em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.5658em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.0658em;"><span style="top:-6.1424em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">er</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-4.6424em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-3.1424em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-1.6183em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">Linear</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-0.0942em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">Linear</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.5658em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:7.6315em;vertical-align:-3.5658em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">6</span></span><span class="mord">)</span></span></span></span></span></span>
<p>其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>φ</mi><mrow><mi>S</mi><mi>S</mi><mi>M</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\varphi^{SSM}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0358em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">φ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">SSM</span></span></span></span></span></span></span></span></span></span></span></span> 表示图4中的SSM，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">F</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathbf{F}_1, \mathbf{F}_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是特征图。</p>
<h3 id="损失函数"><a href="#损失函数" class="headerlink" title="损失函数"></a>损失函数</h3><p>由MS2Fusion模块生成的融合特征被送入颈部网络（Neck）和检测头（Detection Head），整个流程以<strong>端到端</strong>的方式进行优化。在本文中，作者分别在基于<strong>YOLOv5</strong>和<strong>Co-Detr</strong>的两种检测框架中对MS2Fusion进行了评估。</p>
<h4 id="YOLO-框架下的总损失函数"><a href="#YOLO-框架下的总损失函数" class="headerlink" title="YOLO 框架下的总损失函数"></a>YOLO 框架下的总损失函数</h4><p>在YOLO框架中，总损失函数可以表示为：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.25em" columnalign="right" columnspacing=""><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>y</mi><mi>o</mi><mi>l</mi><mi>o</mi></mrow></msub><mo>=</mo><msub><mi>λ</mi><mtext>bbox</mtext></msub><mo>⋅</mo><msub><mi mathvariant="script">L</mi><mtext>bbox</mtext></msub><mo>+</mo><msub><mi>λ</mi><mtext>obj</mtext></msub><mo>⋅</mo><msub><mi mathvariant="script">L</mi><mtext>obj</mtext></msub><mo>+</mo><msub><mi>λ</mi><mtext>cls</mtext></msub><mo>⋅</mo><msub><mi mathvariant="script">L</mi><mtext>cls</mtext></msub></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(7)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{align}
\mathcal{L}_{yolo} = \lambda_{\text{bbox}} \cdot \mathcal{L}_{\text{bbox}} + \lambda_{\text{obj}} \cdot \mathcal{L}_{\text{obj}} + \lambda_{\text{cls}} \cdot \mathcal{L}_{\text{cls}}
\end{align}
\tag{7}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5em;vertical-align:-0.5em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">yo</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">bbox</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">bbox</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">obj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">obj</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">cls</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">cls</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.5em;vertical-align:-0.5em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">7</span></span><span class="mord">)</span></span></span></span></span></span>
<p>其中：</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>b</mi><mi>b</mi><mi>o</mi><mi>x</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{bbox}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">bb</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是**定位损失** （Localization Loss）。</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>o</mi><mi>b</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{obj}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">bj</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 是**置信度损失** （Confidence Loss）。</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>c</mi><mi>l</mi><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{cls}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是**分类损失** （Classification Loss）。</li>
<li>超参数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mrow><mi>b</mi><mi>b</mi><mi>o</mi><mi>x</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\lambda_{bbox}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">bb</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mrow><mi>o</mi><mi>b</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\lambda_{obj}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">bj</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mrow><mi>c</mi><mi>l</mi><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\lambda_{cls}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 用于调整各项损失的权重，这些权重保持了基线模型的默认设置。</li>
</ul>
<h4 id="CoDetr-框架下的总损失函数"><a href="#CoDetr-框架下的总损失函数" class="headerlink" title="CoDetr 框架下的总损失函数"></a>CoDetr 框架下的总损失函数</h4><p>CoDetr框架采用了一个<strong>多任务损失函数</strong>，该函数由<strong>四个组成部分</strong>构成：一个主要的CoDINOHead 和三个辅助检测头（包括RPN头、ROI头和Bbox头）。</p>
<p>总损失函数可以表示为：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi mathvariant="script">L</mi><mtext>CoDetr</mtext></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>λ</mi><mtext>primary</mtext></msub><mo>⋅</mo><mrow><mo fence="true">(</mo><msub><mi mathvariant="script">L</mi><mtext>QFL</mtext></msub><mo>+</mo><msub><mi mathvariant="script">L</mi><mtext>L1</mtext></msub><mo>+</mo><msub><mi mathvariant="script">L</mi><mtext>GIoU</mtext></msub><mo fence="true">)</mo></mrow><mo>+</mo><msub><mi>λ</mi><mtext>RPN</mtext></msub><mo>⋅</mo><mrow><mo fence="true">(</mo><msub><mi mathvariant="script">L</mi><mtext>CE</mtext></msub><mo>+</mo><msub><mi mathvariant="script">L</mi><mtext>L1</mtext></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>+</mo><msub><mi>λ</mi><mtext>ROI</mtext></msub><mo>⋅</mo><mrow><mo fence="true">(</mo><msub><mi mathvariant="script">L</mi><mtext>CE</mtext></msub><mo>+</mo><msub><mi mathvariant="script">L</mi><mtext>GIoU</mtext></msub><mo fence="true">)</mo></mrow><mo>+</mo><msub><mi>λ</mi><mtext>Bbox</mtext></msub><mo>⋅</mo><mrow><mo fence="true">(</mo><msub><mi mathvariant="script">L</mi><mtext>Focal</mtext></msub><mo>+</mo><msub><mi mathvariant="script">L</mi><mtext>GIoU</mtext></msub><mo>+</mo><msub><mi mathvariant="script">L</mi><mtext>CE</mtext></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(8)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{align}
\mathcal{L}_{\text{CoDetr}} &amp;= \lambda_{\text{primary}} \cdot \left( \mathcal{L}_{\text{QFL}} + \mathcal{L}_{\text{L1}} + \mathcal{L}_{\text{GIoU}} \right) + \lambda_{\text{RPN}} \cdot \left( \mathcal{L}_{\text{CE}} + \mathcal{L}_{\text{L1}} \right) \\
&amp;+ \lambda_{\text{ROI}} \cdot \left( \mathcal{L}_{\text{CE}} + \mathcal{L}_{\text{GIoU}} \right) + \lambda_{\text{Bbox}} \cdot \left( \mathcal{L}_{\text{Focal}} + \mathcal{L}_{\text{GIoU}} + \mathcal{L}_{\text{CE}} \right)
\end{align}
\tag{8}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">CoDetr</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3175em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">primary</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">QFL</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">L1</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">GIoU</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">RPN</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">CE</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">L1</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">ROI</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">CE</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">GIoU</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">Bbox</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">Focal</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">GIoU</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">CE</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">8</span></span><span class="mord">)</span></span></span></span></span></span>
<p>其中：</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>Q</mi><mi>F</mi><mi>L</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{QFL}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">QF</span><span class="mord mathnormal mtight">L</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 是**质量焦点损失** （Quality Focal Loss）。</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>L</mi><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">L_{L1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>L</mtext><mn>1</mn></mrow><annotation encoding="application/x-tex">\text{L}1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord">L</span></span><span class="mord">1</span></span></span></span> **损失**。</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>G</mi><mi>I</mi><mi>o</mi><mi>U</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{GIoU}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">G</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是 **GIoU损失**。</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>C</mi><mi>E</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{CE}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">CE</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是**交叉熵损失** （Cross-Entropy Loss）。</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>F</mi><mi>o</mi><mi>c</mi><mi>a</mi><mi>l</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{Focal}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span><span class="mord mathnormal mtight">oc</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是**焦点损失** （Focal Loss）。</li>
<li>超参数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span></span></span></span> 为各项损失项的<strong>加权因子</strong>。</li>
</ul>
<h2 id="实验"><a href="#实验" class="headerlink" title="实验"></a>实验</h2><p>本章节详细介绍了MS2Fusion模型所进行的系列实验，包括实验设置、SOTA（State-of-the-art）比较、泛化能力测试、消融研究和定性分析。</p>
<h3 id="数据集和评估指标"><a href="#数据集和评估指标" class="headerlink" title="数据集和评估指标"></a>数据集和评估指标</h3><p><strong>数据集：</strong><br>本文在四个多光谱目标检测数据集上进行了评估：</p>
<ol>
<li><strong>FLIR (aligned)</strong>: 包含5,142对RGB-T图像，分为4,129对训练集和1,013对测试集</li>
<li><strong>LLVIP</strong>: 包含15,488对RGB-T图像，12,025对用于训练，3,463对用于测试，主要标注热成像图像</li>
<li><strong>M3FD</strong>: 包含4,200对RGB-T对齐图像，涵盖多种条件和六个类别，按8:2划分训练&#x2F;测试集</li>
<li><strong>VEDAI</strong>: 包含3,640个目标实例（9个类别）的航拍图像，共1,210张1024x1024图像，包含RGB和NIR（近红外）通道，按9:1划分训练&#x2F;测试集</li>
</ol>
<p><strong>评估指标：</strong></p>
<ul>
<li><strong>AP (Average Precision)</strong>: 标源于精确率-召回率（PR）曲线下的面积，该曲线以召回率为横轴、精确率为纵轴</li>
<li><strong>mAP (mean Average Precision)</strong>: 所有类别的AP加权平均值。实验中，<a href="mailto:&#x6d;&#65;&#80;&#x40;&#x30;&#46;&#x35;">mAP@0.5</a>（IoU阈值为0.5）是主要指标。该指标的值越高，表明性能越好</li>
</ul>
<h3 id="实验设置"><a href="#实验设置" class="headerlink" title="实验设置"></a>实验设置</h3><ul>
<li><strong>硬件</strong>: Intel i7-9700 CPU, 64GB RAM, Nvidia RTX 3090 GPU (24GB)</li>
<li><strong>软件</strong>: PyTorch</li>
<li><strong>超参数</strong>: 消融研究使用60个epoch，批量大小(batch size)为4，使用SGD优化器，初始学习率为0.01，动量0.937，权重衰减0.0005，余弦学习率衰减</li>
<li><strong>输入尺寸</strong>: 训练时为640x640，测试时为640x512</li>
<li><strong>数据增强</strong>: 使用Mosaic（马赛克）增强</li>
</ul>
<h3 id="最先进技术（-SOTA-State-of-the-art-）比较"><a href="#最先进技术（-SOTA-State-of-the-art-）比较" class="headerlink" title="最先进技术（ SOTA (State-of-the-art) ）比较"></a>最先进技术（ SOTA (State-of-the-art) ）比较</h3><p>实验在YOLOv5（速度快、精度稍低）和CoDetr（速度慢、精度高）两个框架上进行。YOLOv5检测器的推理速度更快，但精度较低；而CoDetr的检测精度更高，但推理速度较慢。</p>
<h4 id="FLIR-数据集比较"><a href="#FLIR-数据集比较" class="headerlink" title="FLIR 数据集比较"></a>FLIR 数据集比较</h4><p><strong>表2: FLIR-align 数据集比较</strong><br>(‘-’ 表示缺失值. ‘‡’ 符号表示使用CoDetr框架的实验结果，输入图像被调整为640×640像素的固定分辨率)</p>
<table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center"><a href="mailto:&#x6d;&#65;&#x50;&#x40;&#48;&#x2e;&#53;">mAP@0.5</a></th>
<th align="center">mAP</th>
<th align="center">自行车</th>
<th align="center">汽车</th>
<th align="center">人</th>
</tr>
</thead>
<tbody><tr>
<td align="center">MMTOD-CG</td>
<td align="center">61.4</td>
<td align="center">-</td>
<td align="center">50.3</td>
<td align="center">70.6</td>
<td align="center">63.3</td>
</tr>
<tr>
<td align="center">MMTOD-UNIT</td>
<td align="center">61.5</td>
<td align="center">-</td>
<td align="center">49.4</td>
<td align="center">70.7</td>
<td align="center">64.5</td>
</tr>
<tr>
<td align="center">CMPD</td>
<td align="center">69.4</td>
<td align="center">-</td>
<td align="center">59.9</td>
<td align="center">78.1</td>
<td align="center">69.6</td>
</tr>
<tr>
<td align="center">CFR</td>
<td align="center">72.4</td>
<td align="center">-</td>
<td align="center">57.8</td>
<td align="center">84.9</td>
<td align="center">74.5</td>
</tr>
<tr>
<td align="center">GAFF</td>
<td align="center">72.9</td>
<td align="center">37.5</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">BU-ATT</td>
<td align="center">73.1</td>
<td align="center">-</td>
<td align="center">56.1</td>
<td align="center">87.0</td>
<td align="center">76.1</td>
</tr>
<tr>
<td align="center">BU-LTT</td>
<td align="center">73.2</td>
<td align="center">-</td>
<td align="center">57.4</td>
<td align="center">86.5</td>
<td align="center">75.6</td>
</tr>
<tr>
<td align="center">UA_CMDet</td>
<td align="center">78.6</td>
<td align="center">-</td>
<td align="center">64.3</td>
<td align="center">88.4</td>
<td align="center">83.2</td>
</tr>
<tr>
<td align="center">CFT</td>
<td align="center">78.7</td>
<td align="center">40.2</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">CSAA</td>
<td align="center">79.2</td>
<td align="center">41.3</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">ICAFusion</td>
<td align="center">79.2</td>
<td align="center">41.4</td>
<td align="center">66.9</td>
<td align="center">89.0</td>
<td align="center">81.6</td>
</tr>
<tr>
<td align="center">CrossFormer</td>
<td align="center">79.3</td>
<td align="center">42.1</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">MFPT</td>
<td align="center">80.0</td>
<td align="center">-</td>
<td align="center">67.7</td>
<td align="center">89.0</td>
<td align="center">83.2</td>
</tr>
<tr>
<td align="center">MMFN</td>
<td align="center">80.8</td>
<td align="center">41.7</td>
<td align="center">65.5</td>
<td align="center">91.2</td>
<td align="center">85.7</td>
</tr>
<tr>
<td align="center">RSDet</td>
<td align="center">81.1</td>
<td align="center">41.4</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">MiPa</td>
<td align="center">81.3</td>
<td align="center">44.8</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">UniRGB-IR</td>
<td align="center">81.4</td>
<td align="center">44.1</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">CPCF</td>
<td align="center">82.1</td>
<td align="center">44.6</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">GM-DETR</td>
<td align="center">83.9</td>
<td align="center">45.8</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">Fusion-Mamba(yolov5)</td>
<td align="center">84.3</td>
<td align="center">44.4</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">Fusion-Mamba(yolov8)</td>
<td align="center">84.9</td>
<td align="center">47.0</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">TFDet</td>
<td align="center">86.6</td>
<td align="center">46.6</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">DAMSDet</td>
<td align="center">86.6</td>
<td align="center">49.3</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">Ours</td>
<td align="center">83.3</td>
<td align="center">40.3</td>
<td align="center">74.9</td>
<td align="center">89.8</td>
<td align="center">85.1</td>
</tr>
<tr>
<td align="center">Ours‡</td>
<td align="center">87.8</td>
<td align="center">49.7</td>
<td align="center">79.6</td>
<td align="center">93.4</td>
<td align="center">90.2</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 如表2所示，MS2Fusion在YOLOv5框架下达到83.3%的<a href="mailto:&#109;&#65;&#x50;&#x40;&#48;&#46;&#x35;">mAP@0.5</a>，在CoDetr框架下达到87.8%的<a href="mailto:&#x6d;&#65;&#x50;&#64;&#48;&#x2e;&#53;">mAP@0.5</a>，均取得了SOTA性能，分别比当前最优方法提升了2.2%和6.7%。尤其在“人”和“自行车”这两个非热源和小目标类别上增益明显。</p>
<h4 id="LLVIP-数据集比较"><a href="#LLVIP-数据集比较" class="headerlink" title="LLVIP 数据集比较"></a>LLVIP 数据集比较</h4><p><strong>表3: LLVIP 数据集比较</strong></p>
<table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center"><a href="mailto:&#x6d;&#65;&#80;&#64;&#48;&#46;&#53;">mAP@0.5</a></th>
<th align="center">mAP</th>
</tr>
</thead>
<tbody><tr>
<td align="center">DIVFusion</td>
<td align="center">89.8</td>
<td align="center">52.0</td>
</tr>
<tr>
<td align="center">GAFF</td>
<td align="center">94.0</td>
<td align="center">55.8</td>
</tr>
<tr>
<td align="center">CSAA</td>
<td align="center">94.3</td>
<td align="center">41.3</td>
</tr>
<tr>
<td align="center">ECISNet</td>
<td align="center">95.7</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">RSDet</td>
<td align="center">95.8</td>
<td align="center">61.3</td>
</tr>
<tr>
<td align="center">UniRGB-IR</td>
<td align="center">96.1</td>
<td align="center">63.2</td>
</tr>
<tr>
<td align="center">UA_CMDet</td>
<td align="center">96.3</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">CPCF</td>
<td align="center">96.4</td>
<td align="center">65.0</td>
</tr>
<tr>
<td align="center">Fusion-Mamba(yolov5)</td>
<td align="center">96.8</td>
<td align="center">62.8</td>
</tr>
<tr>
<td align="center">Fusion-Mamba(yolov8)</td>
<td align="center">97.0</td>
<td align="center">64.3</td>
</tr>
<tr>
<td align="center">MMFN</td>
<td align="center">97.2</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">GM-DETR</td>
<td align="center">97.4</td>
<td align="center">70.2</td>
</tr>
<tr>
<td align="center">TFDet</td>
<td align="center">97.9</td>
<td align="center">71.1</td>
</tr>
<tr>
<td align="center">DAMSDet</td>
<td align="center">97.9</td>
<td align="center">69.6</td>
</tr>
<tr>
<td align="center">MiPa</td>
<td align="center">98.2</td>
<td align="center">66.5</td>
</tr>
<tr>
<td align="center">Ours</td>
<td align="center">97.5</td>
<td align="center">65.5</td>
</tr>
<tr>
<td align="center">Ours‡</td>
<td align="center">98.4</td>
<td align="center">70.6</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 如表3所示，MS2Fusion在LLVIP数据集上同样表现出色，YOLOv5框架下<a href="mailto:&#x6d;&#x41;&#80;&#x40;&#48;&#46;&#53;">mAP@0.5</a>达到97.5%，CoDetr框架下达到98.4%，优于传统的CNN和Transformer方法。</p>
<h4 id="M3FD-数据集比较"><a href="#M3FD-数据集比较" class="headerlink" title="M3FD 数据集比较"></a>M3FD 数据集比较</h4><p><strong>表4: M3FD 数据集比较</strong></p>
<table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center"><a href="mailto:&#x6d;&#x41;&#x50;&#x40;&#x30;&#x2e;&#53;">mAP@0.5</a></th>
<th align="center">mAP</th>
<th align="center">People</th>
<th align="center">Bus</th>
<th align="center">Car</th>
<th align="center">Motorcycle</th>
<th align="center">Lamp</th>
<th align="center">Truck</th>
</tr>
</thead>
<tbody><tr>
<td align="center">DIDFuse</td>
<td align="center">79.0</td>
<td align="center">52.6</td>
<td align="center">79.6</td>
<td align="center">79.7</td>
<td align="center">92.5</td>
<td align="center">68.7</td>
<td align="center">84.7</td>
<td align="center">68.8</td>
</tr>
<tr>
<td align="center">SDNet</td>
<td align="center">79.0</td>
<td align="center">52.9</td>
<td align="center">79.4</td>
<td align="center">81.4</td>
<td align="center">92.3</td>
<td align="center">67.4</td>
<td align="center">84.1</td>
<td align="center">69.3</td>
</tr>
<tr>
<td align="center">RFNet</td>
<td align="center">79.4</td>
<td align="center">53.2</td>
<td align="center">79.4</td>
<td align="center">78.2</td>
<td align="center">91.1</td>
<td align="center">72.8</td>
<td align="center">85.0</td>
<td align="center">69.0</td>
</tr>
<tr>
<td align="center">ReC</td>
<td align="center">79.5</td>
<td align="center">-</td>
<td align="center">79.4</td>
<td align="center">78.9</td>
<td align="center">91.8</td>
<td align="center">69.3</td>
<td align="center">87.4</td>
<td align="center">70.0</td>
</tr>
<tr>
<td align="center">U2F</td>
<td align="center">79.6</td>
<td align="center">-</td>
<td align="center">80.7</td>
<td align="center">79.2</td>
<td align="center">92.3</td>
<td align="center">66.8</td>
<td align="center">87.6</td>
<td align="center">71.4</td>
</tr>
<tr>
<td align="center">DAMSDet</td>
<td align="center">80.2</td>
<td align="center">52.9</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">TarDAL</td>
<td align="center">80.5</td>
<td align="center">54.1</td>
<td align="center">81.5</td>
<td align="center">81.3</td>
<td align="center">94.8</td>
<td align="center">69.3</td>
<td align="center">87.1</td>
<td align="center">68.7</td>
</tr>
<tr>
<td align="center">DeFusion</td>
<td align="center">80.8</td>
<td align="center">53.8</td>
<td align="center">80.8</td>
<td align="center">83.0</td>
<td align="center">92.5</td>
<td align="center">69.4</td>
<td align="center">87.8</td>
<td align="center">71.4</td>
</tr>
<tr>
<td align="center">CDDFusion</td>
<td align="center">81.1</td>
<td align="center">54.3</td>
<td align="center">81.6</td>
<td align="center">82.6</td>
<td align="center">92.5</td>
<td align="center">71.6</td>
<td align="center">86.9</td>
<td align="center">71.5</td>
</tr>
<tr>
<td align="center">IGNet</td>
<td align="center">81.5</td>
<td align="center">54.5</td>
<td align="center">81.6</td>
<td align="center">82.4</td>
<td align="center">92.8</td>
<td align="center">73.0</td>
<td align="center">86.9</td>
<td align="center">72.1</td>
</tr>
<tr>
<td align="center">SuperFusion</td>
<td align="center">83.5</td>
<td align="center">56.0</td>
<td align="center">83.7</td>
<td align="center">93.2</td>
<td align="center">91.0</td>
<td align="center">77.4</td>
<td align="center">70.0</td>
<td align="center">85.8</td>
</tr>
<tr>
<td align="center">Fusion-Mamba(yolov5)</td>
<td align="center">85.0</td>
<td align="center">57.5</td>
<td align="center">80.3</td>
<td align="center">92.8</td>
<td align="center">91.9</td>
<td align="center">73.0</td>
<td align="center">84.8</td>
<td align="center">87.1</td>
</tr>
<tr>
<td align="center">MMFN</td>
<td align="center">86.2</td>
<td align="center">-</td>
<td align="center">83.0</td>
<td align="center">92.1</td>
<td align="center">93.2</td>
<td align="center">73.7</td>
<td align="center">87.6</td>
<td align="center">87.4</td>
</tr>
<tr>
<td align="center">Fusion-Mamba(yolov8)</td>
<td align="center">88.0</td>
<td align="center">61.9</td>
<td align="center">84.3</td>
<td align="center">94.2</td>
<td align="center">92.9</td>
<td align="center">80.5</td>
<td align="center">87.5</td>
<td align="center">88.8</td>
</tr>
<tr>
<td align="center">Ours</td>
<td align="center">89.4</td>
<td align="center">59.7</td>
<td align="center">85.6</td>
<td align="center">93.7</td>
<td align="center">93.9</td>
<td align="center">82.4</td>
<td align="center">90.8</td>
<td align="center">89.9</td>
</tr>
<tr>
<td align="center">Ours‡</td>
<td align="center">91.4</td>
<td align="center">65.6</td>
<td align="center">89.8</td>
<td align="center">95.0</td>
<td align="center">94.7</td>
<td align="center">88.2</td>
<td align="center">88.3</td>
<td align="center">92.4</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 如表4所示，MS2Fusion在M3FD数据集上表现出显著优势，YOLOv5框架提升3.2% (<a href="mailto:&#x6d;&#65;&#80;&#64;&#x30;&#x2e;&#x35;">mAP@0.5</a>)，CoDetr框架提升5.2% (<a href="mailto:&#x6d;&#x41;&#x50;&#64;&#x30;&#x2e;&#53;">mAP@0.5</a>)。特别是在摩托车等高热源物体上提升明显，显示了其有效融合热成像特征的能力。</p>
<h4 id="VEDAI-数据集比较"><a href="#VEDAI-数据集比较" class="headerlink" title="VEDAI 数据集比较"></a>VEDAI 数据集比较</h4><p><strong>表5: VEDAI 数据集比较</strong></p>
<table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center"><a href="mailto:&#109;&#65;&#80;&#64;&#48;&#46;&#x35;">mAP@0.5</a></th>
<th align="center">Car</th>
<th align="center">Truck</th>
<th align="center">Pickup</th>
<th align="center">Tractor</th>
<th align="center">Camper</th>
<th align="center">Ship</th>
<th align="center">Van</th>
<th align="center">Plane</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ICAFusion</td>
<td align="center">76.6</td>
<td align="center">88.0</td>
<td align="center">67.5</td>
<td align="center">80.9</td>
<td align="center">74.9</td>
<td align="center">78.3</td>
<td align="center">56.9</td>
<td align="center">69.8</td>
<td align="center">96.7</td>
</tr>
<tr>
<td align="center">MidFusion1</td>
<td align="center">77.4</td>
<td align="center">88.2</td>
<td align="center">84.9</td>
<td align="center">81.7</td>
<td align="center">68.4</td>
<td align="center">72.2</td>
<td align="center">71.0</td>
<td align="center">53.6</td>
<td align="center">99.5</td>
</tr>
<tr>
<td align="center">MidFusion2</td>
<td align="center">78.9</td>
<td align="center">89.2</td>
<td align="center">78.8</td>
<td align="center">87.6</td>
<td align="center">66.2</td>
<td align="center">73.2</td>
<td align="center">62.5</td>
<td align="center">73.9</td>
<td align="center">99.5</td>
</tr>
<tr>
<td align="center">Input Fusion1</td>
<td align="center">80.0</td>
<td align="center">88.7</td>
<td align="center">77.7</td>
<td align="center">79.5</td>
<td align="center">72.3</td>
<td align="center">75.7</td>
<td align="center">78.6</td>
<td align="center">72.1</td>
<td align="center">95.7</td>
</tr>
<tr>
<td align="center">Input Fusion2</td>
<td align="center">80.5</td>
<td align="center">89.1</td>
<td align="center">84.9</td>
<td align="center">78.7</td>
<td align="center">84.2</td>
<td align="center">70.1</td>
<td align="center">69.9</td>
<td align="center">68.8</td>
<td align="center">98.4</td>
</tr>
<tr>
<td align="center">YOLOFusion</td>
<td align="center">81.6</td>
<td align="center">91.7</td>
<td align="center">78.1</td>
<td align="center">85.9</td>
<td align="center">71.9</td>
<td align="center">78.9</td>
<td align="center">71.7</td>
<td align="center">75.2</td>
<td align="center">99.5</td>
</tr>
<tr>
<td align="center">Ours</td>
<td align="center">80.2</td>
<td align="center">89.5</td>
<td align="center">75.6</td>
<td align="center">84.2</td>
<td align="center">81.6</td>
<td align="center">75.9</td>
<td align="center">61.8</td>
<td align="center">76.4</td>
<td align="center">97.0</td>
</tr>
<tr>
<td align="center">Ours‡</td>
<td align="center">84.2</td>
<td align="center">93.3</td>
<td align="center">78.9</td>
<td align="center">88.5</td>
<td align="center">85.8</td>
<td align="center">80.6</td>
<td align="center">65.5</td>
<td align="center">83.6</td>
<td align="center">97.1</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 如表5所示，在VEDAI（航拍）数据集上，MS2Fusion (CoDetr) 达到了84.2%的<a href="mailto:&#x6d;&#x41;&#x50;&#64;&#48;&#46;&#x35;">mAP@0.5</a>，取得了SOTA性能。这表明模型即使没有针对小目标检测进行专门优化，该模型依然能有效关注小目标的多模态特征，在无人机图像应用中表现出鲁棒性。</p>
<h3 id="泛化到其他多模态任务"><a href="#泛化到其他多模态任务" class="headerlink" title="泛化到其他多模态任务"></a>泛化到其他多模态任务</h3><h4 id="RGB-T-语义分割"><a href="#RGB-T-语义分割" class="headerlink" title="RGB-T 语义分割"></a>RGB-T 语义分割</h4><ul>
<li><strong>评估指标</strong>: 平均交并比 mIoU (Mean Intersection over Union)，是语义分割模型常用的评估指标，它通过计算预测分割与真实分割的交并比来衡量模型性能</li>
<li><strong>数据集</strong>: MFNet (1,569对图像, 8类) 和 SemanticRT (11,371对图像, 13类)</li>
</ul>
<p><strong>表6: MFNet 数据集比较</strong></p>
<table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">mIoU</th>
<th align="center">Car</th>
<th align="center">Person</th>
<th align="center">Bike</th>
<th align="center">Curve</th>
<th align="center">Car Stop</th>
<th align="center">Guardrail</th>
<th align="center">Color Cone</th>
<th align="center">Bump</th>
</tr>
</thead>
<tbody><tr>
<td align="center">PSTNet</td>
<td align="center">48.4</td>
<td align="center">76.8</td>
<td align="center">52.6</td>
<td align="center">55.3</td>
<td align="center">29.6</td>
<td align="center">25.1</td>
<td align="center">15.1</td>
<td align="center">39.4</td>
<td align="center">45.0</td>
</tr>
<tr>
<td align="center">RTFNet</td>
<td align="center">53.2</td>
<td align="center">87.4</td>
<td align="center">70.3</td>
<td align="center">62.7</td>
<td align="center">45.3</td>
<td align="center">29.8</td>
<td align="center">0.0</td>
<td align="center">29.1</td>
<td align="center">55.7</td>
</tr>
<tr>
<td align="center">FuseSeg</td>
<td align="center">54.5</td>
<td align="center">87.9</td>
<td align="center">71.7</td>
<td align="center">64.6</td>
<td align="center">44.8</td>
<td align="center">22.7</td>
<td align="center">6.4</td>
<td align="center">46.9</td>
<td align="center">47.9</td>
</tr>
<tr>
<td align="center">AFNet</td>
<td align="center">54.6</td>
<td align="center">86.0</td>
<td align="center">67.4</td>
<td align="center">62.0</td>
<td align="center">43.0</td>
<td align="center">28.9</td>
<td align="center">4.6</td>
<td align="center">44.9</td>
<td align="center">56.6</td>
</tr>
<tr>
<td align="center">ABMDRNet</td>
<td align="center">54.8</td>
<td align="center">84.8</td>
<td align="center">69.6</td>
<td align="center">60.3</td>
<td align="center">45.1</td>
<td align="center">33.1</td>
<td align="center">5.1</td>
<td align="center">47.4</td>
<td align="center">50.0</td>
</tr>
<tr>
<td align="center">FEANet</td>
<td align="center">55.3</td>
<td align="center">87.8</td>
<td align="center">71.1</td>
<td align="center">61.1</td>
<td align="center">46.5</td>
<td align="center">22.1</td>
<td align="center">6.6</td>
<td align="center">55.3</td>
<td align="center">48.9</td>
</tr>
<tr>
<td align="center">GMNet</td>
<td align="center">57.3</td>
<td align="center">86.5</td>
<td align="center">73.1</td>
<td align="center">61.7</td>
<td align="center">44.0</td>
<td align="center">42.3</td>
<td align="center">14.5</td>
<td align="center">48.7</td>
<td align="center">47.4</td>
</tr>
<tr>
<td align="center">EGFNet</td>
<td align="center">57.5</td>
<td align="center">89.8</td>
<td align="center">71.6</td>
<td align="center">63.9</td>
<td align="center">46.7</td>
<td align="center">31.3</td>
<td align="center">6.7</td>
<td align="center">52.0</td>
<td align="center">57.4</td>
</tr>
<tr>
<td align="center">DPLNet</td>
<td align="center">59.3</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">CMX</td>
<td align="center">59.7</td>
<td align="center">90.1</td>
<td align="center">75.2</td>
<td align="center">64.5</td>
<td align="center">50.2</td>
<td align="center">35.3</td>
<td align="center">8.5</td>
<td align="center">54.2</td>
<td align="center">60.6</td>
</tr>
<tr>
<td align="center">CRM-RGBT-Seg</td>
<td align="center">61.4</td>
<td align="center">90.0</td>
<td align="center">75.1</td>
<td align="center">67.0</td>
<td align="center">45.2</td>
<td align="center">49.7</td>
<td align="center">18.4</td>
<td align="center">54.2</td>
<td align="center">54.4</td>
</tr>
<tr>
<td align="center">MFNet(baseline)</td>
<td align="center">63.5</td>
<td align="center">92.6</td>
<td align="center">82.1</td>
<td align="center">78.2</td>
<td align="center">89.6</td>
<td align="center">24.1</td>
<td align="center">1.2</td>
<td align="center">46.2</td>
<td align="center">94.2</td>
</tr>
<tr>
<td align="center">MS2Fusion-MFNet</td>
<td align="center">66.3</td>
<td align="center">94.4</td>
<td align="center">82.5</td>
<td align="center">81.0</td>
<td align="center">89.9</td>
<td align="center">34.7</td>
<td align="center">0.0</td>
<td align="center">49.7</td>
<td align="center">98.3</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 如表6所示，在MFNet数据集上，MS2Fusion (MS2Fusion-MFNet) 取得了66.3%的最佳mIoU，相比基线提升了2.8%。在凸起和曲线类别上提升尤为明显，这表明MS2Fusion能有效利用跨模态的共享特征（如局部几何特征），显著提升这两个类别的分割性能。</p>
<p><strong>表7: SemanticRT 数据集比较</strong></p>
<table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">mIoU</th>
<th align="left">CarStop</th>
<th align="left">Bike</th>
<th align="left">Bicyclist</th>
<th align="left">Mtcycle</th>
<th align="left">Mtcyclist</th>
<th align="left">Car</th>
<th align="left">Tricycle</th>
<th align="left">TrafLight</th>
<th align="left">Box</th>
<th align="left">Pole</th>
<th align="left">Curve</th>
<th align="left">Person</th>
</tr>
</thead>
<tbody><tr>
<td align="left">PSTNet</td>
<td align="left">68.0</td>
<td align="left">71.1</td>
<td align="left">62.3</td>
<td align="left">58.5</td>
<td align="left">47.3</td>
<td align="left">55.2</td>
<td align="left">85.4</td>
<td align="left">44.2</td>
<td align="left">75.7</td>
<td align="left">83.0</td>
<td align="left">71.7</td>
<td align="left">62.2</td>
<td align="left">72.2</td>
</tr>
<tr>
<td align="left">RTFNet</td>
<td align="left">75.5</td>
<td align="left">79.6</td>
<td align="left">68.0</td>
<td align="left">67.4</td>
<td align="left">63.7</td>
<td align="left">61.6</td>
<td align="left">90.4</td>
<td align="left">66.0</td>
<td align="left">78.3</td>
<td align="left">85.9</td>
<td align="left">78.0</td>
<td align="left">67.2</td>
<td align="left">78.9</td>
</tr>
<tr>
<td align="left">EGFNet</td>
<td align="left">77.4</td>
<td align="left">78.6</td>
<td align="left">71.3</td>
<td align="left">70.9</td>
<td align="left">68.4</td>
<td align="left">66.1</td>
<td align="left">90.5</td>
<td align="left">71.5</td>
<td align="left">80.4</td>
<td align="left">85.4</td>
<td align="left">76.5</td>
<td align="left">66.9</td>
<td align="left">83.7</td>
</tr>
<tr>
<td align="left">ECM</td>
<td align="left">79.3</td>
<td align="left">80.2</td>
<td align="left">75.0</td>
<td align="left">75.5</td>
<td align="left">71.4</td>
<td align="left">70.4</td>
<td align="left">90.3</td>
<td align="left">74.0</td>
<td align="left">85.9</td>
<td align="left">85.6</td>
<td align="left">77.2</td>
<td align="left">68.3</td>
<td align="left">85.0</td>
</tr>
<tr>
<td align="left">MFNet(baseline)</td>
<td align="left">77.8</td>
<td align="left">75.3</td>
<td align="left">77.1</td>
<td align="left">63.2</td>
<td align="left">71.1</td>
<td align="left">57.3</td>
<td align="left">97.9</td>
<td align="left">66</td>
<td align="left">85.9</td>
<td align="left">89.5</td>
<td align="left">82.4</td>
<td align="left">85.0</td>
<td align="left">83.2</td>
</tr>
<tr>
<td align="left">MS2Fusion-MFNet</td>
<td align="left">78.8</td>
<td align="left">75.3</td>
<td align="left">77.7</td>
<td align="left">66.3</td>
<td align="left">72.3</td>
<td align="left">59.4</td>
<td align="left">97.9</td>
<td align="left">68.2</td>
<td align="left">86.0</td>
<td align="left">89.6</td>
<td align="left">81.8</td>
<td align="left">84.6</td>
<td align="left">86.7</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 如表7所示，在SemanticRT数据集上，MS2Fusion (MS2Fusion-MFNet) 同样表现优异，mIoU达到78.8%，相比基线提升1.0%，且与SOTA方法 (ECM) 仅相差0.5%，证明了其在多光谱特征融合上的鲁棒性和多功能性。</p>
<h4 id="RGB-T-显著性目标检测-RGB-T-SOD"><a href="#RGB-T-显著性目标检测-RGB-T-SOD" class="headerlink" title="RGB-T 显著性目标检测 (RGB-T SOD)"></a>RGB-T 显著性目标检测 (RGB-T SOD)</h4><ul>
<li><strong>评估指标</strong>: 平均绝对误差 MAE (↓越低越好), F度量 adpF (↑越高越好), S度量 S-Measure (S↑), E度量 E-Measure (adpE↑)</li>
<li><strong>数据集</strong>: VT821, VT1000, VT5000</li>
<li><strong>基线模型</strong>: MSEDNET</li>
</ul>
<p><strong>表8: VT821, VT1000 和 VT5000 数据集比较</strong><br>(↓ 表示值越小越好, ↑ 表示值越大越好)</p>
<table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">VT821</th>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
<th align="left">VT1000</th>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
<th align="left">VT5000</th>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left"></td>
<td align="left">S↑</td>
<td align="left">adpE↑</td>
<td align="left">adpF↑</td>
<td align="left">MAE↓</td>
<td align="left">S↑</td>
<td align="left">adpE↑</td>
<td align="left">adpF↑</td>
<td align="left">MAE↓</td>
<td align="left">S↑</td>
<td align="left">adpE↑</td>
<td align="left">adpF↑</td>
<td align="left">MAE↓</td>
</tr>
<tr>
<td align="left">MTMR</td>
<td align="left">72.5</td>
<td align="left">81.5</td>
<td align="left">66.2</td>
<td align="left">10.9</td>
<td align="left">70.6</td>
<td align="left">83.6</td>
<td align="left">71.5</td>
<td align="left">11.9</td>
<td align="left">68.0</td>
<td align="left">79.5</td>
<td align="left">59.5</td>
<td align="left">11.4</td>
</tr>
<tr>
<td align="left">M3S-NIR</td>
<td align="left">72.3</td>
<td align="left">85.9</td>
<td align="left">76.4</td>
<td align="left">14.0</td>
<td align="left">72.6</td>
<td align="left">82.7</td>
<td align="left">71.7</td>
<td align="left">14.5</td>
<td align="left">65.2</td>
<td align="left">78.0</td>
<td align="left">57.5</td>
<td align="left">16.8</td>
</tr>
<tr>
<td align="left">SGDL</td>
<td align="left">76.5</td>
<td align="left">84.7</td>
<td align="left">76.1</td>
<td align="left">8.5</td>
<td align="left">78.7</td>
<td align="left">85.6</td>
<td align="left">76.4</td>
<td align="left">9.0</td>
<td align="left">75.0</td>
<td align="left">82.4</td>
<td align="left">67.2</td>
<td align="left">8.9</td>
</tr>
<tr>
<td align="left">PoolNet</td>
<td align="left">75.1</td>
<td align="left">73.9</td>
<td align="left">57.8</td>
<td align="left">10.9</td>
<td align="left">83.4</td>
<td align="left">81.3</td>
<td align="left">71.4</td>
<td align="left">6.7</td>
<td align="left">76.9</td>
<td align="left">75.5</td>
<td align="left">58.8</td>
<td align="left">8.9</td>
</tr>
<tr>
<td align="left">R3Net</td>
<td align="left">78.6</td>
<td align="left">80.9</td>
<td align="left">66.0</td>
<td align="left">7.3</td>
<td align="left">84.2</td>
<td align="left">85.9</td>
<td align="left">76.1</td>
<td align="left">5.5</td>
<td align="left">75.7</td>
<td align="left">79.0</td>
<td align="left">61.5</td>
<td align="left">8.3</td>
</tr>
<tr>
<td align="left">CPD</td>
<td align="left">82.7</td>
<td align="left">83.7</td>
<td align="left">71.0</td>
<td align="left">5.7</td>
<td align="left">90.6</td>
<td align="left">90.2</td>
<td align="left">83.4</td>
<td align="left">3.2</td>
<td align="left">84.8</td>
<td align="left">86.7</td>
<td align="left">74.1</td>
<td align="left">5.0</td>
</tr>
<tr>
<td align="left">MMCI</td>
<td align="left">76.3</td>
<td align="left">78.4</td>
<td align="left">61.8</td>
<td align="left">8.7</td>
<td align="left">88.6</td>
<td align="left">89.2</td>
<td align="left">80.3</td>
<td align="left">3.9</td>
<td align="left">82.7</td>
<td align="left">85.9</td>
<td align="left">71.4</td>
<td align="left">5.5</td>
</tr>
<tr>
<td align="left">AFNet</td>
<td align="left">77.8</td>
<td align="left">81.6</td>
<td align="left">66.1</td>
<td align="left">6.9</td>
<td align="left">88.8</td>
<td align="left">91.2</td>
<td align="left">83.8</td>
<td align="left">3.3</td>
<td align="left">83.4</td>
<td align="left">87.7</td>
<td align="left">75.0</td>
<td align="left">5.0</td>
</tr>
<tr>
<td align="left">TANet</td>
<td align="left">81.8</td>
<td align="left">85.2</td>
<td align="left">71.7</td>
<td align="left">5.2</td>
<td align="left">90.2</td>
<td align="left">91.2</td>
<td align="left">83.8</td>
<td align="left">3.0</td>
<td align="left">84.7</td>
<td align="left">88.3</td>
<td align="left">75.4</td>
<td align="left">4.7</td>
</tr>
<tr>
<td align="left">S2MA</td>
<td align="left">81.1</td>
<td align="left">81.3</td>
<td align="left">70.9</td>
<td align="left">9.8</td>
<td align="left">91.8</td>
<td align="left">91.2</td>
<td align="left">84.8</td>
<td align="left">2.9</td>
<td align="left">85.3</td>
<td align="left">86.4</td>
<td align="left">74.3</td>
<td align="left">5.3</td>
</tr>
<tr>
<td align="left">JLDCF</td>
<td align="left">83.9</td>
<td align="left">83.0</td>
<td align="left">72.6</td>
<td align="left">7.6</td>
<td align="left">91.2</td>
<td align="left">89.9</td>
<td align="left">82.9</td>
<td align="left">3.0</td>
<td align="left">86.1</td>
<td align="left">86.0</td>
<td align="left">73.9</td>
<td align="left">5.0</td>
</tr>
<tr>
<td align="left">FMCF</td>
<td align="left">76.0</td>
<td align="left">79.6</td>
<td align="left">64.0</td>
<td align="left">8.0</td>
<td align="left">87.3</td>
<td align="left">89.9</td>
<td align="left">82.3</td>
<td align="left">3.7</td>
<td align="left">81.4</td>
<td align="left">86.4</td>
<td align="left">73.4</td>
<td align="left">5.5</td>
</tr>
<tr>
<td align="left">ADF</td>
<td align="left">81.0</td>
<td align="left">84.2</td>
<td align="left">71.7</td>
<td align="left">7.7</td>
<td align="left">91.0</td>
<td align="left">92.1</td>
<td align="left">84.7</td>
<td align="left">3.4</td>
<td align="left">86.4</td>
<td align="left">89.1</td>
<td align="left">77.8</td>
<td align="left">4.8</td>
</tr>
<tr>
<td align="left">MIDD</td>
<td align="left">87.1</td>
<td align="left">89.5</td>
<td align="left">80.3</td>
<td align="left">4.5</td>
<td align="left">91.5</td>
<td align="left">93.3</td>
<td align="left">88.0</td>
<td align="left">2.7</td>
<td align="left">86.8</td>
<td align="left">89.6</td>
<td align="left">79.9</td>
<td align="left">4.3</td>
</tr>
<tr>
<td align="left">LSNet</td>
<td align="left">87.2</td>
<td align="left">91.0</td>
<td align="left">81.4</td>
<td align="left">3.6</td>
<td align="left">92.1</td>
<td align="left">94.9</td>
<td align="left">88.1</td>
<td align="left">2.3</td>
<td align="left">87.5</td>
<td align="left">92.0</td>
<td align="left">81.7</td>
<td align="left">3.7</td>
</tr>
<tr>
<td align="left">CAVER</td>
<td align="left">89.8</td>
<td align="left">92.8</td>
<td align="left">87.7</td>
<td align="left">2.7</td>
<td align="left">93.6</td>
<td align="left">94.9</td>
<td align="left">91.1</td>
<td align="left">1.7</td>
<td align="left">89.9</td>
<td align="left">94.1</td>
<td align="left">84.9</td>
<td align="left">2.8</td>
</tr>
<tr>
<td align="left">DPLNet</td>
<td align="left">87.8</td>
<td align="left">90.8</td>
<td align="left">81.0</td>
<td align="left">4.3</td>
<td align="left">92.8</td>
<td align="left">95.1</td>
<td align="left">88.1</td>
<td align="left">2.2</td>
<td align="left">87.9</td>
<td align="left">91.6</td>
<td align="left">82.8</td>
<td align="left">3.8</td>
</tr>
<tr>
<td align="left">MSEDNET(baseline)</td>
<td align="left">87.6</td>
<td align="left">89.7</td>
<td align="left">80.3</td>
<td align="left">3.9</td>
<td align="left">92.8</td>
<td align="left">93.9</td>
<td align="left">86.8</td>
<td align="left">2.2</td>
<td align="left">88.1</td>
<td align="left">91.6</td>
<td align="left">82.1</td>
<td align="left">3.7</td>
</tr>
<tr>
<td align="left">MS2Fusion-MSEDNET</td>
<td align="left">90.4</td>
<td align="left">93.5</td>
<td align="left">86.3</td>
<td align="left">3.2</td>
<td align="left">94.4</td>
<td align="left">97.2</td>
<td align="left">91.8</td>
<td align="left">1.6</td>
<td align="left">90.2</td>
<td align="left">94.2</td>
<td align="left">86.4</td>
<td align="left">3.0</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 如表8所示，MS2Fusion (MS2Fusion-MSEDNET) 在三个RGB-T SOD数据集上均达到了SOTA性能。例如，在VT5000上，MAE指标从基线的3.7降低到3.0；在VT1000上，adpF指标从86.8提升到91.8。MS2Fusion在所有评估指标上均排名第一或第二，展示了其在RGB-T SOD任务中的卓越特征融合能力。</p>
<h3 id="消融研究"><a href="#消融研究" class="headerlink" title="消融研究"></a>消融研究</h3><p>所有消融研究均在FLIR数据集和YOLOv5框架上进行。</p>
<h4 id="不同检测框架的影响"><a href="#不同检测框架的影响" class="headerlink" title="不同检测框架的影响"></a>不同检测框架的影响</h4><p><strong>表9: 不同骨干网络和检测框架的影响</strong></p>
<table>
<thead>
<tr>
<th align="center">编号</th>
<th align="center">框架</th>
<th align="center">融合模型</th>
<th align="center">人</th>
<th align="center">汽车</th>
<th align="center">自行车</th>
<th align="center"><a href="mailto:&#x6d;&#x41;&#80;&#64;&#48;&#x2e;&#53;">mAP@0.5</a></th>
<th align="center">FPS</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">YOLOv5</td>
<td align="center">Baseline</td>
<td align="center">83.8</td>
<td align="center">88.9</td>
<td align="center">67.3</td>
<td align="center">80.0</td>
<td align="center">43.2</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"></td>
<td align="center">MS2Fusion</td>
<td align="center">85.1</td>
<td align="center">89.8</td>
<td align="center">74.9</td>
<td align="center">83.3 (+3.3)</td>
<td align="center">24.4</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">CoDetr</td>
<td align="center">Baseline</td>
<td align="center">88.0</td>
<td align="center">91.7</td>
<td align="center">73.8</td>
<td align="center">84.5</td>
<td align="center">5.9</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"></td>
<td align="center">MS2Fusion</td>
<td align="center">90.2</td>
<td align="center">93.4</td>
<td align="center">79.6</td>
<td align="center">87.8 (+3.3)</td>
<td align="center">4.8</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 如表9所示，MS2Fusion模块在YOLOv5和CoDetr两个主流检测框架上，均比基线（add fusion）带来了**3.3%**的<a href="mailto:&#x6d;&#65;&#x50;&#x40;&#48;&#46;&#53;">mAP@0.5</a>提升。这证明了MS2Fusion具有出色的“即插即用”特性和强大的泛化能力。</p>
<h4 id="不同骨干网络的影响"><a href="#不同骨干网络的影响" class="headerlink" title="不同骨干网络的影响"></a>不同骨干网络的影响</h4><p><strong>表10: 不同骨干网络的影响</strong></p>
<table>
<thead>
<tr>
<th align="center">编号</th>
<th align="center">骨干网络</th>
<th align="center">融合模型</th>
<th align="center">人</th>
<th align="center">汽车</th>
<th align="center">自行车</th>
<th align="center"><a href="mailto:&#x6d;&#x41;&#80;&#x40;&#x30;&#x2e;&#x35;">mAP@0.5</a></th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">VGG16</td>
<td align="center">Baseline</td>
<td align="center">78.9</td>
<td align="center">87.7</td>
<td align="center">51.2</td>
<td align="center">72.6</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"></td>
<td align="center">MS2Fusion</td>
<td align="center">79.0</td>
<td align="center">87.8</td>
<td align="center">53.8</td>
<td align="center">73.6 (+1.0)</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">ResNet50</td>
<td align="center">Baseline</td>
<td align="center">76.8</td>
<td align="center">85.7</td>
<td align="center">44.6</td>
<td align="center">69.0</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"></td>
<td align="center">MS2Fusion</td>
<td align="center">80.2</td>
<td align="center">88.4</td>
<td align="center">52.8</td>
<td align="center">73.8 (+4.8)</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">CSPDarkNet53</td>
<td align="center">Baseline</td>
<td align="center">83.8</td>
<td align="center">88.9</td>
<td align="center">67.3</td>
<td align="center">80.0</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center"></td>
<td align="center">MS2Fusion</td>
<td align="center">85.1</td>
<td align="center">89.8</td>
<td align="center">74.9</td>
<td align="center">83.3 (+3.3)</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 如表10所示，MS2Fusion在VGG16、ResNet50和CSPDarkNet53三种不同骨干网络上均实现了一致的性能增益，分别提升了1.0%、4.8%和3.3% (<a href="mailto:&#109;&#x41;&#80;&#64;&#x30;&#x2e;&#x35;">mAP@0.5</a>)。这进一步证实了MS2Fusion模块对不同骨干架构的强大泛化能力和兼容性。</p>
<h4 id="不同模块的影响"><a href="#不同模块的影响" class="headerlink" title="不同模块的影响"></a>不同模块的影响</h4><p><strong>表11: 不同融合模块的影响</strong></p>
<table>
<thead>
<tr>
<th align="center">编号</th>
<th align="center">CP-SSM</th>
<th align="center">SP-SSM</th>
<th align="center">FF-SSM</th>
<th align="center">人</th>
<th align="center">汽车</th>
<th align="center">自行车</th>
<th align="center"><a href="mailto:&#109;&#65;&#x50;&#64;&#48;&#46;&#53;">mAP@0.5</a></th>
<th align="center">Params(M)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">83.8</td>
<td align="center">88.9</td>
<td align="center">67.3</td>
<td align="center">80.0</td>
<td align="center">72.7</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">83.8</td>
<td align="center">89.8</td>
<td align="center">72.7</td>
<td align="center">82.1 (+2.1)</td>
<td align="center">84.5</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"></td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center">85.6</td>
<td align="center">90.4</td>
<td align="center">70.6</td>
<td align="center">82.2 (+2.2)</td>
<td align="center">90.4</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">✓</td>
<td align="center">84.9</td>
<td align="center">90.1</td>
<td align="center">72.4</td>
<td align="center">82.5 (+2.5)</td>
<td align="center">86.0</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">✓</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center">84.9</td>
<td align="center">90.3</td>
<td align="center">72.9</td>
<td align="center">82.7 (+2.7)</td>
<td align="center">117.0</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center">✓</td>
<td align="center">85.5</td>
<td align="center">90.0</td>
<td align="center">72.5</td>
<td align="center">82.7 (+2.7)</td>
<td align="center">97.8</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center"></td>
<td align="center">✓</td>
<td align="center">✓</td>
<td align="center">85.5</td>
<td align="center">90.3</td>
<td align="center">72.9</td>
<td align="center">82.9 (+2.9)</td>
<td align="center">103.7</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">✓</td>
<td align="center">✓</td>
<td align="center">✓</td>
<td align="center">85.1</td>
<td align="center">89.8</td>
<td align="center">74.9</td>
<td align="center">83.3 (+3.3)</td>
<td align="center">130.2</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 如表11所示，基线（第1行）mAP为80.0%。</p>
<ul>
<li>单独使用<strong>CP-SSM</strong> （第2行）提升2.1% mAP，显著提升了“自行车”类别（+5.4%），表明它善于增强模态特定特征</li>
<li>单独使用<strong>SP-SSM</strong> （第3行）提升2.2% mAP，表明提取跨模态共享特征的有效性</li>
<li>单独使用<strong>FF-SSM</strong> （第4行）提升2.5% mAP，表明其异构特征融合的高效性</li>
<li>组合使用（第5-7行）均有提升，而<strong>集成所有三个模块</strong> （第8行）达到了83.3% mAP的最佳性能（+3.3%），尤其在“自行车”类别上提升了7.6%</li>
<li>这证明了CP-SSM（互补）、SP-SSM（共享）和FF-SSM（融合）三者协同作用，实现了模态特异性增强、跨模态泛化和自适应融合的平衡</li>
</ul>
<h4 id="不同融合层的影响"><a href="#不同融合层的影响" class="headerlink" title="不同融合层的影响"></a>不同融合层的影响</h4><p><strong>表12: 在不同层进行融合的影响</strong></p>
<table>
<thead>
<tr>
<th align="center">编号</th>
<th align="center">P3</th>
<th align="center">P4</th>
<th align="center">P5</th>
<th align="center">人</th>
<th align="center">汽车</th>
<th align="center">自行车</th>
<th align="center"><a href="mailto:&#109;&#65;&#80;&#x40;&#48;&#x2e;&#53;">mAP@0.5</a></th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">83.8</td>
<td align="center">88.9</td>
<td align="center">67.3</td>
<td align="center">80.0</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">83.4</td>
<td align="center">88.5</td>
<td align="center">71.4</td>
<td align="center">81.1 (+1.1)</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">✓</td>
<td align="center">✓</td>
<td align="center"></td>
<td align="center">85.8</td>
<td align="center">90.1</td>
<td align="center">70.0</td>
<td align="center">82.0 (+2.0)</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">✓</td>
<td align="center">✓</td>
<td align="center">✓</td>
<td align="center">85.1</td>
<td align="center">89.8</td>
<td align="center">74.9</td>
<td align="center">83.3 (+3.3)</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 如表12所示，对比了在不同特征层（P3, P4, P5）应用MS2Fusion模块的效果。</p>
<ul>
<li>仅在P3（浅层）融合（第2行），“自行车”AP大幅提升5.7%，但“人”和“车”略降，总mAP升至81.1%</li>
<li>在P3和P4融合（第3行），“人”和“车”的AP反弹，总mAP升至82.0%</li>
<li>在P3、P4和P5（深层）全部融合（第4行），达到了最佳平衡，<a href="mailto:&#109;&#65;&#80;&#x40;&#x30;&#x2e;&#53;">mAP@0.5</a>达到83.3%，并且“自行车”的AP达到74.9%，为所有配置中最高</li>
<li>这表明多层次特征融合（浅层细节+深层语义）对于跨模态特征集成至关重要，特别是对“自行车”等挑战性类别</li>
</ul>
<h4 id="CP-SSM-的讨论"><a href="#CP-SSM-的讨论" class="headerlink" title="CP-SSM 的讨论"></a>CP-SSM 的讨论</h4><p><strong>表13: CP-SSM 的微调</strong></p>
<table>
<thead>
<tr>
<th align="center">编号</th>
<th align="center">微调</th>
<th align="center">人</th>
<th align="center">汽车</th>
<th align="center">自行车</th>
<th align="center"><a href="mailto:&#109;&#x41;&#x50;&#64;&#48;&#46;&#53;">mAP@0.5</a></th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">rows</td>
<td align="center">85.1</td>
<td align="center">89.8</td>
<td align="center">74.9</td>
<td align="center">83.3</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">columns</td>
<td align="center">64.1</td>
<td align="center">90.3</td>
<td align="center">72.8</td>
<td align="center">82.4</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">rows and columns</td>
<td align="center">85.4</td>
<td align="center">90.4</td>
<td align="center">70.2</td>
<td align="center">82.0</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">w&#x2F;o exchange C</td>
<td align="center">85.7</td>
<td align="center">90.6</td>
<td align="center">71.7</td>
<td align="center">82.7</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">exchange C</td>
<td align="center">85.1</td>
<td align="center">89.8</td>
<td align="center">74.9</td>
<td align="center">83.3</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 表13探索了CP-SSM的两个关键设计：</p>
<ol>
<li><strong>扫描方向 (row 1-3)</strong>: 实验发现，仅按行（rows）扫描（第1行）效果最好（83.3% mAP）。使用多方向扫描（rows and columns，第3行）反而导致性能下降（82.0% mAP），可能是因为它改变了目标特征，不利于检测任务所需的稳定性</li>
<li><strong>C参数交换 (row 4-5)</strong>: 对比“不交换C”（第4行，82.7% mAP）和“交换C”（第5行，83.3% mAP），发现<strong>交换C参数</strong>的机制（即跨模态分支交换隐藏状态投影矩阵）带来了**0.6%**的稳定性能提升。这证明了该设计能有效优化跨特征交互效率</li>
</ol>
<h4 id="不同输入模态的比较"><a href="#不同输入模态的比较" class="headerlink" title="不同输入模态的比较"></a>不同输入模态的比较</h4><p><strong>表14: 不同输入的性能</strong><br>(V, T 分别表示可见光和热成像。V+T表示双模态输入，V+V或T+T表示单模态输入。)</p>
<table>
<thead>
<tr>
<th align="center">编号</th>
<th align="center">模型</th>
<th align="center">输入</th>
<th align="center"><a href="mailto:&#109;&#x41;&#80;&#x40;&#x30;&#46;&#x35;">mAP@0.5</a></th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">YOLOv5</td>
<td align="center">V</td>
<td align="center">67.8</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"></td>
<td align="center">T</td>
<td align="center">73.9</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">Baseline</td>
<td align="center">V+V</td>
<td align="center">61.2</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"></td>
<td align="center">T+T</td>
<td align="center">77.8</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center"></td>
<td align="center">V+T</td>
<td align="center">80.0</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">Ours</td>
<td align="center">V+V</td>
<td align="center">68.4 (+7.2)</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center"></td>
<td align="center">T+T</td>
<td align="center">82.1 (+4.3)</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center"></td>
<td align="center">V+T</td>
<td align="center">83.3 (+3.3)</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 表14展示了MS2Fusion在处理缺失模态时的鲁棒性。</p>
<ul>
<li>在所有输入配置下（V+V, T+T, V+T），Ours（MS2Fusion）均显著优于Baseline（基线）</li>
<li>当仅使用热成像（T+T）时（第7行），Ours的性能（82.1% mAP）仅比使用双模态（V+T）时（第8行，83.3% mAP）低1.2%，显示了极强的鲁棒性</li>
<li>这表明MS2Fusion能有效利用异构数据的共享空间特征，利用一个可用的模态信息来增强另一个模态的特征</li>
</ul>
<h4 id="FF-SSM-输入配置分析"><a href="#FF-SSM-输入配置分析" class="headerlink" title="FF-SSM 输入配置分析"></a>FF-SSM 输入配置分析</h4><p><strong>表15: FF-SSM 模块的输入配置</strong></p>
<table>
<thead>
<tr>
<th align="center">FF-SSM input</th>
<th align="center"><a href="mailto:&#x6d;&#65;&#x50;&#64;&#48;&#x2e;&#x35;">mAP@0.5</a></th>
<th align="center">person</th>
<th align="center">car</th>
<th align="center">bicycle</th>
</tr>
</thead>
<tbody><tr>
<td align="center">(V, T)</td>
<td align="center">83.1</td>
<td align="center">85.4</td>
<td align="center">90.2</td>
<td align="center">73.9</td>
</tr>
<tr>
<td align="center">(T, V)</td>
<td align="center">82.5</td>
<td align="center">85.1</td>
<td align="center">90.1</td>
<td align="center">72.4</td>
</tr>
<tr>
<td align="center">((V, T), (T, V))</td>
<td align="center">83.3</td>
<td align="center">85.1</td>
<td align="center">89.8</td>
<td align="center">74.9</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 表15研究了FF-SSM模块的输入顺序。</p>
<ul>
<li>使用单向输入 (V, T)（第1行）或 (T, V)（第2行）时，mAP分别为83.1%和82.5%，均低于基线（83.3%）</li>
<li>这揭示了状态空间模型中存在的<strong>特征衰减（遗忘）现象</strong>：较早输入的特征在状态传播过程中逐渐被遗忘</li>
<li>而使用本文提出的<strong>双向架构 ((V, T), (T, V))</strong> （第3行）时，性能恢复并达到最佳（83.3% mAP），“自行车”检测（74.9%）也得到改善</li>
<li>如图9（ERF可视化，未显示）所示，双向策略建立了鲁棒的跨模态特征记忆路径，显著扩大了有效感受野（ERF），从而在保持线性复杂度的同时缓解了特征衰减</li>
</ul>
<p><img data-src="/./../images/image-20251031213920975.png" alt="image-20251031213920975"></p>
<h3 id="定性分析"><a href="#定性分析" class="headerlink" title="定性分析"></a>定性分析</h3><h4 id="模型统计分析"><a href="#模型统计分析" class="headerlink" title="模型统计分析"></a>模型统计分析</h4><p><strong>表16: 模型的统计分析 (释放随机种子进行10次实验)</strong></p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">Mean(%)</th>
<th align="center"></th>
<th align="center">VAR(%)</th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center"></td>
<td align="center"><a href="mailto:&#109;&#65;&#x50;&#64;&#48;&#x2e;&#53;">mAP@0.5</a></td>
<td align="center">mAP</td>
<td align="center"><a href="mailto:&#x6d;&#65;&#80;&#64;&#x30;&#46;&#x35;">mAP@0.5</a></td>
<td align="center">mAP</td>
</tr>
<tr>
<td align="center">FLIR</td>
<td align="center">82.99</td>
<td align="center">40.60</td>
<td align="center">0.15</td>
<td align="center">2.47</td>
</tr>
<tr>
<td align="center">LLVIP</td>
<td align="center">97.41</td>
<td align="center">63.46</td>
<td align="center">0.03</td>
<td align="center">2.31</td>
</tr>
<tr>
<td align="center">M3FD</td>
<td align="center">89.11</td>
<td align="center">59.76</td>
<td align="center">0.18</td>
<td align="center">0.42</td>
</tr>
</tbody></table>
<p><strong>分析</strong>: 如表16所示，通过10次随机种子实验，MS2Fusion表现出极高的稳定性。在FLIR上<a href="mailto:&#x6d;&#x41;&#x50;&#64;&#48;&#x2e;&#x35;">mAP@0.5</a>方差仅为0.15%，在LLVIP上方差低至0.03%。这表明模型对初始条件变化具有很强的抵抗力，在不同数据分布上保持一致性能。</p>
<h4 id="热图可视化-图10"><a href="#热图可视化-图10" class="headerlink" title="热图可视化 (图10)"></a>热图可视化 (图10)</h4><p>对比Baseline、ICAFusion和MS2Fusion：</p>
<ul>
<li>在停车场（第一行）、夜间街道（第二行）和道路（第三行）等多种场景下，MS2Fusion均表现最佳。</li>
<li><strong>优势</strong>: (1) 相比CNN基线，MS2Fusion的感受野更广，能捕获更宽的对象区域；(2) 相比Transformer (ICAFusion)，它实现了更精确的轮廓拟合；(3) 假阴性率（漏检）最低，尤其是在低光照条件下。</li>
</ul>
<p><img data-src="/./../images/image-20251031214157371.png" alt="image-20251031214157371"></p>
<h4 id="特征融合比较可视化-图11"><a href="#特征融合比较可视化-图11" class="headerlink" title="特征融合比较可视化 (图11)"></a>特征融合比较可视化 (图11)</h4><p>对比P5层的特征图 (Baseline vs MS2Fusion)：</p>
<ul>
<li>Baseline（简单求和）导致信息丢失或模态冲突。</li>
<li>MS2Fusion通过其多阶段框架（CP&#x2F;SP&#x2F;FF），能选择性保留每个模态中最具辨识度的特征，同时抑制冗余，生成更丰富、更清晰的特征图。</li>
</ul>
<p><img data-src="/./../images/image-20251031214216261.png" alt="image-20251031214216261"></p>
<h4 id="共享和互补特征的可视化分析-图12"><a href="#共享和互补特征的可视化分析-图12" class="headerlink" title="共享和互补特征的可视化分析 (图12)"></a>共享和互补特征的可视化分析 (图12)</h4><p>在低光照条件下可视化CP-SSM和SP-SSM的输出：</p>
<ul>
<li>由于RGB模态特征弱，CP-SSM（互补特征）主要关注模态特定差异（如热梯和纹理）。</li>
<li>SP-SSM（共享特征）则有效融合了两个模态，生成了跨RGB和热域一致的共享语义表示（如物体轮廓、行人区域）。SP-SSM通过强制语义一致性补偿了可见光谱的退化。</li>
</ul>
<p><img data-src="/./../images/image-20251031214233322.png" alt="image-20251031214233322"></p>
<h4 id="RGB-T-语义分割样本可视化-图13"><a href="#RGB-T-语义分割样本可视化-图13" class="headerlink" title="RGB-T 语义分割样本可视化 (图13)"></a>RGB-T 语义分割样本可视化 (图13)</h4><p>对比Baseline和MS2Fusion的分割结果：</p>
<ul>
<li>Baseline在处理行人和车辆边界时表现模糊且存在误分类。</li>
<li>MS2Fusion在这些挑战区域表现出显著改进，能保持对象轮廓的精细细节和复杂背景下的分割一致性。</li>
</ul>
<p><img data-src="/./../images/image-20251031214255210.png" alt="image-20251031214255210"></p>
<h4 id="RGB-T-显著性目标检测样本可视化-图14"><a href="#RGB-T-显著性目标检测样本可视化-图14" class="headerlink" title="RGB-T 显著性目标检测样本可视化 (图14)"></a>RGB-T 显著性目标检测样本可视化 (图14)</h4><p>对比Ours (MS2Fusion) 和其他SOTA方法：</p>
<ul>
<li><strong>优势</strong>: (1) 利用跨模态互补性生成精确的对象边界，噪声干扰最小（第1, 5行）；(2) 在遮挡场景中鲁棒性强，保持了完整的物体形态（第2行）；(3) 对小物体（第4行）和复杂形状（第3, 6行）具有出色的敏感性。</li>
</ul>
<p><img data-src="/./../images/image-20251031214312729.png" alt="image-20251031214312729"></p>
<h3 id="局限性-图15"><a href="#局限性-图15" class="headerlink" title="局限性 (图15)"></a>局限性 (图15)</h3><p>分析了几个失败案例：</p>
<ol>
<li><strong>远处物体</strong>: 当物体距离远且在热图像中不突出（热信号与背景接近）时，模型难以区分物体和背景。</li>
<li><strong>遮挡物体</strong>: 模型倾向于忽略部分或完全被遮挡的物体，导致漏检。</li>
<li><strong>热相似物体的假阳性</strong>: 具有与人相似热特征的物体（如第3行）会导致假阳性检测，尤其是在低分辨率图像中，模型难以区分。</li>
</ol>
<p><img data-src="/./../images/image-20251031214326873.png" alt="image-20251031214326873"></p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>本论文提出了**多光谱状态空间特征融合（MS2Fusion）**框架，旨在解决现代多光谱目标检测中存在的两个关键限制：一是过度偏向局部互补特征，而忽略跨模态共享语义，影响了泛化性能；二是感受野尺寸和计算复杂度之间的权衡，是可扩展特征建模的关键瓶颈。</p>
<p>MS2Fusion基于<strong>状态空间模型（SSM）</strong>，通过<strong>双路径参数交互机制</strong>实现了高效且有效的特征融合。</p>
<ul>
<li>**共享参数交互（SP-SSM）**分支：通过在SSM中共享参数，探索跨模态对齐，以获得相似的语义特征和结构。</li>
<li>**交叉参数交互（CP-SSM）**分支：利用SSM中的跨模态隐藏状态解码，继承了交叉注意力的优势，以挖掘互补信息。</li>
</ul>
<p>这两种路径在一个统一的框架内通过SSM进行联合优化，使MS2Fusion能够同时享有功能互补性和共享语义空间。得益于这种双分支SSM设计，本方法同时继承了<strong>计算效率</strong>和<strong>全局感受野</strong>的优点，显著提高了多光谱目标检测的性能。</p>
<p>实验结果表明，MS2Fusion持续优于现有强大的基线方法：</p>
<ul>
<li>在目标检测（FLIR）任务中，<a href="mailto:&#109;&#65;&#80;&#x40;&#48;&#x2e;&#53;">mAP@0.5</a>提高了3.3%。</li>
<li>在RGB-T语义分割（MFNet）任务中，mIoU提升了2.8%。</li>
<li>在显著性目标检测（VT5000）任务中，MAE降低了0.7%。</li>
</ul>
<p>值得注意的是，MS2Fusion无需针对特定任务进行修改，即可在多个多光谱感知任务上实现<strong>新的最先进（SOTA）结果</strong>，充分证明了其卓越的<strong>泛化能力</strong>。</p>
]]></content>
      <categories>
        <category>论文阅读</category>
      </categories>
      <tags>
        <tag>多光谱目标检测</tag>
        <tag>状态空间模型</tag>
        <tag>共享参数</tag>
        <tag>跨参数交互</tag>
      </tags>
  </entry>
  <entry>
    <title>对过去的一些回忆与思考</title>
    <url>/2023/08/05/memory1/</url>
    <content><![CDATA[<p><img data-src="/./../images/1691270729-644e6321b37f3df28c6d147fd03a111-466x1024.jpg"></p>
<p>实际上，当我看到这一幕时，我的内心是淡然的，没有了初中时的那份焦虑与慌张，但在一个人的夜晚里，还是会想起，于是写下这篇带有回忆性质的文章。</p>
<p>与她相识在初中，也许是天意，初一与初二我们基本上是分在南北两排，用一句比较通俗的话就是，“我们没有一点交集”，唯一的一次交流还是初一结束时，她作为英语老师的助手，为优秀小组和学生写奖状，为我特别地用绿色笔写（现已褪色为棕色），这就是基础。我对她那个时候的印象，只知道她并没有去“希望之星”研学，另外就是她的成绩很好且很稳定，一直都是第一名。</p>
<p>不过上了初二，我的成绩也在一点点进步，所以意外的被排位排到了同一排，之后我们的交流便开始了。有一个人不能不提，就是我那个时候的同桌，现在情况如图：</p>
<p><img data-src="/./../images/1691271622-f3bfd6b39f889d1422e6c7758e904ba-466x1024.jpg"></p>
<p>（估计两个人是商量好的）</p>
<p>她们俩是要好的朋友，我因此也得以与她搭话。</p>
<p>我们互相加了联系方式，有一天她在女生那边造我的谣，于是命运的齿轮开始乱转，我第一次与她聊天聊到12点（还是1点，反正很晚就对了），之后便一发不可收拾，最晚达到了凌晨3点，她第二天11点才起，我甚至一度以为她出什么事了（乐）。</p>
<p>琐碎的事情不必闲谈，之后她删了我两三次，第一次是为了录视频，证明要是有人这么（反正语气就是不客气）跟她说话，她就删掉那人，第二次与第三次记不太清，有一次是因为AA制没完全AA，回家后我的母亲数落我，我反问她，她跟她的好朋友商量了1h把我删掉，第二天她就发烧了（乐）。反正每逢寒暑假必删我，到开学前一两周才加回来。</p>
<p>我们在校外以一起玩剧本杀为主，第一次一起出去还是去我们的母校（小学），顺带一提，她是唯一一个我跟她出去玩我母亲不会怀疑的女生，虽然一起聊天时我的母亲还是会阴阳我罢了。</p>
<p>我相信“日久生情”，可是她对我没有意思，所以我们的友谊就维持在朋友（或者高一点，闺蜜）上。她找过两次男友，其一是因为冲动，而且还是在我与她处于僵持阶段时谈的，因此我没有许多详细的信息（也不能说），其二现在是我同班同学，我早已劝过她趁早放弃，他这人性格古怪，而且不想谈恋爱，但她属于那种决定好了做什么事无论怎样也要完成的人，结果最后被伤得很惨，我也有幸喜提红色感叹号。很多人不理解，为啥她要把我删掉，实际上我也不是很理解，也许她认为我过于懦弱才造成了这种局面，反正错就在我没错吧？</p>
<p>上了高中，我们在不同的学校，所以我们的往来也就变少了。要不就是互发微信询问各校的情况，要不就是放假出去初中同学聚餐。她找上了男朋友，我也不适合与她有过多的来往。</p>
<p>之后她分手了，这个地方可以详细地写一下（毕竟是最后一次删的原因）</p>
<p>首先我需要先纠正一点，什么是“嗑”啊? 有什么值得嗑的啊? 开玩笑的。嗑很正常，在一中他们也说我有个有好听名字的同学很好 (原话) ，这个名字他们一是从其他实验创新的同学嘴里听说的，还有就是从我之前在教室登录微信他们看到了那个名字 (老师让我登着上网课) ，我们班其实有很多认识她的，他们认识但是并非我告诉他们的 (这里作个铺垫)</p>
<p>她分手的事想必你已经知道了，但是我还是想再说一遍，不要嫌罗嗦，因为这个情节是综合了三个渠道的消息 (目击者、徐的朋友、她给我发的消息) ，真实性确实有待考察，但是相信你可以总结出事情背后的真相</p>
<p>故事发生在高考+中考假结束的一天后，我还拿着手机 (一般是要上交的，包括现在这个发消息的手机还是台 2012 年的老古董，我的主力机在家里放着不让带)，晚上放学回家她给我发消息说她分手了，那我肯定着急，我问她怎么回事，她说她过生日他没给她送礼物，然后分，但是今天有复合的迹象，她跟他面部交流，但是他的组员投来鄙夷的目光(原话并不是这样，但是目光反正就是在嘲讽就是了) ，然后她就很生气，她才知道他把分手的事跟他的组员说了。晚上他的朋友就让她滚，她就把他拉到一个角落给他跪下了，这时有个目击者 (女生，正是上文中提到的)看到了。第二天我问她怎么样了，她说抱了还亲了，但是不知道是什么关系，之后因为她的农历生日到了嘛，我去实验给她放下了礼物还有一封小作文 (就是关于分手的事情啦) ，之后手机没有了，她也没给我发消息。端午假期，她给我发消息，能不能有点距离感，我以为我写的信刺激到她了 (语言过于犀利 (自评) ) 她说不是，说从徐那知道，我在一中传播他们分手的消息，徐说问了个一中的，我想起，我在一中有个性格相似的女同学，我跟她讲了这个事，但是我并没有说提到人名和学校，她的前位是个旗城的女同学据我调查跟徐相对一中的其他同学关系密切，她听出了内容，冲我笑 (不怀好意) ，我跟她说谁也别说，但是据我推测她还是说了，我跟都道歉她就是不理我，于是想着看看，果真让我猜对了 (删了)。</p>
<p>以上内容是我端午之前了解到的，端午后，我的同学 (上文中提到的目击者的好朋友) 跟我说她分手了，在学校里整天哭，这是端午之前的事这是一点，今晚上跟我同桌提起徐，他说 (以下皆为原话，我不可能改动) ，徐的朋友，觉得徐学习好，家里有钱，但是她，长得胖 (我不认可)觉得她配不上徐，劝徐分手。另，上面的目击者还说，徐是真想分了，但是她不想，或是说没看出来，她在她们班女生的内心地位很差，好像说了个因为哭还是怎样，反正人缘不是很好。</p>
<p>故事讲到这里就没了，其实在夜深人静之时仔细想想，我没有对不起她的地方，她删了我很多次，因为不同原因，这些都是过眼云烟，同样的，她有她实验的圈子，我有我一中的圈子，本身已经交集不大。我还是觉得就这样散场还是不是很好，不是一个完美的结局，可是天下没有不散的筵席。之前合格考试碰见了她，也只是当作了陌生人刻意回避她。也许现在真如她第二次删我时所说我们不是一路人罢了。</p>
<p>就这样，我们如图一一样可以说彻底分道扬镳了，思来想去，我觉得我没有将她加回来的必要。首先我们在各自的高中，过着各自的生活，有着各自的小圈子，过多的交流产生的误解容易不好及时解开。自我反省，我与她来往的这三年，我真的没有亏欠过她什么，我认为我做的一些事虽然不对不合适，但我相信我可以通过语言交流化解开。她比较擅长随心所欲，而我比较适合内向保守按规矩办事。我将她看作了我16年人生里的最重要的朋友，可是她也许没这么想。我认为她比较倾向于是一个利己主义者，我的出现可以说能满足她的需要，于是她接纳我。既然我影响到了她，对她产生了不好的影响，那错确实在我，她删我也是情有可原。就这样结束我确实于心不甘，但这也是命运所安排。</p>
<p>最后在此祝她幸福，这是我想说的，也是我真心诚意所期待的。</p>
]]></content>
      <categories>
        <category>情感经历</category>
      </categories>
      <tags>
        <tag>回忆</tag>
        <tag>思考</tag>
        <tag>情感经历</tag>
        <tag>朋友</tag>
        <tag>过去</tag>
      </tags>
  </entry>
  <entry>
    <title>【论文阅读 | TCSVT 2024 | MMI-Det：探索可见光与红外目标检测的多模态融合】</title>
    <url>/2025/10/14/%E3%80%90%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%20%20TCSVT%202024%20%20MMI-Det%EF%BC%9A%E6%8E%A2%E7%B4%A2%E5%8F%AF%E8%A7%81%E5%85%89%E4%B8%8E%E7%BA%A2%E5%A4%96%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E7%9A%84%E5%A4%9A%E6%A8%A1%E6%80%81%E8%9E%8D%E5%90%88%E3%80%91/</url>
    <content><![CDATA[<p>[TOC]</p>
<p><img data-src="/./../images/image-20251014174923042-1760435411753-1.png" alt="image-20251014174923042"></p>
<p>题目：MMI-Det: Exploring Multi-Modal Integration for<br>Visible and Infrared Object Detection</p>
<p>期刊：TCSVT(IEEE Transactions on Circuits and Systems for Video Technology)</p>
<p>论文链接：<a href="https://ieeexplore.ieee.org/document/10570450">Link</a></p>
<p>关键词：Multi-spectral object detection(多光谱目标检测), multi-modal integration(多模态融合), image fusion(图像融合), Fourier transformation(傅里叶变换).</p>
<p>代码：开源</p>
<p>年份：2024</p>
<h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>可见光-红外(VIS-IR)目标检测是一项具有挑战性的目标检测任务，其通过融合<strong>可见光(RGB)图像数据</strong>和<strong>红外(IR)图像数据</strong>，以提供场景中目标的类别和位置信息。因此，该任务的核心在于融合可见光和红外模态中的<strong>互补</strong>信息，从而为检测提供更优的目标检测结果。现有方法主要面临对可见光-红外模态信息的感知与融合能力不足，以及难以平衡融合与检测任务优化方向的问题。为解决这些问题，我们提出了<strong>MMI-Det</strong>，一种用于可见光-红外目标检测的多模态融合方法。该方法能够实现可见光-红外模态中互补信息的良好融合，并输出准确且鲁棒的目标信息。具体而言，为提升模型在可见光-红外图像层面的环境感知能力，我们设计了<strong>轮廓增强模块(Contour Enhancement Module)</strong>。此外，为从可见光和红外模态中提取互补信息，我们设计了<strong>融合聚焦模块(Fusion Focus Module)</strong>，该模块能够提取可见光和红外模态的不同频率谱特征，并聚焦于不同空间位置的目标关键信息。同时，我们设计了<strong>对比度桥接模块(Contrast Bridge Module)</strong>，以提升在可见光-红外场景中提取模态不变特征的能力。最后，为确保模型能够平衡图像融合与目标检测的优化方向，我们设计了<strong>信息引导模块(Info Guided Module)</strong>，以提升模型训练优化的有效性。我们在公开的FLIR、M3FD、LLVIP、TNO和MSRS数据集上进行了大量实验，与现有方法相比，我们的方法凭借强大的多模态信息感知能力取得了更优的性能。</p>
<h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><h3 id="先前方法"><a href="#先前方法" class="headerlink" title="先前方法"></a>先前方法</h3><p>目标检测是计算机视觉领域的一个基本问题。为了确认和定位图像中某些特定类别的实例，目标检测已经被研究了许多年。然而，现有方法主要聚焦于可见光(RGB)下的目标检测，因此这便限制了目标检测的检测范围——难以在夜间准确识别目标。为了实现全天候、动态环境下的目标检测，满足多领域的需求，可见光-红外目标检测因具有更广泛的应用前景而被提出，并日益受到该领域研究者的关注。可见光-红外目标检测需要融合两种模态下目标的互补信息，以感知场景中目标的位置和类别。然而，由于两种模态之间存在较大的异质性差异，如何感知并提取模态间的关键信息成为一个具有挑战性的问题。</p>
<p>可见光和红外线这两种模态的图像之间存在显著差异。为了补充这些差异显著的可见光-红外图像的信息，目前一些可见光-红外(VIS-IR)目标检测方法采用两阶段方法设计模型，此方法可概括为“先融合，后检测”。这些方法通过设计多种图像融合策略生成包含更丰富信息的融合图像，并基于这些融合图像，利用单模态目标检测方法对融合图像中的目标进行检测。然而当前的实现方法将融合与检测划分为两个独立的优化任务，难以保持两个任务的优化方向一致。因此这些方法可能导致更差的检测结果。因此，如何使模型能够充分提取两种模态的互补信息，为后续检测任务提供更丰富的目标特征信息，已成为一个重要问题。</p>
<p>为了解决可见光-红外目标检测中的上述问题，我们尝试设计一种利用多级模态融合的新架构。在本文中，我们提出一种针对可见光和红外目标的多模态融合方法：<strong>MMI-Det</strong></p>
<h3 id="主要贡献"><a href="#主要贡献" class="headerlink" title="主要贡献"></a>主要贡献</h3><ul>
<li><p>我们提出了<strong>MMI-Det</strong>，一种用于VIS-IR目标检测的新框架。该框架提供了一种联合优化融合与检测任务的解决方案，从而实现了准确且鲁棒的多光谱目标检测结果。在公开数据集(FLIR、M3FD、LLVIP、TNO、MSRS)上进行的大量实验证明了我们的<strong>MMI-Det</strong> 的有效性，其性能优于先前的方法；</p>
</li>
<li><p>我们提出<strong>轮廓增强模块(Contour Enhancement Module)</strong>，该模块有助于方法感知复杂动态场景中物体的轮廓，并提升目标检测性能；</p>
</li>
<li><p>我们设计了<strong>融合聚焦模块(Fusion Focus Module)</strong>，以使得该方法能够在不同空间区域下感知并融合可见光-红外模态的目标细节信息；</p>
</li>
<li><p><strong>对比度桥接模块(Contrast Bridge Module)</strong> 旨在利用对比学习的思想，将可见光-红外数据分离为正负样本对。其能够引导模型提升在可见光-红外场景中感知模态不变特征的能力；</p>
</li>
<li><p><strong>信息引导模块(Info Guided Module)</strong> 旨在引导我们的模型在训练过程中更有效地融合两种模态的特征信息。</p>
</li>
</ul>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><h3 id="先前方法-1"><a href="#先前方法-1" class="headerlink" title="先前方法"></a>先前方法</h3><h4 id="A-图像融合"><a href="#A-图像融合" class="headerlink" title="A. 图像融合"></a>A. 图像融合</h4><p>目前已经有许多较为成熟的图像融合方法：</p>
<ul>
<li><strong>CCAFusion</strong>由Li 等人提出，设计了一种基于坐标注意力的跨模态图像融合策略，该策略由特征感知融合模块和特征增强融合模块组成；</li>
<li><strong>UNFusion</strong>由Wang 等人提出，他们引入了一个统一的多尺度密集连接融合网络，使用一个多尺度编码-解码架构来提取和重建多尺度深度特征；</li>
<li><strong>Laplacian pyramid fusion network</strong>由Yao 等人提出利用层级指导来使用像素级的可见性保留的Laplacian 阳光来生成层级可见性地图；</li>
<li><strong>DATFuse</strong>由Tang 等人提出，它引入了一个用于重要特征提取的双注意力残余模块来实现图像融合；</li>
<li><strong>Unsupervised Image Fusion Network</strong>由Xu 等人提出，该网络可通过特征提取和信息测量源图像的重要性；</li>
<li><strong>Deep Network Cascade Feature Learning Module</strong>由Liu 等人提出。他们的方法采用了一种从粗到细的深度架构来从多模态图像中学习多尺度特征；</li>
<li>Tang 等人受生物视觉系统的启发，深入研究了早期视觉信息处理的建模机制建模。他们的可见光-红外图像融合方法利用了两种模式的优势。他们随后提出了一种光感知渐进式图像融合网络，称为 PIAF融合网络。</li>
</ul>
<p>然而，尽管上述方法探索了可见光红外图像融合的各种潜力，但这些方法将融合和检测分为两个独立的优化任务，很难保持两个任务的优化方向一致。<br>这意味着图像融合的最佳区域通常不是物体检测的最佳区域，从而导致图像融合效果不理想。</p>
<h4 id="B-多光谱目标检测"><a href="#B-多光谱目标检测" class="headerlink" title="B. 多光谱目标检测"></a>B. 多光谱目标检测</h4><p>多光谱目标检测方法采用<strong>两阶段训练</strong>方式，将<strong>融合</strong>与<strong>检测</strong>看作两个独立的任务分别进行优化，这可能导致两者之间的优化目标不一致。研究人员，意识到这一局限性，因此开发了新的多光谱目标检测方法，将图像融合与检测整合到一个统一的框架中。</p>
<ul>
<li><p>Wagner等人提出了一种<strong>融合-精化(fuse-and-refine)方法</strong>，该方法采用循环图像融合方式，通过迭代精化每个光谱特征以提升检测性能；</p>
</li>
<li><p>Fang等人则采用了不同的方法，将<strong>Transformer</strong>与<strong>YOLO检测框架</strong>相结合，设计了一种适用于可见光-红外(VIS-IR)检测任务的多光谱检测方法；</p>
</li>
<li><p>Yun等人提出了<strong>跨模态与模态内加权交叉融合网络(Infusion-Net)</strong>，该网络通过利用可见光-红外图像对的优势来增强目标检测性能；</p>
</li>
<li><p>Zhou等人提出了一种<strong>可见光-红外特征融合网络</strong>，该网络通过双边逆融合提取目标边界，并通过多级融合捕获互补信息。</p>
</li>
</ul>
<p>然而，尽管这些方法将融合与检测任务整合到单一建模框架中，但它们在探索面向检测的可见光-红外模态特征融合方面仍存在不足，且在自主且全面地融合多光谱信息方面尚未得到充分研究。因此，如何使模型充分提取两种模态的互补信息，为后续检测任务提供更丰富的目标特征信息，成为一个重要问题。</p>
<h4 id="C-基于频率的特征提取方法"><a href="#C-基于频率的特征提取方法" class="headerlink" title="C. 基于频率的特征提取方法"></a>C. 基于频率的特征提取方法</h4><p>频域分析作为图像信号处理领域的基石，在图像分类、纹理提取、图像融合以及超分辨率等众多领域发挥了重要作用。</p>
<ul>
<li><p>为解决人脸活体检测问题，Stuchi等人提出了一种基于<strong>傅里叶分析</strong>的特征提取方法。</p>
</li>
<li><p>Xiao等人设计的<strong>FAFusion</strong>通过提取可见光-红外图像对中的高频信息来感知物体边缘和纹理细节，从而增强融合图像的细节。</p>
</li>
<li><p>此外，针对图像超分辨率问题，Li等人设计了一种基于频域变换的网络，该网络利用卷积定理将空间域的卷积运算转化为频域的乘积运算。</p>
</li>
<li><p>Fang等人提出了一种基于高频Transformer的网络，用于磁共振图像的超分辨率重建。</p>
</li>
</ul>
<p>尽管上述方法已从不同角度研究了多种基于频率的特征提取方法，但如何在可见光-红外场景中利用频域分析以提升模型在复杂场景中感知物体位置和轮廓的能力仍有待进一步探索和研究。</p>
<h4 id="不足"><a href="#不足" class="headerlink" title="不足"></a>不足</h4><p>总而言之，现有方法存在的不足主要聚焦于以下方面：</p>
<ol>
<li><strong>模态信息感知与融合能力不足</strong>：可见光（380-780nm）侧重纹理色彩，细节偏多，红外（760nm-1mm）侧重温度差异，注重目标，二者异质性强，现有方法难以充分提取互补特征，甚至融合后会削弱目标判别性。</li>
<li><strong>融合与检测任务优化方向失衡</strong>：传统 “先融合后检测” 的两阶段方法，将融合和检测视为独立任务，优化目标不一致；“单阶段联合模型” 虽整合两者，但未深入探索 “面向检测的模态融合”，对于多光谱信息的利用不够充分。</li>
</ol>
<h3 id="本文所提出的方法"><a href="#本文所提出的方法" class="headerlink" title="本文所提出的方法"></a>本文所提出的方法</h3><h4 id="A-整体流程"><a href="#A-整体流程" class="headerlink" title="A. 整体流程"></a>A. 整体流程</h4><p>输入可见光（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">X_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）和红外图像（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>I</mi></msub></mrow><annotation encoding="application/x-tex">X_I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>）→ 经轮廓增强模块（CEM）提取目标轮廓 → 经 FOC 模块降维 + Conv&#x2F;C3 模块增强特征 → 对比桥接模块（CBM）学习模态不变特征信息 → 融合聚焦模块（FFM）融合多模态特征 → 多次循环后经 Detect Head 输出结果 → 信息引导模块（IGM）平衡图像融合与目标检测优化方向 → 检测头输出目标类别与位置</p>
<p><img data-src="/./../images/image-20251019205013680.png" alt="image-20251019205013680"></p>
<h4 id="B-总体结构"><a href="#B-总体结构" class="headerlink" title="B. 总体结构"></a>B. 总体结构</h4><ul>
<li>基于双流YOLOv5框架</li>
</ul>
<h5 id="轮廓增强模块-Contour-Enhancement-Module（CEM）"><a href="#轮廓增强模块-Contour-Enhancement-Module（CEM）" class="headerlink" title="轮廓增强模块 Contour Enhancement Module（CEM）"></a>轮廓增强模块 Contour Enhancement Module（CEM）</h5><p>在输入模态上用 <strong>2D 卷积</strong>和 <strong>LeakyReLU</strong> 激活函数初步提取并增加特征通道，将传统的<strong>固定轮廓增强算子</strong>改为<strong>强度自适应算子（IAO）</strong>，通过<strong>自适应参数 a</strong> 提升模型对复杂<strong>动态场景中物体轮廓感知能力</strong>，多个 IAO 在不同深度组合并利用残差连接优化，帮助模型浅层整合模态信息。</p>
<p><img data-src="/./../images/image-20251019205357623.png" alt="image-20251019205357623"></p>
<p>轮廓增强模块。(a) 自适应经典算子变换。该模块的策略：先将经典算子与输入图像进行卷积，再通过自适应学习调整结果。(b) 强度自适应算子，其中8个算子形成一个自适应二维卷积，基于当前环境自适应地增强模型对目标的轮感知能力，直接用强度自适应算子与输入图像卷积，然后将不同深度的特征图经残差连接融合，形成多尺度特征表示，以实现精确的可见光-红外目标检测。</p>
<p>对于输入图像，令V和I分别表示可见光图像和红外图像。则可见光图像的输入可表示为</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>X</mi><mi>V</mi></msub><mo>=</mo><mo stretchy="false">{</mo><msub><mi>x</mi><mi>V</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>V</mi></msub><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>C</mi><mo>×</mo><mi>H</mi><mo>×</mo><mi>W</mi></mrow></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">
X_V = \{x_V | x_V \in \mathbb{R}^{C \times H \times W}\}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></span>
<p>红外图像的输入可表示为</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>X</mi><mi>I</mi></msub><mo>=</mo><mo stretchy="false">{</mo><msub><mi>x</mi><mi>I</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>I</mi></msub><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>C</mi><mo>×</mo><mi>H</mi><mo>×</mo><mi>W</mi></mrow></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">
X_I = \{x_I | x_I \in \mathbb{R}^{C \times H \times W}\}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></span>
<p>其中C、H和W分别对应图像的通道、高度和宽度。</p>
<p>在一个批次的训练过程中，共有B幅图像，其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>x</mi><mi>i</mi><mi>V</mi></msubsup></mrow><annotation encoding="application/x-tex">x_i^V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1em;vertical-align:-0.2587em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4413em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2587em;"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>x</mi><mi>i</mi><mi>I</mi></msubsup></mrow><annotation encoding="application/x-tex">x_i^I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1em;vertical-align:-0.2587em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4413em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2587em;"><span></span></span></span></span></span></span></span></span></span>的数量相同，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>∈</mo><mo stretchy="false">{</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>B</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">i \in \{1, 2, \ldots, B/2\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6986em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord">/2</span><span class="mclose">}</span></span></span></span>。输入的可见光-红外图像将首先通过轮廓增强模块(Contour Enhancement Module)，如下式所示：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mi>F</mi><mtext>V</mtext><mrow><mi>C</mi><mi>E</mi><mi>M</mi></mrow></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>C</mi><mi>E</mi><mi>M</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mtext>V</mtext></msub><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mi>F</mi><mtext>I</mtext><mrow><mi>C</mi><mi>E</mi><mi>M</mi></mrow></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>C</mi><mi>E</mi><mi>M</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mtext>I</mtext></msub><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{split}
F_{\text{V}}^{CEM} &amp;= CEM(X_{\text{V}}), \\
F_{\text{I}}^{CEM} &amp;= CEM(X_{\text{I}}).
\end{split}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.1027em;vertical-align:-1.3013em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8013em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">CEM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3587em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">CEM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3013em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8013em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">CEM</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span></span></span><span style="top:-2.3587em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">CEM</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3013em;"><span></span></span></span></span></span></span></span></span></span></span></span>
<p>在此，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mtext>V</mtext><mrow><mi>C</mi><mi>E</mi><mi>M</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">F_{\text{V}}^{CEM}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1167em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4247em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">CEM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mtext>I</mtext><mrow><mi>C</mi><mi>E</mi><mi>M</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">F_{\text{I}}^{CEM}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1167em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4247em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">CEM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span>表示经过CEM处理后的可见光-红外特征。接下来，为了使特征在不丢失过多信息的前提下能够在计算上进行降维，我们引入了FOC，该方法使用切片操作，将高分辨率特征图分割为多个低分辨率特征图。FOC的这种策略性分割以紧凑形式保留了关键空间信息，在促进更快处理的同时，保持了准确目标检测所需的特征完整性。这些FOC模块的输出特征被输入至Conv和C3模块。C3采用多尺度特征融合方法和跨通道信息传递机制来提升特征表示能力。通过将FOC与C3有效结合，网络同时受益于降维和特征丰富性，从而提升了检测性能。需要注意的是，FOC和C3均已在YOLOv5中可用。该过程如下所示：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mi>F</mi><mtext>V</mtext><mrow><mi>C</mi><mn>3</mn></mrow></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>C</mi><mn>3</mn><mo stretchy="false">(</mo><mtext>Conv</mtext><mo stretchy="false">(</mo><mtext>FOC</mtext><mo stretchy="false">(</mo><msubsup><mi>F</mi><mtext>V</mtext><mrow><mi>C</mi><mi>E</mi><mi>M</mi></mrow></msubsup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mi>F</mi><mtext>I</mtext><mrow><mi>C</mi><mn>3</mn></mrow></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>C</mi><mn>3</mn><mo stretchy="false">(</mo><mtext>Conv</mtext><mo stretchy="false">(</mo><mtext>FOC</mtext><mo stretchy="false">(</mo><msubsup><mi>F</mi><mtext>I</mtext><mrow><mi>C</mi><mi>E</mi><mi>M</mi></mrow></msubsup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{split}
F_{\text{V}}^{C3} &amp;= C3(\text{Conv}(\text{FOC}(F_{\text{V}}^{CEM}))), \\
F_{\text{I}}^{C3} &amp;= C3(\text{Conv}(\text{FOC}(F_{\text{I}}^{CEM}))).
\end{split}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.1027em;vertical-align:-1.3013em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8013em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3587em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3013em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8013em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord">3</span><span class="mopen">(</span><span class="mord text"><span class="mord">Conv</span></span><span class="mopen">(</span><span class="mord text"><span class="mord">FOC</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">CEM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)))</span><span class="mpunct">,</span></span></span><span style="top:-2.3587em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord">3</span><span class="mopen">(</span><span class="mord text"><span class="mord">Conv</span></span><span class="mopen">(</span><span class="mord text"><span class="mord">FOC</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">CEM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)))</span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3013em;"><span></span></span></span></span></span></span></span></span></span></span></span>

<p>公式2中的Conv模块和C3模块能够提升模型的特征提取能力。为了引导模型进行有效的训练优化，我们借鉴对比学习的思想设计了对比桥接模块(Contrastive Bridge Module, CBM)，并设计了损失函数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>C</mi><mi>B</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathcal{L}_{CB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">CB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>C</mi><mi>B</mi></mrow></msub><mo>=</mo><mi>C</mi><mi>B</mi><mi>M</mi><mo stretchy="false">(</mo><msubsup><mi>F</mi><mtext>V</mtext><mrow><mi>C</mi><mn>3</mn></mrow></msubsup><mo separator="true">,</mo><msubsup><mi>F</mi><mtext>I</mtext><mrow><mi>C</mi><mn>3</mn></mrow></msubsup><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">
\mathcal{L}_{CB} = CBM(F_{\text{V}}^{C3}, F_{\text{I}}^{C3}).
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">CB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">CBM</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span>
<h5 id="融合聚焦模块-Fusion-Focus-Module（FFM）"><a href="#融合聚焦模块-Fusion-Focus-Module（FFM）" class="headerlink" title="融合聚焦模块 Fusion Focus Module（FFM）"></a>融合聚焦模块 Fusion Focus Module（FFM）</h5><p>该模块结合<strong>频谱提取</strong>、<strong>模式判别</strong>和 <strong>Transformer</strong>。</p>
<ul>
<li>频谱提取模块依<strong>傅里叶变换</strong>提取高低频特征分离细节与背景信息；</li>
<li>模式判别模块融合多种特征并通过损失函数促进特征分化与空间注意力生成；</li>
<li>Transformer 自注意力机制融合互补信息，增强模型对不同模态特征提取融合能力。</li>
</ul>
<p><img data-src="/./../images/image-20251020075327237.png" alt="image-20251020075327237"></p>
<p>上图展示了融合聚焦模块。FFM 从频谱提取模块开始、提取特征的高频信息以获取物体的细节信息。其在频谱提取模块先将图像从空间域转换到频域，再提取频域中的高频信息，然后通过逆快速傅里叶变换（IFFT）将频域信息转换回空间域。频谱提取模块输出的特征进入此模块，模块内有损失函数用于优化特征的判别能力，还有多个线性层和归一化操作，用于进一步处理特征，通过这些操作增强特征的空间感知能力，使得目标检测准确进行。在特征融合与输出部分，经过模式判别模块处理的特征进入 Transformer 块，在其中可见光和红外特征被合并，最终分别输出可见光和红外特征经过 FFM 处理后的结果。</p>
<p>在这个过程中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>C</mi><mi>B</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathcal{L}_{CB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">CB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>可用作损失函数以引导模型学习模态不变信息。经过上述模块后，可见光特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mtext>V</mtext><mrow><mi>C</mi><mn>3</mn></mrow></msubsup></mrow><annotation encoding="application/x-tex">F_{\text{V}}^{C3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1167em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4247em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span>与红外特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mtext>I</mtext><mrow><mi>C</mi><mn>3</mn></mrow></msubsup></mrow><annotation encoding="application/x-tex">F_{\text{I}}^{C3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1167em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4247em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span>被输入至融合聚焦模块(Fusion Focus Module, FFM)。MMI-Det设计了多个FFM用于不同深度的特征融合。具体而言，FFM的结构如下式所示：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>F</mi><mtext>V</mtext><mrow><mi>F</mi><mi>F</mi><mi>M</mi></mrow></msubsup><mo separator="true">,</mo><msubsup><mi>F</mi><mtext>I</mtext><mrow><mi>F</mi><mi>F</mi><mi>M</mi></mrow></msubsup><mo>=</mo><mi>F</mi><mi>F</mi><mi>M</mi><mo stretchy="false">(</mo><msubsup><mi>F</mi><mtext>V</mtext><mrow><mi>C</mi><mn>3</mn></mrow></msubsup><mo separator="true">,</mo><msubsup><mi>F</mi><mtext>I</mtext><mrow><mi>C</mi><mn>3</mn></mrow></msubsup><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">
F_{\text{V}}^{FFM}, F_{\text{I}}^{FFM} = FFM(F_{\text{V}}^{C3}, F_{\text{I}}^{C3}).
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1383em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">FFM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">FFM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">FFM</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span>

<p>FFM 充分融合两种模态特征，并将融合后的特征反馈至两个分支。它们与在各自的分支上的特征相加，并一同被发送至下一个特征提取-融合阶段：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mi>F</mi><mtext>V</mtext><mrow><mi>a</mi><mi>d</mi><mi>d</mi></mrow></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mi>F</mi><mtext>V</mtext><mrow><mi>F</mi><mi>F</mi><mi>M</mi></mrow></msubsup><mo>+</mo><msubsup><mi>F</mi><mtext>V</mtext><mrow><mi>C</mi><mn>3</mn></mrow></msubsup><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mi>F</mi><mtext>I</mtext><mrow><mi>a</mi><mi>d</mi><mi>d</mi></mrow></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mi>F</mi><mtext>I</mtext><mrow><mi>F</mi><mi>F</mi><mi>M</mi></mrow></msubsup><mo>+</mo><msubsup><mi>F</mi><mtext>I</mtext><mrow><mi>C</mi><mn>3</mn></mrow></msubsup><mo separator="true">,</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mi>F</mi><mtext>V-I</mtext><mrow><mi>a</mi><mi>d</mi><msub><mi>d</mi><mn>1</mn></msub></mrow></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msubsup><mi>F</mi><mtext>V</mtext><mrow><mi>a</mi><mi>d</mi><mi>d</mi></mrow></msubsup><mo>+</mo><msubsup><mi>F</mi><mtext>I</mtext><mrow><mi>a</mi><mi>d</mi><mi>d</mi></mrow></msubsup><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{align*}
F_{\text{V}}^{add} &amp;= F_{\text{V}}^{FFM} + F_{\text{V}}^{C3}, \\
F_{\text{I}}^{add} &amp;= F_{\text{I}}^{FFM} + F_{\text{I}}^{C3}, \\
F_{\text{V-I}}^{add_1} &amp;= F_{\text{V}}^{add} + F_{\text{I}}^{add}.
\end{align*}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.7092em;vertical-align:-2.1046em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6046em;"><span style="top:-4.7055em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">dd</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.1464em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">dd</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.5554em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.931em;"><span style="top:-2.4065em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V-I</span></span></span></span></span><span style="top:-3.1449em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1046em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6046em;"><span style="top:-4.7055em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">FFM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-3.1464em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">FFM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span><span style="top:-1.5554em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">dd</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">dd</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1046em;"><span></span></span></span></span></span></span></span></span></span></span></span>

<p>在上式中，相加特征<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mtext>V</mtext><mrow><mi>a</mi><mi>d</mi><mi>d</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">F_{\text{V}}^{add}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1244em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.4247em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V</span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">dd</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mtext>I</mtext><mrow><mi>a</mi><mi>d</mi><mi>d</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">F_{\text{I}}^{add}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1244em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.4247em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">I</span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">dd</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span>被传送到后续阶段，我们设计了共<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>组此类阶段，以从不同深度充分提取两种模态中的目标信息。当前阶段的融合特征将被保存为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>F</mi><mtext>V-I</mtext><mrow><mi>a</mi><mi>d</mi><msub><mi>d</mi><mn>1</mn></msub></mrow></msubsup></mrow><annotation encoding="application/x-tex">F_{\text{V-I}}^{add_1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2245em;vertical-align:-0.2935em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.931em;"><span style="top:-2.4065em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V-I</span></span></span></span></span><span style="top:-3.1449em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span></span>。最终结果通过检测头(Detect Head)输出，如下图所示。相关公式如下：</p>
<p><img data-src="/./../images/image-20251014201352915.png" alt="image-20251014201352915"></p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>d</mi><mo>=</mo><mi>D</mi><mi>e</mi><mi>t</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>H</mi><mi>e</mi><mi>a</mi><mi>d</mi><mo stretchy="false">(</mo><msubsup><mi>F</mi><mtext>V-I</mtext><mrow><mi>a</mi><mi>d</mi><msub><mi>d</mi><mn>1</mn></msub></mrow></msubsup><mo separator="true">,</mo><msubsup><mi>F</mi><mtext>V-I</mtext><mrow><mi>a</mi><mi>d</mi><msub><mi>d</mi><mn>2</mn></msub></mrow></msubsup><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msubsup><mi>F</mi><mtext>V-I</mtext><mrow><mi>a</mi><mi>d</mi><msub><mi>d</mi><mi>i</mi></msub></mrow></msubsup><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">
Pred = DetectHead(F_{\text{V-I}}^{add_1}, F_{\text{V-I}}^{add_2}, \ldots, F_{\text{V-I}}^{add_i}).
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">re</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2245em;vertical-align:-0.2935em;"></span><span class="mord mathnormal">De</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">t</span><span class="mord mathnormal">He</span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.931em;"><span style="top:-2.4065em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V-I</span></span></span></span></span><span style="top:-3.1449em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.931em;"><span style="top:-2.4065em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V-I</span></span></span></span></span><span style="top:-3.1449em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.931em;"><span style="top:-2.4065em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">V-I</span></span></span></span></span><span style="top:-3.1449em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span>

<h5 id="对比度桥接模块-Contrast-Bridge-Module（CBM）"><a href="#对比度桥接模块-Contrast-Bridge-Module（CBM）" class="headerlink" title="对比度桥接模块 Contrast Bridge Module（CBM）"></a>对比度桥接模块 Contrast Bridge Module（CBM）</h5><p>一句话概括便是——学习模态不变特征，缩小模态差距</p>
<p>基于对比学习思想，构建正负样本对：将同组 VIS-IR 特征设为正样本（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>a</mi><mi>i</mi><mi>r</mi><msup><mi>s</mi><mo>+</mo></msup></mrow><annotation encoding="application/x-tex">Pairs^+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7713em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">ai</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span></span></span></span>），不同组设为负样本（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>a</mi><mi>i</mi><mi>r</mi><msup><mi>s</mi><mo>−</mo></msup></mrow><annotation encoding="application/x-tex">Pairs^-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7713em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">ai</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span></span></span></span>），用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>C</mi><mi>B</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{CB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">CB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>损失优化：让正样本特征距离更近、负样本距离更远，引导模型自主发现模态共性（如目标边界梯度）。即计算样本对距离并构建对比损失函数，引导模型自主发现模态不变信息，提升对复杂场景适应能力。</p>
<h6 id="对比学习机制的工作原理"><a href="#对比学习机制的工作原理" class="headerlink" title="对比学习机制的工作原理"></a>对比学习机制的工作原理</h6><p>对比学习机制就像是让机器学会“找不同”和“找相同”。</p>
<p>找不同（负样本对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>a</mi><mi>i</mi><mi>r</mi><msup><mi>s</mi><mo>−</mo></msup></mrow><annotation encoding="application/x-tex">Pairs^-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7713em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">ai</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span></span></span></span>）</p>
<p><strong>1数据准备</strong></p>
<p>我们有可见光图像和红外图像（呈现热量分布的图像）。</p>
<p>从这两种图像里找出不同的东西组成一对，这就是负样本对。比如可见光图像里是个人，红外图像里是辆车，这就是一对负样本。</p>
<p><strong>2学习过程</strong></p>
<p>机器要学习把这对负样本中的特征尽量分得开。想象一下，机器要把可见光里的人和红外里的车看成完全不一样的东西。</p>
<p>这样，机器在处理新的图像时，就能很容易区分出不同的物体了。</p>
<p>找相同（正样本对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>a</mi><mi>i</mi><mi>r</mi><msup><mi>s</mi><mo>+</mo></msup></mrow><annotation encoding="application/x-tex">Pairs^+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7713em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">ai</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span></span></span></span>）</p>
<p><strong>1数据准备</strong></p>
<p>还是从可见光和红外图像里找，不过这次是找相同的东西组成一对，这就是正样本对。比如可见光图像里是个人，红外图像里也是这个人，这就是一对正样本。</p>
<p><strong>2学习过程</strong></p>
<p>机器要学习把这对正样本中的特征尽量拉得近。就好像机器要知道，不管是在可见光里还是红外里，这个人都是同一个人。这样，机器在处理新的图像时，就能很容易认出同一个物体了。</p>
<p>通过不断地这样 “找不同” 和 “找相同”，机器就能更好地理解和处理可见光和红外图像，在目标检测、识别等任务中表现得更好</p>
<h5 id="信息引导模块-Info-Guided-Module（IGM）"><a href="#信息引导模块-Info-Guided-Module（IGM）" class="headerlink" title="信息引导模块 Info Guided Module（IGM）"></a>信息引导模块 Info Guided Module（IGM）</h5><p>基于 FFM 输入输出的结构相似性和信息熵设计损失函数，通过调整权重因子平衡两者贡献，引导模型有效学习复杂模态信息，平衡图像融合与目标检测优化方向。</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>I</mi><mi>G</mi></mrow></msub><mo>=</mo><mi>I</mi><mi>G</mi><mi>M</mi><mo stretchy="false">(</mo><msubsup><mi>F</mi><mi>V</mi><mrow><mi>C</mi><mn>3</mn></mrow></msubsup><mo separator="true">,</mo><msubsup><mi>F</mi><mi>I</mi><mrow><mi>C</mi><mn>3</mn></mrow></msubsup><mo separator="true">,</mo><msubsup><mi>F</mi><mi>V</mi><mrow><mi>F</mi><mi>F</mi><mi>M</mi></mrow></msubsup><mo separator="true">,</mo><msubsup><mi>F</mi><mi>I</mi><mrow><mi>F</mi><mi>F</mi><mi>M</mi></mrow></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
\mathcal{L}_{IG} = IGM(F_V^{C3}, F_I^{C3}, F_V^{FFM}, F_I^{FFM})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mord mathnormal mtight">G</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.10903em;">GM</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">FFM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">FFM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>
<p>由上式可得知， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>I</mi><mi>G</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathcal{L}_{IG}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mord mathnormal mtight">G</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是由C3模块和FFM模块决定的。简单来说，模块可以在运行时自调节自优化，这尤其体现在多模态融合和目标检测方面。</p>
<p>具体来说，IGM 函数可能会根据这些特征的结构相似性信息熵等指标来计算损失，以确保模型在融合多模态信息时能够有效地平衡图像融合与目标检测的优化方向。</p>
<h4 id="C-总损失函数"><a href="#C-总损失函数" class="headerlink" title="C.总损失函数"></a>C.总损失函数</h4><p>通过加权组合各模块损失，实现多任务联合优化：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi></mrow></msub><mo>=</mo><msub><mi>β</mi><mn>1</mn></msub><msub><mi mathvariant="script">L</mi><mrow><mi>C</mi><mi>B</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><msub><mi mathvariant="script">L</mi><mrow><mi>I</mi><mi>G</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mn>3</mn></msub><msub><mi mathvariant="script">L</mi><mrow><mi>P</mi><mi>D</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mn>4</mn></msub><msub><mi mathvariant="script">L</mi><mrow><mi>D</mi><mi>e</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">
\mathcal{L}_{total} = \beta_1\mathcal{L}_{CB} + \beta_2\mathcal{L}_{IG} + \beta_3\mathcal{L}_{PD} + \beta_4\mathcal{L}_{Det}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">CB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mord mathnormal mtight">G</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">De</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>
<p>其中：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub><mo>=</mo><msub><mi>β</mi><mn>2</mn></msub><mo>=</mo><msub><mi>β</mi><mn>3</mn></msub><mo>=</mo><mn>0.1</mn></mrow><annotation encoding="application/x-tex">\beta_1=\beta_2=\beta_3=0.1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.1</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>4</mn></msub><mo>=</mo><mn>1.0</mn></mrow><annotation encoding="application/x-tex">\beta_4=1.0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1.0</span></span></span></span>（检测损失权重最高，确保检测性能）；<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>D</mi><mi>e</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\mathcal{L}_{Det}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">De</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>为 YOLOv5 原检测损失（边界框 + 类别 + 置信度损失）。</p>
<h2 id="实验"><a href="#实验" class="headerlink" title="实验"></a>实验</h2><p>论文在 5 个公开数据集（FLIR、M3FD、LLVIP、TNO、MSRS）上做了全面实验，核心结果如下：</p>
<h3 id="1-定量实验：性能领先"><a href="#1-定量实验：性能领先" class="headerlink" title="1. 定量实验：性能领先"></a>1. 定量实验：性能领先</h3><p>对比单模态（YOLOv5&#x2F;YOLOv7）、两阶段（如 U2Fusion、SwinFusion）和单阶段（如 CFT、Infusion-Net）方法，MMI-Det 在关键指标（mAP50、mAP）上均最优，以代表性数据集为例：</p>
<ul>
<li><strong>FLIR 数据集</strong>（驾驶场景）：MMI-Det 的 mAP50 达 79.8%，超过 Infusion-Net（79.1%）和 CFT（78.7%）；</li>
<li><strong>M3FD 数据集</strong>（多场景）：MMI-Det 的 mAP50 达 76.6%，mAP 达 42.7%，且 GFLOPs（229.2）低于 SwinFusion（764.8），兼顾性能与效率；</li>
<li><strong>LLVIP 数据集</strong>（安防场景）：mAP50 达 98.9%，mAP75 达 73.5%，在低光场景下表现突出。</li>
</ul>
<h3 id="2-消融实验：模块必要性验证"><a href="#2-消融实验：模块必要性验证" class="headerlink" title="2. 消融实验：模块必要性验证"></a>2. 消融实验：模块必要性验证</h3><p>逐一添加模块到基线模型（YOLOv5 双分支），结果证明各模块均有贡献：</p>
<ul>
<li>仅加 CEM：mAP 从 40.8% 提升至 41.2%，验证轮廓增强的作用；</li>
<li>加 CEM+FFM：mAP 提升至 42.4%，体现融合模块的核心价值；</li>
<li>加全模块：mAP 达 42.7%，且参数（207.6M）和计算量（229.2 GFLOPs）可控，证明模块协同有效性。</li>
</ul>
<h3 id="3-定性实验：复杂场景鲁棒性"><a href="#3-定性实验：复杂场景鲁棒性" class="headerlink" title="3. 定性实验：复杂场景鲁棒性"></a>3. 定性实验：复杂场景鲁棒性</h3><p>在雾、烟、远距离重叠等场景中，MMI-Det 优势明显：</p>
<ul>
<li>雾天 &#x2F; 烟场景：传统方法（如 ICAFusion、UNFuse）易漏检或误检（如将远山轮廓判为行人），MMI-Det 通过 CEM 和 FFM，能准确捕捉目标轮廓；</li>
<li>远距离重叠场景：U2Fusion 等两阶段方法因优化失衡漏检，MMI-Det 通过 IGM 平衡任务，实现精准检测。</li>
</ul>
]]></content>
      <categories>
        <category>论文阅读</category>
      </categories>
      <tags>
        <tag>多光谱目标检测</tag>
        <tag>多模态融合</tag>
        <tag>图像融合</tag>
        <tag>傅里叶变换</tag>
      </tags>
  </entry>
</search>
