import{p as e,o as a,i as s,s as r,r as t}from"./translation.Dl1X2v0b.js";import{i}from"./lifecycle.Bf43JY9q.js";import{f as o,t as d,g as l,e as c,a as n,p,b as v,s as m,c as f,d as u,u as x,h as b,i as h,j as g,m as y,r as w}from"./render.BkFXjsAB.js";import{I as j,i as k,h as T}from"./Icon.K1UErfe_.js";import{e as z,i as I}from"./each.C3vnGgT8.js";import{b as S}from"./input.BEYsCBAM.js";import{I as _}from"./zh_TW.49pB-Yd8.js";import{u as E}from"./url-utils.dF1rs-l4.js";/* empty css                        */import"./branches.dFhqpPAF.js";/* empty css                        */var L=h('<p class="text-base text-50 leading-relaxed"> </p>'),P=h('<div class="flex justify-center py-10"><!></div>'),R=h('<div class="card-base p-6 block rounded-(--radius-large)"><a class="block group"><h5 class="mb-2 text-2xl font-bold tracking-tight text-90 group-hover:text-(--primary) transition-colors"><!></h5> <p class="font-normal text-75"><!></p></a></div>'),q=h('<div class="space-y-4"></div>'),A=h('<div class="card-base p-10 text-center text-50 rounded-(--radius-large)"> </div>'),B=h('<div class="card-base p-10 text-center text-50 rounded-(--radius-large)"> </div>'),C=h('<div class="card-base px-6 py-6 md:px-9 md:py-6 mb-4 rounded-(--radius-large)"><div class="mb-4"><div class="flex items-center gap-3 mb-3"><div class="h-8 w-8 rounded-lg bg-(--primary) flex items-center justify-center text-white dark:text-black/70"><!></div> <div class="text-3xl font-bold text-90"> </div></div> <!></div> <div class="relative flex"><div class="relative flex-1"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><!></div> <input type="text" class="block w-full p-4 pl-10 text-sm bg-transparent border border-black/10 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-(--primary) focus:border-(--primary) hover:border-black/20 dark:hover:border-white/20 text-75 placeholder:opacity-50 transition-colors outline-hidden"/></div></div></div> <div class="grid grid-cols-1 gap-4"><div><!></div></div>',1);function D(h,D){v(D,!1);let N=e(D,"title",24,()=>s(_.search)),U=e(D,"description",8,""),W=y(""),F=y([]),G=y(!1),H=!1;E("/"),E("/");const J=async()=>{if(H&&l(W).trim()){m(G,!0);try{if(window.pagefind){const e=await window.pagefind.search(l(W)),a=await Promise.all(e.results.map(e=>e.data()));m(F,a)}else 0}catch(e){console.error("Search error:",e),m(F,[])}finally{m(G,!1)}}else m(F,[])};let K;a(()=>{const e=async()=>{H=!0;const e=(()=>{if("undefined"!=typeof window)return new URLSearchParams(window.location.search).get("q")||"";return""})();e&&m(W,e),l(W).trim()&&await J()};window.pagefind?e():document.addEventListener("pagefindready",e,{once:!0})});i();var M=C(),O=o(M),Q=g(O),V=g(Q),X=g(V),Y=g(X);j(Y,{icon:"material-symbols:search",class:"text-[1.5rem]"}),w(X);var Z=f(X,2),$=g(Z,!0);w(Z),w(V);var ee=f(V,2),ae=e=>{var a=L(),s=g(a,!0);w(a),d(()=>b(s,U())),n(e,a)};k(ee,e=>{U()&&e(ae)}),w(Q);var se=f(Q,2),re=g(se),te=g(re),ie=g(te);j(ie,{icon:"material-symbols:search",class:"text-2xl text-50"}),w(te);var oe=f(te,2);t(oe),w(re),w(se),w(O);var de=f(O,2),le=g(de),ce=g(le),ne=e=>{var a=P(),s=g(a);j(s,{icon:"svg-spinners:ring-resize",class:"text-4xl text-(--primary)"}),w(a),n(e,a)},pe=e=>{var a=q();z(a,5,()=>l(F),I,(e,a)=>{var s=R(),t=g(s),i=g(t),o=g(i);T(o,()=>(l(a),x(()=>l(a).meta.title))),w(i);var c=f(i,2),p=g(c);T(p,()=>(l(a),x(()=>l(a).excerpt))),w(c),w(t),w(s),d(()=>r(t,"href",(l(a),x(()=>l(a).url)))),n(e,s)}),w(a),n(e,a)},ve=e=>{var a=A(),r=g(a,!0);w(a),d(e=>b(r,e),[()=>(u(s),u(_),x(()=>s(_.searchNoResults)))]),n(e,a)},me=e=>{var a=B(),r=g(a,!0);w(a),d(e=>b(r,e),[()=>(u(s),u(_),x(()=>s(_.searchTypeSomething)))]),n(e,a)};k(ce,e=>{l(G)?e(ne):(l(F),x(()=>l(F).length>0)?e(pe,1):l(W)?e(ve,2):e(me,!1))}),w(le),w(de),d(e=>{b($,N()),r(oe,"placeholder",e)},[()=>(u(s),u(_),x(()=>s(_.search)))]),S(oe,()=>l(W),e=>m(W,e)),c("input",oe,()=>{clearTimeout(K),K=setTimeout(()=>{J()},300)}),n(h,M),p()}export{D as default};
