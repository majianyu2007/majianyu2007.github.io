import{s as e}from"./zh_TW.49pB-Yd8.js";const t={mode:"banner",banner:{homeText:{enable:!0},navbar:{transparentMode:"semifull",enableBlur:!0},waves:{enable:{desktop:!0,mobile:!0},switchable:!0}}},n={darkTheme:"one-dark-pro",lightTheme:"one-light"},a="light",o="dark",r="system",s="banner",l="overlay",d="none",i=35,c=30,m=65,u=e=>{const t="/",n=t.endsWith("/")?t.slice(0,-1):t;return e===t||(e===n||"/"===e)};function p(){if("undefined"==typeof document)return Number.parseInt("250",10);const e=document.getElementById("config-carrier");return Number.parseInt(e?.dataset.hue||"250",10)}function f(){return e.themeColor.defaultMode}function y(e){return e===r?"undefined"==typeof window?a:window.matchMedia("(prefers-color-scheme: dark)").matches?o:a:e}function b(){if("undefined"==typeof window||!window.localStorage)return p();const e=localStorage.getItem("hue");return e?Number.parseInt(e,10):p()}function w(e){if("undefined"==typeof window||!window.localStorage||"undefined"==typeof document)return;localStorage.setItem("hue",String(e));const t=document.querySelector(":root");t&&t.style.setProperty("--hue",String(e))}function g(e){if("undefined"==typeof document)return;const t=y(e),r=document.documentElement.classList.contains("dark"),s=document.documentElement.getAttribute("data-theme");let l=!1;switch(t){case a:l=!1;break;case o:l=!0;break;default:l=r}const d=r!==l,i=l?n.darkTheme:n.lightTheme,c=s!==i;(d||c)&&(d&&(l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),c&&document.documentElement.setAttribute("data-theme",i))}let h=null;function v(e){"undefined"!=typeof localStorage&&"function"==typeof localStorage.setItem&&(g(e),localStorage.setItem("theme",e),e===r?S():L())}function S(){if(L(),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{const t=e.matches;if(document.documentElement.classList.contains("dark")===t)return;t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const a=t?n.darkTheme:n.lightTheme;document.documentElement.setAttribute("data-theme",a),window.dispatchEvent(new CustomEvent("theme-change"))};t(e),e.addEventListener?e.addEventListener("change",t):e.addListener(t),h=t}function L(){if("undefined"==typeof window||!h)return;const e=window.matchMedia("(prefers-color-scheme: dark)");e.removeEventListener?e.removeEventListener("change",h):e.removeListener(h),h=null}function E(){return"undefined"==typeof localStorage||"function"!=typeof localStorage.getItem?f():localStorage.getItem("theme")||f()}function I(){if("undefined"==typeof localStorage||"function"!=typeof localStorage.getItem)return;E()===r&&S()}function k(e){(document.documentElement.getAttribute("data-wallpaper-mode")||t.mode)!==e?(document.documentElement.classList.add("is-wallpaper-transitioning"),document.documentElement.setAttribute("data-wallpaper-mode",e),requestAnimationFrame(()=>{const t=document.body;switch(t.classList.remove("enable-banner","wallpaper-transparent"),e){case s:t.classList.add("enable-banner"),B();break;case l:t.classList.add("wallpaper-transparent"),A();break;default:q()}T(e),requestAnimationFrame(()=>{document.documentElement.classList.remove("is-wallpaper-transitioning")})})):function(e){const t=document.body;switch(t.classList.remove("enable-banner","wallpaper-transparent"),e){case s:t.classList.add("enable-banner"),B();break;case l:t.classList.add("wallpaper-transparent"),A();break;case d:q()}T(e)}(e)}function B(){const e=document.getElementById("wallpaper-wrapper");if(e){e.classList.remove("wallpaper-overlay"),e.style.top="-30vh";const t=u(window.location.pathname);window.innerWidth<1024&&!t?(e.style.display="none",e.classList.add("mobile-hide-banner")):(e.style.display="block",e.style.setProperty("display","block","important"),requestAnimationFrame(()=>{e.classList.remove("hidden"),e.classList.remove("opacity-0"),e.classList.add("opacity-100"),e.classList.remove("mobile-hide-banner")}))}const n=document.getElementById("banner-credit-desktop"),a=document.getElementById("banner-credit-mobile");n&&(n.style.display=""),a&&(a.style.display="");const o=document.querySelector(".banner-home-text-overlay");if(o){u(window.location.pathname)?o.classList.remove("hidden"):o.classList.add("hidden")}M("banner");const r=document.querySelector(".absolute.w-full.z-30");if(r){const e=u(window.location.pathname);window.innerWidth<1024&&!e?r.classList.add("mobile-main-no-banner"):r.classList.remove("mobile-main-no-banner")}x(!1);const s=document.getElementById("navbar");if(s){const e=t.banner?.navbar?.transparentMode;s.setAttribute("data-transparent-mode",e),"function"==typeof window.initSemifullScrollDetection&&window.initSemifullScrollDetection()}}function A(){const e=document.getElementById("wallpaper-wrapper");e&&(e.classList.add("wallpaper-overlay"),e.style.display="block",e.style.setProperty("display","block","important"),e.style.top="",requestAnimationFrame(()=>{e.classList.remove("hidden"),e.classList.remove("opacity-0"),e.classList.add("opacity-100"),e.classList.remove("mobile-hide-banner")}));const t=document.getElementById("banner-credit-desktop"),n=document.getElementById("banner-credit-mobile");t&&(t.style.display="none"),n&&(n.style.display="none");const a=document.querySelector(".banner-home-text-overlay");a&&a.classList.add("hidden"),x(!0),M("overlay")}function q(){const e=document.getElementById("wallpaper-wrapper");e&&(e.style.display="none",e.classList.add("hidden"),e.classList.add("opacity-0"),e.classList.remove("wallpaper-overlay"));const t=document.getElementById("banner-credit-desktop"),n=document.getElementById("banner-credit-mobile");t&&(t.style.display="none"),n&&(n.style.display="none");const a=document.querySelector(".banner-home-text-overlay");a&&a.classList.add("hidden"),M("none"),x(!1)}function T(e){const n=document.getElementById("navbar");if(!n)return;let a,o;e===l||e===d?(a="none",o=!1):(a=t.banner?.navbar?.transparentMode,o=t.banner?.navbar?.enableBlur),n.setAttribute("data-transparent-mode",a),n.setAttribute("data-enable-blur",String(o)),n.classList.remove("navbar-transparent-semi","navbar-transparent-full","navbar-transparent-semifull"),n.classList.remove("scrolled"),"semifull"===a&&e===s&&"function"==typeof window.initSemifullScrollDetection?window.initSemifullScrollDetection():window.semifullScrollHandler&&(window.removeEventListener("scroll",window.semifullScrollHandler),delete window.semifullScrollHandler)}function M(e){const t=document.querySelector(".absolute.w-full.z-30");if(t)switch(t.classList.remove("mobile-main-no-banner","no-banner-layout"),e){case"banner":t.style.top="calc(var(--banner-height) - 3rem)";break;case"overlay":case"none":t.classList.add("no-banner-layout"),t.style.top="5.5rem";break;default:t.style.top="5.5rem"}}function x(e){const t=document.querySelector(".absolute.w-full.z-30"),n=document.body;t&&n&&(e?(t.classList.add("wallpaper-transparent"),n.classList.add("wallpaper-transparent")):(t.classList.remove("wallpaper-transparent"),n.classList.remove("wallpaper-transparent")))}function W(e){"undefined"!=typeof localStorage&&"function"==typeof localStorage.setItem&&(localStorage.setItem("wallpaperMode",e),k(e))}function D(){k(z())}function z(){return"undefined"==typeof localStorage||"function"!=typeof localStorage.getItem?t.mode:localStorage.getItem("wallpaperMode")||t.mode}function F(){const e=t.banner?.waves?.enable;if("object"==typeof e){return"undefined"!=typeof window&&window.innerWidth<768?e.mobile:e.desktop}return e??!1}function j(){if("undefined"==typeof localStorage||"function"!=typeof localStorage.getItem)return F();const e=localStorage.getItem("wavesEnabled");return null===e?F():"true"===e}function C(e){"undefined"!=typeof localStorage&&"function"==typeof localStorage.setItem&&(localStorage.setItem("wavesEnabled",String(e)),function(e){if("undefined"==typeof document)return;document.documentElement.setAttribute("data-waves-enabled",String(e));const t=document.getElementById("header-waves");t&&(e?(t.style.display="",t.classList.remove("waves-disabled")):(t.style.display="none",t.classList.add("waves-disabled")))}(e))}function H(){return t.banner?.homeText?.enable}function N(){if("undefined"==typeof localStorage||"function"!=typeof localStorage.getItem)return H();const e=localStorage.getItem("bannerTitleEnabled");return null===e?H():"true"===e}function P(e){"undefined"!=typeof localStorage&&"function"==typeof localStorage.setItem&&(localStorage.setItem("bannerTitleEnabled",String(e)),function(e){if("undefined"==typeof document)return;document.documentElement.setAttribute("data-banner-title-enabled",String(e));const t=document.querySelector(".banner-home-text-overlay");t&&(e?t.classList.remove("user-hidden"):t.classList.add("user-hidden"))}(e))}export{c as B,o as D,a as L,r as S,s as W,p as a,F as b,z as c,j as d,N as e,t as f,b as g,l as h,d as i,W as j,P as k,C as l,H as m,D as n,I as o,n as p,m as q,i as r,w as s,E as t,g as u,v};
