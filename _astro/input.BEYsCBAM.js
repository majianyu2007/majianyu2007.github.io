import{l as e,k as a,u as l,n,o as t,q as u,v as r}from"./render.BkFXjsAB.js";function v(v,o,c=o){var d=new WeakSet;e(v,"input",async e=>{var l=e?v.defaultValue:v.value;if(l=i(v)?s(l):l,c(l),null!==u&&d.add(u),await a(),l!==(l=o())){var n=v.selectionStart,t=v.selectionEnd,r=v.value.length;if(v.value=l??"",null!==t){var f=v.value.length;n===t&&t===r&&f>r?(v.selectionStart=f,v.selectionEnd=f):(v.selectionStart=n,v.selectionEnd=Math.min(t,f))}}}),(t&&v.defaultValue!==v.value||null==l(o)&&v.value)&&(c(i(v)?s(v.value):v.value),null!==u&&d.add(u)),n(()=>{var e=o();if(v===document.activeElement){var a=r??u;if(d.has(a))return}i(v)&&e===s(v.value)||("date"!==v.type||e||v.value)&&e!==v.value&&(v.value=e??"")})}function i(e){var a=e.type;return"number"===a||"range"===a}function s(e){return""===e?null:+e}export{v as b};
